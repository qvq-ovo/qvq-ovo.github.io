<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Acwingæ ‘çŠ¶æ•°ç»„</title>
      <link href="/2023/04/07/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek6/Acwing%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84/"/>
      <url>/2023/04/07/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek6/Acwing%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>æ ‘çŠ¶æ•°ç»„:<br>ä¸¤ä¸ªåŸºæœ¬æ“ä½œ:<code>O(lg n)</code><br>1: ä¿®æ”¹æŸä¸ªæ•°<br>2: å¿«é€Ÿæ±‚å‰ç¼€å’Œ</p><p>åŸºæœ¬æ€æƒ³: äºŒè¿›åˆ¶æ‹†åˆ†.(äºŒè¿›åˆ¶æ˜¯çœŸçš„ç‰›)</p><p><a href="https://www.acwing.com/solution/content/13818/">æ ‘çŠ¶æ•°ç»„åŸºæœ¬ä»‹ç»</a></p></div><div class="note success no-icon flat"><p>æ ‘çŠ¶æ•°ç»„3æ¿æ–§:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸæ•°ç»„(ä»1å¼€å§‹)</span></span><br><span class="line"><span class="type">int</span> a[N],n;</span><br><span class="line"><span class="comment">// æ ‘çŠ¶æ•°ç»„</span></span><br><span class="line"><span class="type">int</span> tr[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// lowbit</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lowbit</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x &amp; -x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// kä½ç½®ä¸ŠåŠ x</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">add</span><span class="params">(<span class="type">int</span> k,<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = k;i &lt;= n;i += <span class="built_in">lowbit</span>(i))&#123;</span><br><span class="line">        tr[i] += x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‰kä¸ªæ•°å’Œ</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">sum</span><span class="params">(<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = k;i;i -= <span class="built_in">lowbit</span>(i)) res += tr[i];</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></div><h2 id="241-æ¥¼å…°å›¾è…¾"><a href="#241-æ¥¼å…°å›¾è…¾" class="headerlink" title="241. æ¥¼å…°å›¾è…¾"></a>241. æ¥¼å…°å›¾è…¾</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230407/20230407_1.jpg" alt="æ¥¼å…°å›¾è…¾"></p><p>æ ‘çŠ¶æ•°ç»„çš„ç»å…¸åº”ç”¨é¢˜.<br>åˆ†æé¢˜ç›®å¾ˆå®¹æ˜“å¾—å‡ºæš´åŠ›çš„<code>n^2</code>æ˜¯è¿‡ä¸äº†çš„.<br>ç®€å•çš„æ¥è®²,æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæŸ¥è¯¢å‰ç¼€å’Œ + ä¿®æ”¹æŸæ•° éƒ½æ˜¯<code>O(lg n)</code>çº§åˆ«çš„ç®—æ³•.<br>æ ‘çŠ¶æ•°ç»„ä¸å°±æ¥äº†.</p><p>æœ¬é¢˜ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">200010</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸæ•°ç»„</span></span><br><span class="line"><span class="type">int</span> a[N],n;</span><br><span class="line"><span class="comment">// æ ‘çŠ¶æ•°ç»„</span></span><br><span class="line"><span class="type">int</span> tr[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¯”xå°çš„ä¸ªæ•° æ¯”xå¤§çš„ä¸ªæ•°</span></span><br><span class="line"><span class="type">int</span> Lower[N],Greater[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// lowbit</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lowbit</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x &amp; -x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// kä½ç½®ä¸ŠåŠ x</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">add</span><span class="params">(<span class="type">int</span> k,<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = k;i &lt;= n;i += <span class="built_in">lowbit</span>(i))&#123;</span><br><span class="line">        tr[i] += x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‰kä¸ªæ•°å’Œ</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">sum</span><span class="params">(<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = k;i;i -= <span class="built_in">lowbit</span>(i)) res += tr[i];</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ­£å‘æ±‚ä¸€é</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> y = a[i];</span><br><span class="line">        <span class="comment">// å‰é¢æ¯”yå°çš„ä¸ªæ•°</span></span><br><span class="line">        Lower[i] = <span class="built_in">sum</span>(y - <span class="number">1</span>);</span><br><span class="line">        <span class="comment">// å‰é¢æ¯”yå¤§çš„ä¸ªæ•°</span></span><br><span class="line">        Greater[i] = <span class="built_in">sum</span>(n) - <span class="built_in">sum</span>(y);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ·»åŠ </span></span><br><span class="line">        <span class="built_in">add</span>(y,<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    LL resA = <span class="number">0</span>,resV = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// åå‘æ±‚ä¸€é</span></span><br><span class="line">    <span class="built_in">memset</span>(tr,<span class="number">0</span>,<span class="keyword">sizeof</span> tr);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = n;i;i --)&#123;</span><br><span class="line">        <span class="type">int</span> y = a[i];</span><br><span class="line">        </span><br><span class="line">        resA += (LL)Lower[i] * <span class="built_in">sum</span>(y - <span class="number">1</span>);</span><br><span class="line">        resV += (LL)Greater[i] * (<span class="built_in">sum</span>(n) - <span class="built_in">sum</span>(y));</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">add</span>(y,<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld %lld\n&quot;</span>,resV,resA);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="1215-å°æœ‹å‹æ’é˜Ÿ"><a href="#1215-å°æœ‹å‹æ’é˜Ÿ" class="headerlink" title="1215. å°æœ‹å‹æ’é˜Ÿ"></a>1215. å°æœ‹å‹æ’é˜Ÿ</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230407/20230407_2.jpg" alt="å°æœ‹å‹æ’é˜Ÿ"></p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwingæ ‘å½¢DP</title>
      <link href="/2023/04/06/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek6/Acwing%E6%A0%91%E5%BD%A2DP/"/>
      <url>/2023/04/06/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek6/Acwing%E6%A0%91%E5%BD%A2DP/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>æ ‘å½¢DP,å¾ˆæ˜æ˜¾æ˜¯åœ¨æ ‘çš„ç»“æ„ä¸Šè¿›è¡Œé€’æ¨çš„ä¸€ç§åŠ¨æ€è§„åˆ’.</p><p>æ›´å½¢è±¡çš„æ¥è®²: ç”¨DPæ€æƒ³å’Œæ–¹å¼ä¼˜åŒ–DFS.</p></div><h2 id="1079-å¶å­çš„é¢œè‰²"><a href="#1079-å¶å­çš„é¢œè‰²" class="headerlink" title="1079. å¶å­çš„é¢œè‰²"></a>1079. å¶å­çš„é¢œè‰²</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230406/20230406_4.jpg" alt="å¶å­çš„é¢œè‰²"></p><div class="note info no-icon flat"><p>yæ°åˆ†æ:<br>å¯¹äºä¸€ä¸ªä¸€èˆ¬æ€§çš„å­æ ‘: æ ¹èŠ‚ç‚¹ä¸ºp,æœ‰S1~Skä¸ªå­èŠ‚ç‚¹.<br>å«ä¹‰:<br>f(p,æ— è‰²) : pæ ‘ä¸­ç¬¦åˆæ¡ä»¶ä¸”pç‚¹ä¸æ¶‚è‰²çš„æ–¹æ¡ˆé›†åˆ ä¸­ä»£ä»·æœ€å°å€¼.<br>â€¦</p><p>æ”¾å¼ƒäº†.</p></div><p>è¿™é“é¢˜ä»é¢˜ç›®å¼€å§‹å°±éå¸¸çš„å›°éš¾.</p><h2 id="285-æ²¡æœ‰ä¸Šå¸çš„èˆä¼š"><a href="#285-æ²¡æœ‰ä¸Šå¸çš„èˆä¼š" class="headerlink" title="285. æ²¡æœ‰ä¸Šå¸çš„èˆä¼š"></a>285. æ²¡æœ‰ä¸Šå¸çš„èˆä¼š</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230406/20230406_5.jpg" alt="æ²¡æœ‰ä¸Šå¸çš„èˆä¼š"></p><p>æ€ä¹ˆè¯´å‘¢,è¿™é“é¢˜æˆ‘æ›´å€¾å‘äºä½¿ç”¨è®°å¿†åŒ–æœç´¢.<br>æ ‘å½¢DPâ€¦åŒä¸€æ€è·¯å§.</p><div class="note success no-icon flat"><p>æ€è·¯:<br>1: å¦‚æœé€‰æ‹©rootèŠ‚ç‚¹: ä¸‹ä¸€å±‚çš„å°±ä¸èƒ½é€‰rootèŠ‚ç‚¹<br>2: å¦‚æœé€‰æ‹©rootèŠ‚ç‚¹: ä¸‹ä¸€å±‚å°±éšæ„é€‰æ‹©.</p></div><h3 id="è®°å¿†åŒ–æœç´¢"><a href="#è®°å¿†åŒ–æœç´¢" class="headerlink" title="è®°å¿†åŒ–æœç´¢"></a>è®°å¿†åŒ–æœç´¢</h3><p>ä»ä¸Šé¢åˆ†æå¯çŸ¥,ä¸‹ä¸€å±‚ä¸é€‰rootçš„æƒ…å†µ1å·²ç»éå†è¿‡,2å¯ä»¥ç›´æ¥ä½¿ç”¨.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">6010</span>,M = <span class="number">2</span> * N;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> w[N];</span><br><span class="line"><span class="type">int</span> cnt[N];</span><br><span class="line"><span class="type">int</span> h[N],e[M],ne[M],idx;</span><br><span class="line"><span class="type">int</span> dp[N][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> flag)</span></span>&#123;</span><br><span class="line">    <span class="comment">// è®°å¿†åŒ–è¾“å‡º</span></span><br><span class="line">    <span class="keyword">if</span>(~dp[u][flag]) <span class="keyword">return</span> dp[u][flag];</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(flag) ans = w[u];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = h[u];~i;i = ne[i])&#123;</span><br><span class="line">        <span class="type">int</span> j = e[i];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(flag) ans += <span class="built_in">dfs</span>(j,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">else</span> ans += <span class="built_in">max</span>(<span class="built_in">dfs</span>(j,<span class="number">1</span>),<span class="built_in">dfs</span>(j,<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è®°å¿†</span></span><br><span class="line">    dp[u][flag] = ans;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    <span class="built_in">memset</span>(dp,<span class="number">-1</span>,<span class="keyword">sizeof</span> dp);</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) cin&gt;&gt;w[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        cnt[a] ++;</span><br><span class="line">        <span class="built_in">add</span>(b,a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> root = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!cnt[i])&#123;</span><br><span class="line">            root = i;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é€‰</span></span><br><span class="line">    <span class="built_in">dfs</span>(root,<span class="number">1</span>);</span><br><span class="line">    <span class="comment">// ä¸é€‰</span></span><br><span class="line">    <span class="built_in">dfs</span>(root,<span class="number">0</span>);</span><br><span class="line">    </span><br><span class="line">    cout&lt;&lt;<span class="built_in">max</span>(dp[root][<span class="number">0</span>],dp[root][<span class="number">1</span>])&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="dpè§£æ³•"><a href="#dpè§£æ³•" class="headerlink" title="dpè§£æ³•"></a>dpè§£æ³•</h3><p>ä¸¤ç§çŠ¶æ€è½¬æ¢.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">6010</span>,M = <span class="number">2</span> * N;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> w[N];</span><br><span class="line"><span class="type">int</span> cnt[N];</span><br><span class="line"><span class="type">int</span> h[N],e[M],ne[M],idx;</span><br><span class="line"><span class="type">int</span> dp[N][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u)</span></span>&#123;</span><br><span class="line">    <span class="comment">// é€‰</span></span><br><span class="line">    dp[u][<span class="number">1</span>] = w[u];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = h[u];~i;i = ne[i])&#123;</span><br><span class="line">        <span class="type">int</span> j = e[i];</span><br><span class="line">        <span class="built_in">dfs</span>(j);</span><br><span class="line">        dp[u][<span class="number">1</span>] += dp[j][<span class="number">0</span>];</span><br><span class="line">        dp[u][<span class="number">0</span>] += <span class="built_in">max</span>(dp[j][<span class="number">0</span>],dp[j][<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) cin&gt;&gt;w[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        cnt[a] ++;</span><br><span class="line">        <span class="built_in">add</span>(b,a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> root = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!cnt[i])&#123;</span><br><span class="line">            root = i;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">dfs</span>(root);</span><br><span class="line">    </span><br><span class="line">    cout&lt;&lt;<span class="built_in">max</span>(dp[root][<span class="number">0</span>],dp[root][<span class="number">1</span>])&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="323-æˆ˜ç•¥æ¸¸æˆ"><a href="#323-æˆ˜ç•¥æ¸¸æˆ" class="headerlink" title="323. æˆ˜ç•¥æ¸¸æˆ"></a>323. æˆ˜ç•¥æ¸¸æˆ</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230406/20230406_6.jpg" alt="æˆ˜ç•¥æ¸¸æˆ"></p><p>å’Œä¸Šä¸€é¢˜ä¸€æ ·,å¦‚æœå½“å‰rootæ²¡äºº,ä¸‹ä¸€ä¸ªç‚¹å¿…é¡»æœ‰äºº.<br>å¦‚æœå½“å‰rootæœ‰äºº, ä¸‹ä¸€ä¸ªç‚¹éšæ„.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1510</span>,M = <span class="number">2</span> * N,INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> h[N],e[M],ne[M],idx;</span><br><span class="line"><span class="type">int</span> dp[N][<span class="number">2</span>];</span><br><span class="line"><span class="type">int</span> cnt[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u)</span></span>&#123;</span><br><span class="line">    dp[u][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    dp[u][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = h[u];~i;i = ne[i])&#123;</span><br><span class="line">        <span class="type">int</span> j = e[i];</span><br><span class="line">        <span class="built_in">dfs</span>(j);</span><br><span class="line">        dp[u][<span class="number">0</span>] += dp[j][<span class="number">1</span>];</span><br><span class="line">        dp[u][<span class="number">1</span>] += <span class="built_in">min</span>(dp[j][<span class="number">1</span>],dp[j][<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(cin&gt;&gt;n)&#123;</span><br><span class="line">        <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">        <span class="built_in">memset</span>(cnt,<span class="number">0</span>,<span class="keyword">sizeof</span> cnt);</span><br><span class="line">        idx = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">            <span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d:(%d)&quot;</span>,&amp;a,&amp;t);</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; t;j ++)&#123;</span><br><span class="line">                cin&gt;&gt;b;</span><br><span class="line">                <span class="built_in">add</span>(a,b);</span><br><span class="line">                cnt[b] ++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> root = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!cnt[i])&#123;</span><br><span class="line">                root = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">dfs</span>(root);</span><br><span class="line">        cout&lt;&lt;<span class="built_in">min</span>(dp[root][<span class="number">1</span>],dp[root][<span class="number">0</span>])&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ ‘å½¢DPæœ€é‡è¦ä¸€ç‚¹: ç”¨å­èŠ‚ç‚¹å€¼æ›´æ–°æ ¹çš„å€¼.</p><h2 id="1220-ç”Ÿå‘½ä¹‹æ ‘"><a href="#1220-ç”Ÿå‘½ä¹‹æ ‘" class="headerlink" title="1220. ç”Ÿå‘½ä¹‹æ ‘"></a>1220. ç”Ÿå‘½ä¹‹æ ‘</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230406/20230406_7.jpg" alt="ç”Ÿå‘½ä¹‹æ ‘"></p><p>æ ‘å½¢DPæ±‚æœ€å¤§è¿é€šå’Œ.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>,M = <span class="number">2</span> * N,INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> w[N];</span><br><span class="line"><span class="type">int</span> h[N],e[M],ne[M],idx;</span><br><span class="line"></span><br><span class="line"><span class="comment">// dp[u] è¡¨ç¤ºåŒ…æ‹¬uç‚¹åŠå…¶æ‰€æœ‰å­æ ‘çš„æœ€å¤§åˆ†æ•°</span></span><br><span class="line">LL dp[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> fa)</span></span>&#123;</span><br><span class="line">    dp[u] = w[u];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = h[u];~i;i = ne[i])&#123;</span><br><span class="line">        <span class="type">int</span> j = e[i];</span><br><span class="line">        <span class="keyword">if</span>(j == fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs</span>(j,u);</span><br><span class="line">        dp[u] += <span class="built_in">max</span>(<span class="number">0ll</span>,dp[j]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;w[i]);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n - <span class="number">1</span>;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;a,&amp;b);</span><br><span class="line">        <span class="built_in">add</span>(a,b),<span class="built_in">add</span>(b,a);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">1</span>,<span class="number">-1</span>);</span><br><span class="line">    LL res = -INF;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) res = <span class="built_in">max</span>(res,dp[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,res);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AcwingåŒºé—´DP</title>
      <link href="/2023/04/05/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek6/Acwing%E5%8C%BA%E9%97%B4DP/"/>
      <url>/2023/04/05/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek6/Acwing%E5%8C%BA%E9%97%B4DP/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>åŒºé—´DP.æŒ‡è½¬ç§»æ–¹ç¨‹æ˜¯åœ¨åŒºé—´ä¸Šæ“ä½œçš„.(è¯´äº†æ²¡è¯´)</p><p>åŒºé—´DPçš„éå†æ–¹å¼å¾ˆç‹¬ç‰¹:<br>ä¸€èˆ¬æ¥è®²,åŒºé—´dpæ‰€æ±‚çš„ç»“æœä¸º:<code>dp[1][n]</code>.<br>è€Œä¸”è½¬ç§»æ–¹ç¨‹ä¸€èˆ¬æ˜¯<code>dp[i][j], dp[i + 1][j], dp[i][j - 1], dp[i - 1][j - 1]</code>è¿™å‡ ä¸ªä¹‹é—´çš„å…³ç³».</p><p>å› æ­¤,åŒºé—´DPçš„éå†æ–¹å‘æ˜¯ è‡ªä¸‹è€Œä¸Š,è‡ªå·¦å‘å³.æˆ–è€… éå†é•¿åº¦ + åŒºé—´èµ·ç‚¹.</p><p>æœ‰ä¸¤å¥—éå†æ¨¡æ¿:</p><p>1: <strong>éå†é•¿åº¦ + åŒºé—´èµ·ç‚¹</strong>:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éå†åŒºé—´é•¿ + åŒºé—´èµ·ç‚¹</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> len = <span class="number">2</span>;len &lt;= n;len ++)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i + len - <span class="number">1</span> &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> l = i,r = i + len - <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>2: <strong>è‡ªä¸‹è€Œä¸Š,è‡ªå·¦åˆ°å³</strong>:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è‡ªä¸‹è€Œä¸Š,è‡ªå·¦è€Œå³</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = n - <span class="number">1</span>;i;i --)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = i;j &lt;= n;j ++)&#123;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></div><h2 id="3996-æ¶‚è‰²"><a href="#3996-æ¶‚è‰²" class="headerlink" title="3996. æ¶‚è‰²"></a>3996. æ¶‚è‰²</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230406/20230406_1.jpg" alt="æ¶‚è‰²"></p><p>åŒºé—´å¾ˆæ˜æ˜¾å§,è€Œä¸”å¦‚æœæ¨¡æ‹Ÿçš„è¯æœ€å<code>5000 * 5000 * 5000</code>.æ—¶é—´è‚¯å®šæ˜¯ä¸å¤Ÿçš„.</p><p>yæ°åˆ†æ:<br>å«ä¹‰:<br><code>dp[i][j]</code> å°†[i,j]åˆå¹¶åˆ°ç»Ÿä¸€é¢œè‰²çš„æ–¹æ¡ˆé›†åˆ çš„æ“ä½œæœ€å°å€¼.<br>è®¡ç®—:<br>è€ƒè™‘æœ€åä¸€æ­¥: c[i], c[j].<br>å¦‚æœ<code>c[i] == c[j]</code>: dp[i + 1][j - 1] + 1<br>å¦‚æœ<code>c[i] != c[j]</code>:<br>æœ‰ä¸¤ç§é€‰æ‹©:<br>1: å…ˆåˆå¹¶<code>c[j]</code>ååˆå¹¶<code>c[i]</code>: dp[i + 1][j] + 1.<br>2: å…ˆåˆå¹¶<code>c[i]</code>ååˆå¹¶<code>c[j]</code>: dp[i][j - 1] + 1.<br>ä¸¤ç§é€‰æœ€å°å€¼.</p><p>å› æ­¤:<br><code>dp[i][j] = dp[i + 1][j - 1] + 1, c[i] == c[j]</code>.<br><code>dp[i][j] = min(dp[i + 1][j],dp[i][j - 1]) + 1,c[i] != c[j]</code>.</p><p>è€ƒè™‘è¾¹ç•Œæƒ…å†µ:<br>dp[i][i] = 0;</p><p>æ³¨æ„ç‚¹:<br>è½¬ç§»æ–¹ç¨‹å®Œå…¨å°±æ²¡æœ‰è€ƒè™‘æ“ä½œèµ·ç‚¹çš„é€‰æ‹©.<br>æˆ–è€…è¯´,åœ¨éå†len=2æ—¶,å°±å·²ç»è€ƒè™‘å…¨éƒ¨ç‚¹åšèµ·ç‚¹çš„æƒ…å†µ.</p><p>æœ¬é¢˜ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">5010</span>;</span><br><span class="line"><span class="type">int</span> dp[N][N];</span><br><span class="line"><span class="type">int</span> c[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        cin&gt;&gt;c[i];</span><br><span class="line">        <span class="keyword">if</span>(i != <span class="number">1</span> &amp;&amp; c[i] == c[i - <span class="number">1</span>]) i --,n --;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// éå†é•¿åº¦ + åŒºé—´èµ·ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> len = <span class="number">2</span>;len &lt;= n;len ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i + len - <span class="number">1</span> &lt;= n;i ++)&#123;</span><br><span class="line">            <span class="type">int</span> l = i,r = i + len - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(c[l] == c[r]) dp[l][r] = dp[l + <span class="number">1</span>][r - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> dp[l][r] = <span class="built_in">min</span>(dp[l + <span class="number">1</span>][r],dp[l][r - <span class="number">1</span>]) + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;dp[<span class="number">1</span>][n]&lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="320-èƒ½é‡é¡¹é“¾"><a href="#320-èƒ½é‡é¡¹é“¾" class="headerlink" title="320. èƒ½é‡é¡¹é“¾"></a>320. èƒ½é‡é¡¹é“¾</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230406/20230406_2.jpg" alt="èƒ½é‡é¡¹é“¾"></p><div class="note info no-icon flat"><p>æ€ä¹ˆè¯´,çŸ©é˜µè¿ä¹˜æ³•å˜å½¢.<br>æ²¡æƒ³åˆ°å§,çŸ©é˜µä¹˜ä¹Ÿæ˜¯åŒºé—´DP.</p><p>è¿™é‡Œæœ‰ç¯,æ€ä¹ˆå¤„ç†èµ·ç‚¹: <mark>æ‰©å±•ä¸€å€</mark><code>w[i + n] == w[i]</code>.<br>è¿™æ ·å°±å°†ç¯å±•å¼€æˆé•¿ä¸º<code>2n</code>çš„é“¾äº†.<br>è½¬åŒ–ä¸ºæ±‚<code>dp[i][i + n]</code>.</p><p>yæ°åˆ†æ:<br>å«ä¹‰: <code>dp[i][j]</code>è¡¨ç¤ºåˆå¹¶iåˆ°jä¸ªçŸ©é˜µçš„æ–¹æ¡ˆé›†åˆ çš„ ä»·å€¼æœ€å¤§å€¼.<br>è®¡ç®—: åˆ†ææœ€åä¸€æ­¥: i ,j<br>i,jä¹‹é—´å­˜åœ¨k,<br><code>dp[i][j] = max(dp[i][k] + dp[k][j] + w[i] * w[k] * w[j])</code>.</p><p>æ³¨æ„å•Š,è¿™ä¸­é—´çš„<strong>åˆ’åˆ†çº¿</strong>æ˜¯ä¸¤è¾¹å…±ç”¨çš„.(å¹¶ä¸æ˜¯ä¹‹å‰é‚£ç§ä¸å…±ç”¨).</p><p>è¿™ä¸ªè½¬ç§»æ–¹ç¨‹å’ŒçŸ©é˜µè¿ä¹˜çš„å‡ ä¹ä¸€æ‘¸ä¸€æ ·.</p></div><p>æœ¬é¢˜ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">22</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> w[N];</span><br><span class="line"><span class="type">int</span> dp[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        cin&gt;&gt;w[i];</span><br><span class="line">        w[i + n] = w[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> len = <span class="number">3</span>;len &lt;= n + <span class="number">1</span>;len ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i + len - <span class="number">1</span> &lt;= <span class="number">2</span> * n;i ++)&#123;</span><br><span class="line">            <span class="type">int</span> l = i,r = i + len - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = l + <span class="number">1</span>;k &lt; r;k ++)&#123;</span><br><span class="line">                dp[l][r] = <span class="built_in">max</span>(dp[l][r],dp[l][k] + dp[k][r] + w[l] * w[k] * w[r]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        res = <span class="built_in">max</span>(res,dp[i][i + n]);</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ³¨æ„å“¦,è¿™é“é¢˜çš„åŒºé—´é•¿åº¦æ¯”è¾ƒç‰¹æ®Šå“¦,å› ä¸ºæ˜¯ä¸¤ä¸¤çŸ©é˜µç›¸ä¹˜,æ‰€ä»¥æ˜¯ä»3å¼€å§‹.<br>å› ä¸ºè¦å¤„ç†æ‰ç¯æ‰€ä»¥æ˜¯<code>[i,i + n]</code>,é•¿åº¦æœ€å¤§ä¸º<code>n + 1</code>.</p><h2 id="479-åŠ åˆ†äºŒå‰æ ‘"><a href="#479-åŠ åˆ†äºŒå‰æ ‘" class="headerlink" title="479. åŠ åˆ†äºŒå‰æ ‘"></a>479. åŠ åˆ†äºŒå‰æ ‘</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230406/20230406_3.jpg" alt="åŠ åˆ†äºŒå‰æ ‘"></p><h3 id="dpè§£æ³•"><a href="#dpè§£æ³•" class="headerlink" title="dpè§£æ³•"></a>dpè§£æ³•</h3><div class="note info no-icon flat"><p>éƒ½å†™é“è¿™äº†,DPçš„å¥—è·¯åŸºæœ¬æŒæ¡éƒ¨åˆ†.</p><p>yæ°åˆ†æ:<br>å«ä¹‰:<br><code>dp[i][j]</code>: å°†ä»iåˆ°jèŠ‚ç‚¹æ‹¼æ¥æˆæ ‘çš„æ–¹æ¡ˆé›†åˆ ä¸­ä»·å€¼æœ€å¤§çš„é‚£ç§.<br>è®¡ç®—:<br>è€ƒè™‘æœ€åä¸€æ­¥: i ,j<br>i,jä¹‹é—´å­˜åœ¨k.<br>dp[i][j] = max(dp[i][k - 1] * dp[k + 1][j] + w[k]).</p><p>è€ƒè™‘è¾¹ç•Œ:</p><p>ç”±é¢˜æ„å¯çŸ¥:ç©ºå­æ ‘çš„ä»·å€¼ä¸º1,è€Œå¶èŠ‚ç‚¹çš„ä»·å€¼ä¸ºw[i].<br>å› æ­¤:<br>dp[i][i] = w[i].(æ¯ä¸ªç‚¹ä½œä¸ºå¶å­èŠ‚ç‚¹çš„ä»·å€¼)</p><p>kå¯ä»¥å–åˆ°i,j.<br>å½“k == i å·¦å­æ ‘ä»·å€¼ä¸º1.<br>å½“k == j å³å­æ ‘ä»·å€¼ä¸º1.</p></div><div class="note success no-icon flat"><p>ä¸Šé¢é‚£å—å°†æœ€ç»ˆä»·å€¼ç®—å‡ºæ¥äº†.<br>è¿™é“é¢˜è¿˜æœ‰ä¸€é—®: è¾“å‡ºæœ€å¤§æ–¹æ¡ˆçš„å‰åºéå†.</p><p>çœŸæ˜¯å¤´å¤§.è®°å¿†åŒ–å•Š,å¤´ç—›.</p><p>å¾ˆæ˜¾ç„¶,åœ¨è®¡ç®—<code>dp[i][j]</code>æ—¶å–åˆ°çš„æœ€å¤§å€¼çš„å­é›†ä¸ºk.<br>é‚£ä¹ˆkä¸º<code>[i,j]</code>è¿™åºåˆ—å˜æˆäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹.<br>æˆ‘ä»¬ç”¨ä¸ªæ•°ç»„è®°å½•æ‰€æœ‰åŒºé—´çš„æ ¹èŠ‚ç‚¹.æœ€åç”¨dfså‰åºéå†ä¸€éå³å¯.</p></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">32</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> w[N];</span><br><span class="line"><span class="type">int</span> dp[N][N];</span><br><span class="line"><span class="type">int</span> g[N][N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‰ç¼€éå†</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(l &gt; r) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="type">int</span> k = g[l][r];</span><br><span class="line">    cout&lt;&lt;k&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="built_in">dfs</span>(l,k - <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">dfs</span>(k + <span class="number">1</span>,r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) cin&gt;&gt;w[i];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> len = <span class="number">1</span>;len &lt;= n;len ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i + len - <span class="number">1</span> &lt;= n;i ++)&#123;</span><br><span class="line">            <span class="type">int</span> l = i,r = i + len - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = l;k &lt;= r;k ++)&#123;</span><br><span class="line">                <span class="comment">// è¾¹ç•Œæƒ…å†µ</span></span><br><span class="line">                <span class="type">int</span> left = k == l ? <span class="number">1</span> : dp[l][k - <span class="number">1</span>];</span><br><span class="line">                <span class="type">int</span> right = k == r ? <span class="number">1</span> : dp[k + <span class="number">1</span>][r];</span><br><span class="line">                </span><br><span class="line">                <span class="type">int</span> score = left * right + w[k];</span><br><span class="line">                <span class="comment">// ç‰¹åˆ¤å¶å­ </span></span><br><span class="line">                <span class="keyword">if</span>(l == r) score = w[k];</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(score &gt; dp[l][r])&#123;</span><br><span class="line">                    dp[l][r] = score;</span><br><span class="line">                    g[l][r] = k;</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout&lt;&lt;dp[<span class="number">1</span>][n]&lt;&lt;endl;</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">1</span>,n);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­£å¦‚åŒºé—´dpä¹Ÿå¯ä»¥è‡ªä¸‹è€Œä¸Šè‡ªå·¦è€Œå³éå†ä¸€æ ·.<br>è¿™é“é¢˜è‚¯å®šæ˜¯å¯ä»¥ç”¨æœç´¢çš„æ€è·¯è§£,ä¸è¿‡å› ä¸ºæœ‰å¤ªå¤šé‡å¤å­é—®é¢˜.æ‰€ä»¥æ˜¯è®°å¿†åŒ–æœç´¢.</p><h3 id="è®°å¿†åŒ–æœç´¢"><a href="#è®°å¿†åŒ–æœç´¢" class="headerlink" title="è®°å¿†åŒ–æœç´¢"></a>è®°å¿†åŒ–æœç´¢</h3><p>æ€è·¯ç›¸å·®ä¸å¤§,ä¸è¿‡è¿™ç§æ›´å¤šåƒæ˜¯å°†æš´åŠ›dfsä¼˜åŒ–.<br>å¤§ä½¬æ€è·¯: <a href="https://www.acwing.com/solution/content/60558/">åŠ åˆ†äºŒå‰æ ‘ã€è®°å¿†åŒ–æœç´¢æ€æƒ³ã€‘</a><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">32</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> w[N];</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"><span class="type">int</span> g[N][N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‰ç¼€éå†</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span>(l &gt; r) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="type">int</span> k = g[l][r];</span><br><span class="line">    cout&lt;&lt;k&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="built_in">dfs</span>(l,k - <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">dfs</span>(k + <span class="number">1</span>,r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®°å¿†åŒ–æœç´¢</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l &gt; r) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(~f[l][r]) <span class="keyword">return</span> f[l][r];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = l;k &lt;= r;k ++)&#123;</span><br><span class="line">        <span class="type">int</span> left = l == k ? <span class="number">1</span> : <span class="built_in">find</span>(l,k - <span class="number">1</span>);</span><br><span class="line">        <span class="type">int</span> right = r == k ? <span class="number">1</span> : <span class="built_in">find</span>(k + <span class="number">1</span>,r);</span><br><span class="line">        <span class="type">int</span> score = left * right + w[k];</span><br><span class="line">        <span class="keyword">if</span>(l == r) score = w[k];</span><br><span class="line">        <span class="keyword">if</span>(f[l][r] &lt; score)&#123;</span><br><span class="line">            g[l][r] = k;</span><br><span class="line">            f[l][r] = score;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> f[l][r];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) cin&gt;&gt;w[i];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">memset</span>(f,<span class="number">-1</span>,<span class="keyword">sizeof</span> f);</span><br><span class="line">    cout&lt;&lt;<span class="built_in">find</span>(<span class="number">1</span>,n)&lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">1</span>,n);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åŒºé—´DPå°±æš‚æ—¶åˆ°è¿™é‡Œäº†,å­¦å®Œè¿™äº›åº”è¯¥ç®—çš„ä¸Šå…¥é—¨äº†å§.</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwingçº¿æ€§DP</title>
      <link href="/2023/04/04/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek6/Acwing%E7%BA%BF%E6%80%A7DP/"/>
      <url>/2023/04/04/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek6/Acwing%E7%BA%BF%E6%80%A7DP/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>çº¿æ€§DP.æŒ‡çŠ¶æ€ä¹‹é—´æœ‰çº¿æ€§å…³ç³»çš„åŠ¨æ€è§„åˆ’é—®é¢˜.</p><p>å¸¸è§çº¿æ€§dp:<br>1: æ•°å­—ä¸‰è§’å½¢<br>2: æœ€é•¿ä¸Šå‡å­åºåˆ—<br>3: æœ€é•¿å…¬å…±å­åºåˆ—</p></div><h2 id="1051-æœ€å¤§çš„å’Œ"><a href="#1051-æœ€å¤§çš„å’Œ" class="headerlink" title="1051. æœ€å¤§çš„å’Œ"></a>1051. æœ€å¤§çš„å’Œ</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230405/20230405_1.jpg" alt="æœ€å¤§çš„å’Œ"></p><p>è¯»å®Œé¢˜,è¿™é“é¢˜å°±æ˜¯æœ€å¤§è¿ç»­å­—æ®µå’ŒProç‰ˆ.</p><div class="note success no-icon flat"><p>æœ€å¤§è¿ç»­å­—æ®µå’Œ:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> res = -INF,ans = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; k;i ++)&#123;</span><br><span class="line">    ans = <span class="built_in">max</span>(ans,<span class="number">0</span>) + g[i];</span><br><span class="line">    res = <span class="built_in">max</span>(res,ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>è¿™é“é¢˜ä»dpå¼€å§‹,ä¼˜åŒ–åˆ°è´ªå¿ƒäº†.</p></div><p>è¯´å›è¿™é“é¢˜,å¾ˆæ˜æ˜¾,æˆ‘ä»¬å¯ä»¥ä»¥<code>i</code>ä¸ºç•Œåˆ†åˆ«æ±‚<code>[1,i - 1]</code>,<code>[i,n]</code>ä¸¤ä¸ªåŒºåŸŸè¿ç»­å­—æ®µæœ€å¤§å€¼.ç”±äºè¿ç»­å­—æ®µæœ‰å¯é€†æ€§,æ‰€ä»¥<code>[i,n]</code>é€†å‘æ±‚.</p><p>æœ¬é¢˜ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">50010</span>,INF = <span class="number">0x3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> w[N];</span><br><span class="line"><span class="type">int</span> g[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t --)&#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;w[i]);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ­£å‘æ±‚</span></span><br><span class="line">        <span class="type">int</span> res = -INF,ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">            ans = <span class="built_in">max</span>(ans,<span class="number">0</span>) + w[i];</span><br><span class="line">            res = <span class="built_in">max</span>(res,ans);</span><br><span class="line">            g[i] = res;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// é€†å‘æ±‚ + ç»“æœ</span></span><br><span class="line">        <span class="type">int</span> S = -INF;</span><br><span class="line">        res = -INF,ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = n - <span class="number">1</span>;i;i --)&#123;</span><br><span class="line">            ans = <span class="built_in">max</span>(ans,<span class="number">0</span>) + w[i];</span><br><span class="line">            res = <span class="built_in">max</span>(res,ans);</span><br><span class="line">            S = <span class="built_in">max</span>(S,res + g[i - <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,S);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="272-æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—"><a href="#272-æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—" class="headerlink" title="272. æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—"></a>272. æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230405/20230405_2.jpg" alt="æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—"></p><p>ä¸¤ä¸ªç»å…¸çº¿æ€§dpçš„åˆä½“ç‰ˆ.</p><div class="note info no-icon flat"><p>yæ°åˆ†æ:<br>å«ä¹‰:<br><code>dp[i][j]</code>: è€ƒè™‘A[1..i] å’ŒB[1â€¦j],ä¸”ä»¥B[j]ç»“å°¾çš„å…¬å…±ä¸Šå‡å­åºåˆ—é›†åˆä¸­ å­åºåˆ—é•¿åº¦æœ€å¤§å€¼.</p><p>è®¡ç®—:<br>åˆ†ææœ€åä¸€æ­¥: A[i]. (B[j]å·²ç»åœ¨dpæ•°ç»„å†…äº†)<br>ä¸¤ç§æƒ…å†µ:<br><code>A[i]ä¸åœ¨å…¬å…±ä¸Šå‡å­åºåˆ—ä¸­</code>: dp[i - 1][j].<br><code>A[i] == B[j]</code>:<br>å†æ¬¡åˆ’åˆ†:<br>æ ¹æ®åˆ’åˆ†åŸåˆ™:æ‰¾æœ€åä¸€æ­¥.<br>åœ¨è¿™é‡Œå³<code>B[j]</code>å‰ä¸€ä¸ª<code>B[k]</code>ç»“å°¾çš„å…¬å…±ä¸Šå‡å­åºåˆ—<code>dp[i - 1][k]</code>.<br><code>k &gt; 0,k &lt; j</code>.<br><code>B[j]</code>è‚¯å®šæ˜¯æ¥åœ¨æœ€å¤§çš„åé¢.</p><p>å› æ­¤:<br><code>dp[i][j] == dp[i - 1][j], A[i] != B[j]</code>.<br><code>dp[i][j] == max(dp[i - 1][k] + 1) A[i] == B[j],k &lt; j,B[k] &lt; B[j]</code>.</p><p>åˆ†æè¾¹ç•Œæƒ…å†µ:<br>kå®Œå…¨æ²¡æ‰¾åˆ°æ—¶: <code>dp[i][j] = 1</code>.<br>ç”±äº<code>dp[i][0] = 0</code>,æ‰€ä»¥kå¯ä»¥ä»0å‡ºå‘.</p><p>åˆ«äººçš„æ€è·¯:<a href="https://www.acwing.com/solution/content/52304/">AcWing 272. æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—ã€LCIS + ä¼˜åŒ–ã€‘</a></p></div><h3 id="æœ´ç´ å†™æ³•O-n-3"><a href="#æœ´ç´ å†™æ³•O-n-3" class="headerlink" title="æœ´ç´ å†™æ³•O(n^3)"></a>æœ´ç´ å†™æ³•<code>O(n^3)</code></h3><p>ç”±ä¸Šé¢åˆ†æå¯ä»¥å†™å‡ºç¬¬ä¸€ç‰ˆæœ´ç´ çš„dp(ä»€ä¹ˆæ—¶å€™dpéƒ½ç®—æ˜¯æœ´ç´ å†™æ³•äº†)</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">3010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[N],b[N];</span><br><span class="line"><span class="type">int</span> dp[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) cin&gt;&gt;a[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++) cin&gt;&gt;b[j];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">            dp[i][j] = dp[i - <span class="number">1</span>][j];</span><br><span class="line">            <span class="keyword">if</span>(a[i] == b[j])&#123;</span><br><span class="line">                <span class="comment">// å‘å‰æ‰¾b[j]èƒ½æ¥ä¸Šçš„æœ€å¤§å€¼</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>;k &lt; j;k ++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(b[j] &gt; b[k])</span><br><span class="line">                        dp[i][j] = <span class="built_in">max</span>(dp[i][j],dp[i - <span class="number">1</span>][k] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// ç»“æœæ˜¯æœ€åä¸€è¡Œæœ€å¤§å€¼</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) res = <span class="built_in">max</span>(res,dp[n][i]);</span><br><span class="line">    </span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¼˜åŒ–-O-n-2"><a href="#ä¼˜åŒ–-O-n-2" class="headerlink" title="ä¼˜åŒ– O(n^2)"></a>ä¼˜åŒ– <code>O(n^2)</code></h3><p>ä¼˜åŒ–ä¹Ÿæ˜¯è¢«é€¼çš„.å¦‚æœæ•°æ®èŒƒå›´åªæœ‰100,æœ´ç´ å†™æ³•ä¸€å®šæ˜¯å¯ä»¥è¿‡çš„.</p><div class="note success no-icon flat"><p>é‡æ–°è§‚å¯Ÿç¬¬ä¸‰å±‚å¾ªç¯.<br>ç¬¬ä¸‰å±‚å¾ªç¯æ˜¯æ‰¾<code>B[k] &lt; B[j]</code>ä¸”<code>dp[i - 1][k] + 1æœ€å¤§å€¼</code>.<br>è¿™é‡Œ<code>B[j] == A[i]</code>.<br>è½¬åŒ–æˆæ‰¾<code>B[k] &lt; A[i]</code>,ä¸”<code>dp[i - 1][k] + 1æœ€å¤§å€¼</code>.</p><p>è¿™ä¸ªåªéœ€è¦åœ¨éå†jå±‚æ—¶å¼€ä¸ªå˜é‡<code>t</code>è®°å½•ä¸‹å³å¯.<br>è€ƒè™‘åˆ°è¾¹ç•Œæƒ…å†µ: <code>t = 1</code>(åˆå§‹å€¼).</p></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">3010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[N],b[N];</span><br><span class="line"><span class="type">int</span> dp[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) cin&gt;&gt;a[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++) cin&gt;&gt;b[j];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="comment">// æ‰¾dp[i - 1][k]çš„æœ€å¤§å€¼</span></span><br><span class="line">        <span class="type">int</span> t = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">            dp[i][j] = dp[i - <span class="number">1</span>][j];</span><br><span class="line">            <span class="keyword">if</span>(a[i] == b[j])&#123;</span><br><span class="line">                dp[i][j] = <span class="built_in">max</span>(dp[i][j],t);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ‰¾æœ€å¤§å€¼</span></span><br><span class="line">            <span class="keyword">if</span>(b[j] &lt; a[i]) t = <span class="built_in">max</span>(t,dp[i - <span class="number">1</span>][j] + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// ç»“æœæ˜¯æœ€åä¸€è¡Œæœ€å¤§å€¼</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) res = <span class="built_in">max</span>(res,dp[n][i]);</span><br><span class="line">    </span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸å¾—ä¸è¯´,è¿™æ ·çš„ä¼˜åŒ–æ˜¯çœŸçš„ç‰›!</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AcwingèƒŒåŒ…DP</title>
      <link href="/2023/04/03/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek6/Acwing%E8%83%8C%E5%8C%85DP/"/>
      <url>/2023/04/03/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek6/Acwing%E8%83%8C%E5%8C%85DP/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>èƒŒåŒ…DP,æœ€ç»å…¸çš„ä¸€ä¸ªåŠ¨è§„é—®é¢˜.<br>æœ€æœ‰ä»£è¡¨æ€§çš„å°±æ˜¯: 01èƒŒåŒ…, å®Œå…¨èƒŒåŒ…,å¤šé‡èƒŒåŒ….</p><p>å…¶ä¸­æœ€ç»å…¸çš„å°±æ˜¯01èƒŒåŒ…,å…¶ä»–çš„éƒ½å¯ä»¥çœ‹æˆ01èƒŒåŒ…çš„æ‰©å±•.<br>yæ€»å½“å¹´çš„æˆåæˆ˜å°±æ˜¯èƒŒåŒ…ä¹è®².</p></div><div class="note success no-icon flat"><p><strong>01èƒŒåŒ…æ¨¡æ¿</strong>:<br>ç©ºé—´æœªä¼˜åŒ–:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt;= m;j ++)&#123;</span><br><span class="line">        <span class="comment">// ä¸é€‰ + é€‰ä¸äº†(è¾¹ç•Œ)</span></span><br><span class="line">        dp[i][j] = dp[i - <span class="number">1</span>][j];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(j &gt;= v[i]) dp[i][j] = <span class="built_in">max</span>(dp[i - <span class="number">1</span>][j],dp[i - <span class="number">1</span>][j - v[i]] + w[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>ç©ºé—´ä¼˜åŒ–:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">    <span class="comment">// é€†å‘,ä¿è¯j - v[i] ç”¨i - 1 å±‚çš„</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = m;j &gt;= v[i];j --)&#123;</span><br><span class="line">        dp[j] = <span class="built_in">max</span>(dp[j],dp[j - v[i]] + w[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>å®Œå…¨èƒŒåŒ…</strong>:<br>å­¦ä¹ è¿™ä¸ªä¼˜åŒ–æ€è·¯: <code>dp[i][j - v[i]]</code>.</p><p>ç©ºé—´ä¼˜åŒ–:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">    <span class="comment">// æ­£å‘, j - v[i] ç”¨çš„æ˜¯ iå±‚çš„</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = v[i];j &lt;= m;j ++)&#123;</span><br><span class="line">        dp[j] = <span class="built_in">max</span>(dp[j],dp[j - v[i]] + w[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>å¤šé‡èƒŒåŒ…</strong>:</p><p>ä¼˜åŒ–æ€è·¯1: <mark>äºŒè¿›åˆ¶ä¼˜åŒ–</mark><br>æ€æƒ³: å¯¹äº<code>1~n</code>,æœ€å°‘å¯ä»¥ä½¿ç”¨<code>lg(n)ä¸Šå–æ•´</code>ä¸ªæ•°è¡¨ç¤º.åˆ†åˆ«ä¸º<code>2^0, 2^1,...,2^k,n - 2^k</code>.(æœ€åä¸€ä¸ªæœ‰ç‚¹éš¾æƒ³åˆ°)</p><p>è¯¥æ€è·¯ä½¿ç”¨äºŒè¿›åˆ¶å°†å¤šé‡èƒŒåŒ…è½¬åŒ–æˆèƒŒåŒ…æ•°å°½å¯èƒ½å°‘çš„01èƒŒåŒ….</p><p>è½¬åŒ–ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// v first ; w second</span></span><br><span class="line">vector&lt;PII&gt; goods;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">    <span class="type">int</span> v,w,s;</span><br><span class="line">    cin&gt;&gt;v&gt;&gt;w&gt;&gt;s;</span><br><span class="line">    <span class="comment">// äºŒè¿›åˆ¶åˆ’åˆ†</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">1</span>;k &lt;= s;k &lt;&lt;= <span class="number">1</span>)&#123;</span><br><span class="line">        s -= k;</span><br><span class="line">        goods.<span class="built_in">push_back</span>(&#123;v * k,w * k&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(s &gt; <span class="number">0</span>) goods.<span class="built_in">push_back</span>(&#123;v * s,w * s&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¯¥ä¼˜åŒ–å¯ä»¥è§£å†³<code>10^3</code>é‡çº§é—®é¢˜.</p><p>ä¼˜åŒ–æ€è·¯2: <mark>å•è°ƒé˜Ÿåˆ—</mark>ä¼˜åŒ–</p></div><h2 id="3382-æ•´æ•°æ‹†åˆ†"><a href="#3382-æ•´æ•°æ‹†åˆ†" class="headerlink" title="3382. æ•´æ•°æ‹†åˆ†"></a>3382. æ•´æ•°æ‹†åˆ†</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230403/20230403_4.jpg" alt="æ•´æ•°æ‹†åˆ†"></p><p><u>å¦‚æœä¸æ˜¯æ”¾åœ¨èƒŒåŒ…é—®é¢˜è¿™,æˆ‘æ˜¯æƒ³ä¸åˆ°ç”¨èƒŒåŒ…dpçš„.</u></p><div class="note info no-icon flat"><p>æ€è·¯:</p><p>æˆ‘ä»¬å…ˆå¤„ç†å‡ºä¸€ä¸ª<code>v[i]</code> è¡¨ç¤º<code>2^(i - 1)</code>çš„æ•°ç»„.<br>ä»1å¼€å§‹,æ–¹ä¾¿dpæ¨¡æ¿.</p><p>yæ°åˆ†æ:<br>å«ä¹‰:<br><code>dp[i][j]</code> : ä½¿ç”¨å‰iä¸ªæ•°,è¡¨ç¤ºjçš„é›†åˆ çš„æ€»æ•°<br>è®¡ç®—:<br>è€ƒè™‘æœ€åä¸€æ­¥: å¯¹iæ¥è¯´.<br>0 ä¸é€‰:  <code>dp[i - 1][j]</code><br>1 é€‰1ä¸ª: <code>dp[i - 1][j - v[i]]</code><br>â€¦<br>k é€‰kä¸ª: <code>dp[i - 1][j - k * v[i]]</code><br>æ‰€ä»¥:<br><code>dp[i][j] = dp[i - 1][j] + dp[i - 1][j - v] +...+dp[i - 1][j - k*v[i]]</code>.</p><p>è¿™å’Œå®Œå…¨èƒŒåŒ…dpéå¸¸ç±»ä¼¼.å› æ­¤å¯ä»¥å€Ÿé‰´å®Œå…¨èƒŒåŒ…çš„ä¼˜åŒ–æ€è·¯:</p><p>è€ƒè™‘<code>dp[i][j - v[i]]</code>:<br><code>dp[i][j - v[i]] = dp[i - 1][j - v[i]] + dp[i - 1][j - 2*v[i]] +...+dp[i - 1][j - k*v[i]]</code>.<br>åˆšå¥½å’Œ<code>dp[i][j]</code>ç›¸å·®<code>dp[i - 1][j]</code>.</p><p>å› æ­¤: <code>dp[i]][j] = dp[i - 1][j] + dp[i][j - v[i]]</code>.</p><p>ç©ºé—´ä¼˜åŒ–æ–¹å¼å’Œå®Œå…¨èƒŒåŒ…ä¸€æ ·.</p><p>æœ€ç»ˆå¾—åˆ°è½¬ç§»æ–¹ç¨‹: <code>dp[j] = dp[j] + dp[j - v[i]]</code>.</p><p>å¤„ç†è¾¹ç•Œæƒ…å†µ:<br>1: <code>dp[1][j] = 1</code>.<br>2: <code>j - v[i] == 0</code>æ—¶,ä¹Ÿç®—ä¸€ç§,æ‰€ä»¥<code>dp[1][0] = 1</code><br>å¤„ç†æ‰ä¸€ç»´å:<br>ç›¸å½“äº<code>dp[j] = 1, (j &gt;= 0 &amp;&amp; j &lt;= m)</code>.</p></div><p>æœ¬é¢˜ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1000010</span>,P = <span class="number">1e9</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> dp[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> m;</span><br><span class="line">    cin&gt;&gt;m;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// væ•°ç»„</span></span><br><span class="line">    <span class="type">int</span> v = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// è¾¹ç•Œ</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt;= m;j ++)&#123;</span><br><span class="line">        dp[j] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= <span class="number">20</span>;i ++)&#123;</span><br><span class="line">        v &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(v &gt; m) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = v;j &lt;= m;j ++)&#123;</span><br><span class="line">            dp[j] = (dp[j] + dp[j - v]) % P;    </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;dp[m]&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="1214-æ³¢åŠ¨æ•°åˆ—"><a href="#1214-æ³¢åŠ¨æ•°åˆ—" class="headerlink" title="1214. æ³¢åŠ¨æ•°åˆ—"></a>1214. æ³¢åŠ¨æ•°åˆ—</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230404/20230404_1.jpg" alt="æ³¢åŠ¨æ•°åˆ—"></p><p>è¿˜æ˜¯å¤ªèœäº†,æ ¹æœ¬æƒ³ä¸åˆ°ä»»ä½•åŠæ³•.</p><div class="note info no-icon flat"><p>yæ€»æ€è·¯:<br><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230404/20230404_2.jpg" alt="æ³¢åŠ¨æ•°åˆ—åˆ†æå›¾"></p><p>è§‚å¯Ÿè¿™ä¸ªå¼å­: æ¯ä¸ª<code>d</code>æœ‰ä¸¤ç§é€‰æ‹©,ç»“æœä¸º<code>s%n</code>.è¿™ä¸å¦¥å¦¥çš„01èƒŒåŒ…å—.</p><p>å«ä¹‰:<br><code>dp[i][j]</code>: è€ƒè™‘å‰ié¡¹,ç»“æœä¸ºjçš„é›†åˆçš„ ç§ç±»æ•°</p><p>è®¡ç®—:<br>ç¬¬<code>i</code>é¡¹ä¸º: <code>(n - i) * a = x</code>,æˆ–è€…<code>(n - i) * (-b) = y</code>.</p><p><code>dp[i][j] = dp[i - 1][(j - x) % n] + dp[i - 1][(j + y) % n]</code>.</p><p>è€ƒè™‘è¾¹ç•Œæƒ…å†µ:<br><code>dp[0][0] = 1</code></p></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>,P = <span class="number">100000007</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"></span><br><span class="line">LL dp[N][N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ±‚a % bæ­£ä½™æ•°</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">get_mod</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> p)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (a % p + p) % p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,s,a,b;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;s&gt;&gt;a&gt;&gt;b;</span><br><span class="line">    <span class="type">int</span> m = <span class="built_in">get_mod</span>(s,n);</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j ++)&#123;</span><br><span class="line">            dp[i][j] = (dp[i - <span class="number">1</span>][<span class="built_in">get_mod</span>(j - (n - i) * a,n)] + dp[i - <span class="number">1</span>][<span class="built_in">get_mod</span>(j + (n - i) * b,n)]) % P;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;dp[n - <span class="number">1</span>][m]&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™é“é¢˜æ˜¯çœŸçš„ç‰›.</p><h2 id="1226-åŒ…å­å‡‘æ•°"><a href="#1226-åŒ…å­å‡‘æ•°" class="headerlink" title="1226. åŒ…å­å‡‘æ•°"></a>1226. åŒ…å­å‡‘æ•°</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230404/20230404_3.jpg" alt="åŒ…å­å‡‘æ•°"></p><p>æ€ä¹ˆè¯´å‘¢,å³ä½¿æ˜¯ä¸ä¼šå†™ä¹Ÿè¦æƒ³åŠæ³•å†™ä¸ªæš´åŠ›.<br>ç‰¹åˆ«æ˜¯åƒè¿™æ—©æœŸçš„è“æ¡¥æ¯,æ•°æ®èŒƒå›´å°.</p><div class="note info no-icon flat"><p>è¿™é“é¢˜è¿˜æ˜¯æœ‰ç‚¹æ•°è®ºçš„çŸ¥è¯†:<br><a href="https://baike.baidu.com/item/%E8%A3%B4%E8%9C%80%E5%AE%9A%E7%90%86/5186593?fr=aladdin">è£´èœ€å®šç†</a>.</p><p>ç®€å•è®²ä¸€ä¸‹å’Œæœ¬é¢˜ç›¸å…³çš„ç‚¹:<br>å¯¹äº<code>a</code>,<code>b</code>ä¿©æ•°,<code>d = gcd(a,b)</code>.åˆ™<code>a</code>ä¸<code>b</code>çš„ç»„åˆå¿…å®šæ˜¯<code>d</code>çš„å€æ•°.<br>å› æ­¤:<br>å¦‚æœ<code>d != 1</code>,å¿…å®šæœ‰æ— ç©·ä¸ªè¡¨ç¤ºä¸å‡ºæ¥çš„æ•°.<br>å¦‚æœ<code>d == 1</code>,ä¸èƒ½è¡¨ç¤ºå‡ºæ¥çš„æ•°å¿…å®šæœ‰é™,æœ€å¤§ä¸èƒ½è¡¨ç¤ºçš„æ•°ä¸º<code>(a - 1)*(b - 1) - 1</code>.</p><p>ç„¶åè¿™é“é¢˜å°±æˆäº†å®Œå…¨èƒŒåŒ…é—®é¢˜.<br><code>dp[i] = dp[i - v[1]] | dp[i - v[2]] | ...</code>.</p><p>è¾¹ç•Œ: <code>dp[0] = true</code></p></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">10010</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">gcd</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b ? <span class="built_in">gcd</span>(b, a % b) : a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        cin&gt;&gt;a[i];</span><br><span class="line">        t = <span class="built_in">gcd</span>(a[i],t);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(t &gt; <span class="number">1</span>) <span class="built_in">puts</span>(<span class="string">&quot;INF&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">sort</span>(a,a + n);</span><br><span class="line">        st[<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// æœ€å¤§ä¸èƒ½è¡¨ç¤ºçš„æ•°ä¹Ÿåœ¨Nå†…</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; N;i ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i &lt; a[<span class="number">0</span>]) st[i] = <span class="literal">false</span>,res ++;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j ++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(i &gt;= a[j])&#123;</span><br><span class="line">                        st[i] = st[i] | st[i - a[j]];</span><br><span class="line">                        <span class="keyword">if</span>(st[i]) <span class="keyword">break</span>;</span><br><span class="line">                    &#125;<span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(!st[i]) res ++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>èƒŒåŒ…åªæ˜¯åŸºç¡€,æ›´å¤šçš„ä»é¢˜ç›®èƒ½æŠ½è±¡å‡ºèƒŒåŒ…çš„æ¨¡å‹å‡ºæ¥.</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwingåšå¼ˆè®º</title>
      <link href="/2023/04/03/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek5/Acwing%E5%8D%9A%E5%BC%88%E8%AE%BA/"/>
      <url>/2023/04/03/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek5/Acwing%E5%8D%9A%E5%BC%88%E8%AE%BA/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>åšå¼ˆè®º,è¿™é‡Œå°±è®²ä¸€ç‚¹ç‚¹åšå¼ˆè®ºçš„åŸºç¡€çŸ¥è¯†.</p><p>è¿™é‡Œä¸¤ä¸ªçŠ¶æ€éƒ½æ˜¯æŒ‡<mark>å…ˆæ‰‹</mark><br><code>å¿…è´¥æ€P</code>: ç›´è§‚è®¤ä¸ºè¯¥çŠ¶æ€ä¸€å®šä¼šè¾“.<br><code>å¿…èƒœæ€N</code>: ç›´è§‚è®¤ä¸ºè¯¥çŠ¶æ€ä¸€å®šä¼šèµ¢.</p><p>å‡†ç¡®æ¥è¯´:<br>1: Næœ‰æ–¹æ³•èµ°åˆ°P.<br>2: Pæ— æ³•ç§»åŠ¨åˆ°N.</p><p>ç®€å•çš„åšå¼ˆæ¸¸æˆ: <mark>å·´ä»€åšå¼ˆ</mark><br>æè¿°: å¯¹äº<code>n</code>ä¸ªçŸ³å­,ä¸¤ä¸ªäººè½®æµæ‹¿,å¯ä»¥æ‹¿<code>1~k</code>ä¸ªçŸ³å­,æœ€ç»ˆæ‹¿å®Œçš„äººè·èƒœ.<br><strong>ç»“è®º</strong>: è‹¥<code>n % (k + 1) != 0</code> å…ˆæ‰‹å¿…èƒœ,å¦åˆ™åæ‰‹å¿…èƒœ. </p></div><h2 id="4005-å–çŸ³å­æ¸¸æˆ"><a href="#4005-å–çŸ³å­æ¸¸æˆ" class="headerlink" title="4005. å–çŸ³å­æ¸¸æˆ"></a>4005. å–çŸ³å­æ¸¸æˆ</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230403/20230403_3.jpg" alt="å–çŸ³å­æ¸¸æˆ"></p><p>æ”¾å¼ƒäº†.ç›´æ¥æ”¾ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;T);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (T -- )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> n, k;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;k);</span><br><span class="line">        <span class="keyword">if</span> (k % <span class="number">3</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (n % <span class="number">3</span>) <span class="built_in">puts</span>(<span class="string">&quot;Alice&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">&quot;Bob&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> r = n % (k + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (r == k || r % <span class="number">3</span>) <span class="built_in">puts</span>(<span class="string">&quot;Alice&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">&quot;Bob&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p><p>å¦å¤–ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å‡½æ•°<code>SGå‡½æ•°</code>.<br><a href="https://www.cnblogs.com/zwfymqz/p/8469840.html">åšå¼ˆè®ºè¿›é˜¶ä¹‹SGå‡½æ•°</a>.</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwingç»„åˆè®¡æ•°</title>
      <link href="/2023/04/02/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek5/Acwing%E7%BB%84%E5%90%88%E8%AE%A1%E6%95%B0/"/>
      <url>/2023/04/02/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek5/Acwing%E7%BB%84%E5%90%88%E8%AE%A1%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>ç»„åˆæ•°å­¦,ä¸€ä¸ªä»¤äººå¤´å¤§çš„ä¸œè¥¿.<br>ç»„åˆæ•°å­¦æœ€é‡è¦çš„å°±æ˜¯åšåˆ°<mark>ä¸é‡ä¸æ¼</mark>.</p><p>åŒæ—¶ç»„åˆæ•°å­¦ä¸­å°±ç»å¸¸ä½¿ç”¨å¿«é€Ÿå¹‚.</p></div><h2 id="4496-åƒæ°´æœ"><a href="#4496-åƒæ°´æœ" class="headerlink" title="4496. åƒæ°´æœ"></a>4496. åƒæ°´æœ</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230402/20230402_3.jpg" alt="åƒæ°´æœ"></p><p>ä¸€å…±æœ‰ä¸¤ç§æ–¹æ³•: <code>ç»„åˆæ•°</code>,<code>dp</code>.</p><h3 id="ç»„åˆæ•°"><a href="#ç»„åˆæ•°" class="headerlink" title="ç»„åˆæ•°"></a>ç»„åˆæ•°</h3><p>æ•°å­¦åˆ†æ:<br>ä»n - 1ä¸ªäººä¸­é€‰käººå‡ºæ¥:<code>C(n - 1,k)</code>.<br>mä¸­æƒ…å†µä¿æŒkä¸­ç›¸é‚»ä¸åŒ:<code>m * (m - 1)^(k -  1)</code>.<br>å…¶ä»–äººä¿æŒç›¸åŒé€‰æ‹©:<code>(m - 1)</code>.</p><p>æ€»æ–¹æ¡ˆæ•°: <code>C(n - 1,k) * m * (m - 1)^k</code>.</p><div class="note info no-icon flat"><p><code>C(a,b) = C(a-1,b) + C(a-1,b - 1)</code>,<code>10^3</code>å·¦å³å¯ä»¥ç”¨<br>æ±‚æ¨¡ä¸€å®šè¦æ³¨æ„æœ‰ä¹˜å¿…æ¨¡,æœ‰åŠ å‡å¿…æ¨¡.</p></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> P = <span class="number">998244353</span>,N = <span class="number">2010</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"><span class="type">int</span> n,m,k;</span><br><span class="line">LL c[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function">LL <span class="title">quick_pow</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> k,<span class="type">int</span> p)</span></span>&#123;</span><br><span class="line">    LL res = <span class="number">1</span> % p;</span><br><span class="line">    <span class="keyword">while</span>(k)&#123;</span><br><span class="line">        <span class="keyword">if</span>(k &amp; <span class="number">1</span>) res = res * a % p;</span><br><span class="line">        a = a * (LL)a % p;</span><br><span class="line">        k &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m&gt;&gt;k;</span><br><span class="line">    <span class="comment">// æ±‚c(n - 1,k)</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt;= i &amp;&amp; j &lt;= k;j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!j) c[i][j] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> c[i][j] = (c[i - <span class="number">1</span>][j - <span class="number">1</span>] + c[i - <span class="number">1</span>][j]) % P;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ±‚res</span></span><br><span class="line">    LL res = c[n - <span class="number">1</span>][k] * m % P * <span class="built_in">quick_pow</span>(m - <span class="number">1</span>,k,P) % P;</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="dp"><a href="#dp" class="headerlink" title="dp"></a>dp</h3><p>dpæ€æƒ³ä¹Ÿæ¯”è¾ƒç®€å•æƒ³åˆ°.<br><code>dp[i][j]</code>: è€ƒè™‘å‰iä¸ªäººåˆšå¥½æœ‰jä¸ªäººæ°´æœä¸åŒçš„æ–¹æ¡ˆæ€»æ•°.<br>è€ƒè™‘æœ€åä¸€æ­¥:<br>1: <code>c[i] == c[i - 1]</code>: <code>dp[i - 1][j]</code><br>2: <code>c[i] != c[i - 1]</code>: <code>dp[i - 1][j - 1] * (m - 1)</code><br>å› æ­¤: <code>dp[i][j] = dp[i - 1][j] + d[i - 1][j - 1] * (m - 1)</code>.<br>è€ƒè™‘è¾¹ç•Œæƒ…å†µ: <code>dp[i][0] = m</code> </p><p>æœ¬é¢˜å…¨éƒ¨ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2010</span>,P = <span class="number">998244353</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line">LL dp[N][N];</span><br><span class="line"><span class="type">int</span> n,m,k;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m&gt;&gt;k;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) dp[i][<span class="number">0</span>] = m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= k;j ++)&#123;</span><br><span class="line">            dp[i][j] = (dp[i - <span class="number">1</span>][j] + dp[i - <span class="number">1</span>][j - <span class="number">1</span>] * (m - <span class="number">1</span>) % P) % P;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;dp[n][k]&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="1307-ç‰¡ç‰›å’Œç‰ç‰›"><a href="#1307-ç‰¡ç‰›å’Œç‰ç‰›" class="headerlink" title="1307. ç‰¡ç‰›å’Œç‰ç‰›"></a>1307. ç‰¡ç‰›å’Œç‰ç‰›</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230403/20230403_1.jpg" alt="ç‰¡ç‰›å’Œç‰ç‰›"></p><p>æˆ‘æ„Ÿè§‰å•Š,æ‰€æœ‰çš„ç»„åˆé—®é¢˜éƒ½å¯ä»¥ç”¨dpè§£.</p><h3 id="dpè§£"><a href="#dpè§£" class="headerlink" title="dpè§£"></a>dpè§£</h3><p>åˆ†æ:<br><code>dp[i]</code>: å‰iå¤´ç‰›ç¬¦åˆæ¡ä»¶çš„æ’åˆ—æ–¹æ³•æ•°.<br>è€ƒè™‘ç¬¬<code>i</code>å¤´ç‰›:<br>æ˜¯a: æ–¹æ¡ˆæ•° = <code>dp[i - 1]</code><br>æ˜¯b: æ–¹æ¡ˆæ•° = <code>dp[i - k - 1]</code><br>å› æ­¤: <code>dp[i] = dp[i - 1] + dp[i - k - 1]</code>.<br>è¾¹ç•Œæƒ…å†µ:<br>(iä»1å¼€å§‹)<br>å½“<code>i &lt;= k + 1</code>æ—¶: <code>dp[i] = i + 1</code>.(bç‰›æœ€å¤š1å¤´)</p><p>æœ¬é¢˜ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>,P = <span class="number">5000011</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"></span><br><span class="line">LL dp[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,k;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;k;</span><br><span class="line">    <span class="comment">// åˆå§‹æ¡ä»¶</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= k + <span class="number">1</span>;i ++) dp[i] = i + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = k + <span class="number">2</span>;i &lt;= n;i ++) dp[i] = (dp[i - <span class="number">1</span>] + dp[i - k <span class="number">-1</span>]) % P;</span><br><span class="line">    cout&lt;&lt;dp[n]&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="é€’æ¨å†™æ³•"><a href="#é€’æ¨å†™æ³•" class="headerlink" title="é€’æ¨å†™æ³•"></a>é€’æ¨å†™æ³•</h3><p><code>f[i]</code>: å‰iä¸ªç‰›,ä¸”ç¬¬iä¸ªä¸ºbçš„æ‰€æœ‰æ–¹æ¡ˆæ•°<br><code>f[0]</code>: æ²¡æœ‰b,ä¸º1.</p><p>åˆ™<code>f[i] = f[0] + f[1] + ... + f[i - k - 1]</code> = <code>s[i - k - 1]</code>.</p><p>ç­”æ¡ˆ: <code>f[0] + f[1] + ... + f[n]</code> = <code>s[n]</code>.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>,P = <span class="number">5000011</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"></span><br><span class="line">LL f[N],s[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,k;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;k;</span><br><span class="line">    f[<span class="number">0</span>] = s[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        f[i] = s[<span class="built_in">max</span>(i - k - <span class="number">1</span>,<span class="number">0</span>)];</span><br><span class="line">        s[i] = (s[i - <span class="number">1</span>] + f[i]) % P;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;s[n]&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ€ä¹ˆè¯´å‘¢,å¯ä»¥çœ‹æˆä¸¤ç§ä¸åŒçš„dpæ€è·¯.</p><h2 id="1310-æ•°ä¸‰è§’å½¢"><a href="#1310-æ•°ä¸‰è§’å½¢" class="headerlink" title="1310. æ•°ä¸‰è§’å½¢"></a>1310. æ•°ä¸‰è§’å½¢</h2><p>é¢˜ç›®éå¸¸çš„ç®€æ´.</p><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230403/20230403_2.jpg" alt="æ•°ä¸‰è§’å½¢"></p><p>ä½†é¢˜ç›®ä¸€ç‚¹éƒ½ä¸ç®€å•.</p><div class="note success no-icon flat"><p>é¦–å…ˆ:æ­£é¢å»æ•°æ‰€æœ‰åˆæ³•çš„ä¸‰è§’å½¢ä¸ªæ•°å¿…äº¤å›°éš¾.<br>è¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å®¹æ–¥åŸç†,ä»åæ–¹å‘è€ƒè™‘.</p><p>å¯¹äº<code>n * m</code>ä¸ªç‚¹é›†(nåˆ—çš„ç‚¹æ•°,mè¡Œçš„ç‚¹æ•°)</p><p>æ€»æƒ…å†µ: ä»»æ„é€‰æ‹©3ä¸ªç‚¹: <code>c(n * m,3)</code>.<br>ä¸æ»¡è¶³æƒ…å†µ:<br>1: k = 0 <code>m * c(n,3)</code><br>2: k = æ— ç©· <code>n * c(m,3)</code>.<br>3: k &gt; 0 ,k &lt; 0: è¿™ä¸¤ç§æƒ…å†µçš„æ–¹æ¡ˆæ•°æ˜¯ç›¸åŒçš„,(è¿™é‡Œå‡è®¾k &gt; 0)</p><p>æšä¸¾æ¯ä¸ªç‚¹<code>(i,j)</code>:åˆ™å¦å¤–ä¸€ä¸ªç‚¹<code>(x,y)</code>å¯å–æ–¹æ¡ˆæ•°ä¸º<code>(n - i) * (m - j)</code>.<br>ç„¶åæ±‚<code>(i,j)</code>ä¸<code>(x,y)</code>ä¹‹é—´çš„æ•´ç‚¹ä¸ªæ•° <mark>gcd(i,j) - 1</mark>.<br>è¿™ä¸ª<code>gcd(i,j) - 1</code>çš„è¯æ˜å¯ä»¥çœ‹è¿™ä½å¤§ä½¬çš„<a href="https://www.acwing.com/solution/content/22893/">é¢˜è§£gcd(i,j)âˆ’1çš„è¯æ˜</a></p></div><p>æœ¬é¢˜ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">gcd</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b ? <span class="built_in">gcd</span>(b, a % b) : a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ±‚c(n,3)</span></span><br><span class="line"><span class="function">LL <span class="title">c</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (LL)n * (n - <span class="number">1</span>) * (n - <span class="number">2</span>) / <span class="number">6</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    n ++,m ++;</span><br><span class="line">    LL res = <span class="built_in">c</span>(n * m) - (LL)m * <span class="built_in">c</span>(n) - (LL)n * <span class="built_in">c</span>(m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= m;j ++)</span><br><span class="line">            res -= <span class="number">2ll</span> * (<span class="built_in">gcd</span>(i,j) - <span class="number">1</span>) * (n - i) * (m - j);</span><br><span class="line">            </span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwingå¿«é€Ÿå¹‚</title>
      <link href="/2023/04/01/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek5/Acwing%E5%BF%AB%E9%80%9F%E5%B9%82/"/>
      <url>/2023/04/01/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek5/Acwing%E5%BF%AB%E9%80%9F%E5%B9%82/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>å¿«é€Ÿå¹‚,ä¸€ä¸ª åœ¨<code>O(lg n)</code>æ—¶é—´å†…æ±‚ <code>a^b % p</code>çš„æ–¹æ³•.</p><p>å¿«é€Ÿå¹‚ä½¿ç”¨äºŒè¿›åˆ¶æ€æƒ³åŠ é€Ÿæ±‚å¹‚çš„è¿‡ç¨‹.</p><p><mark>å¿«é€Ÿå¹‚æ¨¡æ¿</mark>:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"></span><br><span class="line"><span class="function">LL <span class="title">quick_pow</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> k,<span class="type">int</span> p)</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    LL res = <span class="number">1</span> % p;</span><br><span class="line">    <span class="keyword">while</span>(k)&#123;</span><br><span class="line">        <span class="comment">// æœ«å°¾ä¸º1</span></span><br><span class="line">        <span class="keyword">if</span>(k &amp; <span class="number">1</span>) res = res * a % p;</span><br><span class="line">        <span class="comment">// a =&gt; a^2</span></span><br><span class="line">        a = a * (LL)a % p;</span><br><span class="line">        k &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>çœ‹èµ·æ¥å¾ˆç®€å•å§,è½¬åŒ–è¿›åˆ¶çœŸçš„æœ‰å¥‡æ•ˆ.<br>ç”¨çš„æ—¶å€™æ³¨æ„æ•°æ®èŒƒå›´.</p></div><h2 id="876-å¿«é€Ÿå¹‚æ±‚é€†å…ƒ"><a href="#876-å¿«é€Ÿå¹‚æ±‚é€†å…ƒ" class="headerlink" title="876. å¿«é€Ÿå¹‚æ±‚é€†å…ƒ"></a>876. å¿«é€Ÿå¹‚æ±‚é€†å…ƒ</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230402/20230402_1.jpg" alt="å¿«é€Ÿå¹‚æ±‚é€†å…ƒ"></p><p>å¿«é€Ÿå¹‚çš„ç»å…¸åº”ç”¨.<br>è¿™é“é¢˜å¦‚æœç”¨æœ´ç´ å†™æ³•,æœ€åæƒ…å†µ<code>10^5 * 10^9</code>å¿…å®šè¶…æ—¶.<br>å¦‚æœä½¿ç”¨å¿«é€Ÿå¹‚<code>10^5 * lg(10^9)</code>å¤§æ¦‚åœ¨<code>10^6</code>å·¦å³.</p><p>æœ¬é¢˜ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"></span><br><span class="line"><span class="function">LL <span class="title">quick_pow</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> k,<span class="type">int</span> p)</span></span>&#123;</span><br><span class="line">    LL res = <span class="number">1</span> % p;</span><br><span class="line">    <span class="keyword">while</span>(k)&#123;</span><br><span class="line">        <span class="keyword">if</span>(k &amp; <span class="number">1</span>) res = res * a % p;</span><br><span class="line">        a = a * (LL)a % p;</span><br><span class="line">        k &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,a,p;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">while</span>(n --)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;a,&amp;p);</span><br><span class="line">        <span class="keyword">if</span>(a % p == <span class="number">0</span>) <span class="built_in">puts</span>(<span class="string">&quot;impossible&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            LL res = <span class="built_in">quick_pow</span>(a,p - <span class="number">2</span>,p);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,res);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p><h2 id="1290-è¶Šç‹±"><a href="#1290-è¶Šç‹±" class="headerlink" title="1290. è¶Šç‹±"></a>1290. è¶Šç‹±</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230402/20230402_2.jpg" alt="è¶Šç‹±"></p><p>æˆ‘æ„Ÿè§‰æ›´åƒæ˜¯ç»„åˆæ•°å­¦.</p><p><u>555,åƒé˜²ä¸‡é˜²,æ²¡æƒ³åˆ°è¿˜æ˜¯æ ½åœ¨å–æ¨¡ä¸Š</u>.</p><p>æ€è·¯:<br>ä¸€å…±æœ‰<code>n</code>é—´æˆ¿,æ¯é—´æˆ¿æœ‰<code>m</code>ç§æƒ…å†µ.æ‰€æœ‰çŠ¶æ€ç§æ•°æœ‰<code>m^n</code>.<br>è€ƒè™‘ä¸è¶Šç‹±çš„æƒ…å†µç§æ•°: <code>m * (m - 1) *...(m -1)</code>,å…±<code>m * (m - 1)^(n-1)</code>.<br>æ‰€ä»¥ä¼šå‘ç”Ÿè¶Šç‹±çš„çŠ¶æ€æ•°ä¸º:<code>m^n - m * (m-1)^(n-1)</code>.</p><p>é¢˜ç›®è€ƒè™‘å–æ¨¡,æœ‰ä»¥ä¸‹å‡ ä¸ªç‚¹:<br><mark>ä¹˜æ³•: ä¸¤ä¸ªç›¸ä¹˜åè¦å–æ¨¡</mark><br><mark>åŠ å‡æ³•: ä¸¤ä¸ªç›¸åŠ å‡åè¦å–æ¨¡</mark><br>é™¤æ³•ä¸€èˆ¬ä¸å–æ¨¡.<br>(è¿™é‡Œæˆ‘å°±æ­»åœ¨ç›¸å‡åæœªå–æ¨¡.)</p><p>å–æ¨¡:<br><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ç›¸åŠ /ç›¸ä¹˜: (a + b) % p,  a * b %p</span><br><span class="line">ç›¸å‡: (a % p - b %p + p) % p // ä¿è¯ä¸ºæ­£æ•°</span><br></pre></td></tr></table></figure></p><p>æœ¬é¢˜ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> P = <span class="number">100003</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"></span><br><span class="line"><span class="function">LL <span class="title">quick_pow</span><span class="params">(<span class="type">int</span> a,LL k,<span class="type">int</span> p)</span></span>&#123;</span><br><span class="line">    LL res = <span class="number">1</span> % p;</span><br><span class="line">    <span class="keyword">while</span>(k)&#123;</span><br><span class="line">        <span class="keyword">if</span>(k &amp; <span class="number">1</span>) res = res * a % p;</span><br><span class="line">        a = a * (LL)a % p;</span><br><span class="line">        k &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    LL n,m;</span><br><span class="line">    cin&gt;&gt;m&gt;&gt;n;</span><br><span class="line">    </span><br><span class="line">    LL res = (<span class="built_in">quick_pow</span>(m,n,P) - (LL)m * <span class="built_in">quick_pow</span>(m<span class="number">-1</span>,n<span class="number">-1</span>,P) % P + P) % P;</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p><p>å¿«é€Ÿå¹‚ç›¸å…³çš„å°±åˆ°è¿™é‡Œäº†,ä¸»è¦æ˜¯è®°ä½å¿«é€Ÿå¹‚çš„æ¨¡æ¿å…¬å¼.</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwing_gcdç›¸å…³</title>
      <link href="/2023/04/01/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek5/Acwing-gcd%E7%9B%B8%E5%85%B3/"/>
      <url>/2023/04/01/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek5/Acwing-gcd%E7%9B%B8%E5%85%B3/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><font size=4><b>å‰è¨€ğŸ“</b></font><p>æœ€å¤§å…¬çº¦æ•°gcd,ä»£ç ç®€å•,æ€æƒ³æ·±åˆ».</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">gcd</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> b ? <span class="built_in">gcd</span>(b, a % b) : a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éå¸¸çš„ç®€å•,ä¸è¦å¿˜äº†å“¦.</p></div><h2 id="4309-æ¶ˆç­è€é¼ "><a href="#4309-æ¶ˆç­è€é¼ " class="headerlink" title="4309. æ¶ˆç­è€é¼ "></a>4309. æ¶ˆç­è€é¼ </h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230401/20230401_3.jpg" alt="æ¶ˆç­è€é¼ "></p><p>ç»å…¸gcdåº”ç”¨é¢˜,è¿˜å¸¦ç€ç‚¹å°å‘.</p><p>å…¨éƒ¨ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line"></span><br><span class="line"><span class="comment">// gcd</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">gcd</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b ? <span class="built_in">gcd</span>(b, a % b) : a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    set&lt;PII&gt; S;</span><br><span class="line">    <span class="type">int</span> n,x,y;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;x&gt;&gt;y;</span><br><span class="line">    <span class="keyword">while</span>(n --)&#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        <span class="type">int</span> t = x - a,d = y - b;</span><br><span class="line">        <span class="comment">// ç»Ÿä¸€æ–¹å‘ &#123;-1,1&#125;å’Œ&#123;1,-1&#125; ä¸ºåŒä¸€æ–¹å‘</span></span><br><span class="line">        <span class="keyword">if</span>(t &lt; <span class="number">0</span>)&#123;</span><br><span class="line">            t = -t;</span><br><span class="line">            d = -d;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> g = <span class="built_in">gcd</span>(t,d);</span><br><span class="line">        S.<span class="built_in">insert</span>(&#123;t / g, d / g&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;(<span class="type">int</span>)S.<span class="built_in">size</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><div class="note info no-icon flat"><p>å› ä¸ºæ˜¯é—´æ¥å­˜å‚¨<code>æ–œç‡k</code>,æ‰€ä»¥ä¼šå‡ºç°åŒä¸€æ–¹å‘ä¸¤ç§è¡¨è¾¾:<code>{-1,1},{1,-1}</code>.<br>å†™çš„æ—¶å€™å¿…é¡»æŠŠè¿™ä¸¤ç§æƒ…å†µç»Ÿä¸€èµ·æ¥.å³è§„å®šæ–¹å‘.</p></div><h2 id="200-Hanksonçš„è¶£å‘³é¢˜"><a href="#200-Hanksonçš„è¶£å‘³é¢˜" class="headerlink" title="200. Hanksonçš„è¶£å‘³é¢˜"></a>200. Hanksonçš„è¶£å‘³é¢˜</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230401/20230401_4.jpg" alt="Hanksonçš„è¶£å‘³é¢˜"></p><p>è¿™é“é¢˜è¿˜æ˜¯å¾ˆæœ‰ä¸œè¥¿çš„.<br><div class="note success no-icon flat"><p>é¦–å…ˆä½ å¾—å…ˆä¼šæš´åŠ›è§£:<br>æš´åŠ›æšä¸¾å‡º<code>d</code>çš„æ‰€æœ‰çº¦æ•°. <code>sqrt(10^9) * 2000</code><br>ç„¶ååˆ¤æ–­å“ªå‡ ä¸ªçº¦æ•°æ»¡è¶³æ¡ä»¶. <code>16u00 * lg n * 2000</code></p><p>ç„¶åä¼šå‘ç°: æœ€å¡æ—¶é—´çš„æ˜¯æ±‚<code>d</code>çš„æ‰€æœ‰çº¦æ•°.</p><p>è¿™é‡Œyæ€»æç¤º: æˆ‘ä»¬å¯ä»¥å…ˆæ±‚dçš„æ‰€æœ‰è´¨å› æ•°,ç„¶åé€šè¿‡è´¨å› æ•°æ‹¼å‡‘å‡ºæ‰€æœ‰çº¦æ•°.</p><p>ä¸ºå•¥è¿™æ ·åšä¼šæ›´å¿«å‘¢: å› ä¸ºç”¨åˆ°çš„è´¨æ•°ä¸ªæ•°å¾ˆå°‘<code>n / ln n</code>,è€Œä¸”ç»„æˆçš„çº¦æ•°ä¸ªæ•°ä¹Ÿæ¯”è¾ƒå°‘(1600ä»¥ä¸‹).</p></div></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> x first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> y second</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1000010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> prime[N],cnt;</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// dçš„æ‰€æœ‰è´¨å› æ•°å¯¹</span></span><br><span class="line">PII factor[<span class="number">1601</span>];</span><br><span class="line"><span class="type">int</span> fcnt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// dçš„æ‰€æœ‰çº¦æ•°</span></span><br><span class="line"><span class="type">int</span> dyue[<span class="number">1601</span>],dcnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">get_prime</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    st[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!st[i]) prime[cnt ++] = i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;prime[j] &lt;= n / i;j ++)&#123;</span><br><span class="line">            st[prime[j] * i] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(i % prime[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ€å¤§å…¬çº¦æ•°</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">gcd</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b ? <span class="built_in">gcd</span>(b, a % b) : a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ€å°å…¬å€æ•°</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lcm</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="comment">// é˜²çˆ†int</span></span><br><span class="line">    <span class="keyword">return</span> a / <span class="built_in">gcd</span>(a,b) * b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è€ƒè™‘åˆ°ç¬¬uä½,å½“å‰ä¹˜ç§¯ä¸ºp</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> p)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(u == fcnt)&#123;</span><br><span class="line">        dyue[dcnt ++] = p;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= factor[u].y;i ++)&#123;</span><br><span class="line">        <span class="comment">// </span></span><br><span class="line">        <span class="built_in">dfs</span>(u + <span class="number">1</span>,p);</span><br><span class="line">        p *= factor[u].x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">get_prime</span>(N - <span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">while</span>(n --)&#123;</span><br><span class="line">        <span class="type">int</span> a,b,c,d;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b&gt;&gt;c&gt;&gt;d;</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> t = d;</span><br><span class="line">        fcnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;prime[i] &lt;= t / prime[i];i ++)&#123;</span><br><span class="line">            <span class="type">int</span> p = prime[i];</span><br><span class="line">            <span class="keyword">if</span>(t % p == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="type">int</span> s = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">while</span>(t % p == <span class="number">0</span>) t /= p,s ++;</span><br><span class="line">                factor[fcnt ++] = &#123;p,s&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(t &gt; <span class="number">1</span>) factor[fcnt ++] = &#123;t,<span class="number">1</span>&#125;;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// çˆ†æœå‡ºdçš„æ‰€æœ‰çº¦æ•° </span></span><br><span class="line">        dcnt = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">dfs</span>(<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; dcnt;i ++)&#123;</span><br><span class="line">            <span class="type">int</span> x = dyue[i];</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">gcd</span>(a,x) == b &amp;&amp; <span class="built_in">lcm</span>(c,x) == d)&#123;</span><br><span class="line">                res ++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åƒè¿™æ ·ä¸åŒæ–¹æ³•æ¥å›åˆ‡æ¢çš„èƒ½åŠ›,çœŸçš„NB.<br>è¿™é“é¢˜è¿™æ ·åšä¸»è¦æ˜¯å–å·§,èƒ½å¤Ÿé€šè¿‡ä¸åŒæ–¹å¼æ±‚çº¦æ•°.</p><p>çº¦æ•°è¿™éƒ¨åˆ†å°±å­¦åˆ°è¿™é‡Œ,ä»™æœ¯å°±å…ˆä¸å­¦äº†.è€è€å®å®ç”¨ç®€å•çš„æ¨¡æ¿å§.</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwingç­›è´¨æ•°</title>
      <link href="/2023/04/01/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek5/Acwing%E7%AD%9B%E8%B4%A8%E6%95%B0/"/>
      <url>/2023/04/01/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek5/Acwing%E7%AD%9B%E8%B4%A8%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>ç­›è´¨æ•°,ä¸€å…±æœ‰ä¸‰ç§æ–¹æ³•.<br>æˆ‘çš„å»ºè®®æ˜¯è‡³å°‘è®°ä½åŸƒæ°ç­›.(ç®€å•é«˜æ•ˆ)</p><p>ä¸ç®¡æ˜¯å“ªç§ç­›,é¦–å…ˆè¦æ˜ç™½<u>è¯•é™¤æ³•æ±‚è´¨æ•°çš„è¿‡ç¨‹</u>.</p></div><div class="note success no-icon flat"><p><strong>åŸƒæ°ç­›</strong>:<br>éå†åˆ°ç´ æ•°æ—¶ç­›é™¤å…¶æ‰€æœ‰åˆæ•°<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> prime[N],cnt;</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">get_prime</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    st[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!st[i])&#123;</span><br><span class="line">            prime[cnt ++] = i;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = i + i;j &lt;= n;j += i)&#123;</span><br><span class="line">                st[j] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><code>10^7</code> 0.18så·¦å³<br><code>10^8</code> 2.3så·¦å³<br>1så·¦å³å¤§æ¦‚è¿è¡Œ<code>4 * 10^7</code>.</p><p><strong>çº¿æ€§ç­›</strong>:<br>åªä½¿ç”¨æœ€å°è´¨å› æ•°ç­›é™¤æ‰€æœ‰åˆæ•°,åšåˆ°æ¯ä¸ªæ•°ä¹‹åˆ¤æ–­ä¸€æ¬¡<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> prime[N],cnt;</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">get_prime</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    st[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!st[i]) prime[cnt ++] = i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;prime[j] &lt;= n / i;j ++)&#123;</span><br><span class="line">            st[prime[j] * i] = <span class="literal">true</span>;</span><br><span class="line">            <span class="comment">// ä¸å†æ˜¯æœ€å°è´¨å› æ•°</span></span><br><span class="line">            <span class="keyword">if</span>(i % prime[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><code>10^7</code> 0.13så·¦å³<br><code>10^8</code> 1.3så·¦å³<br>1så·¦å³å¤§æ¦‚è¿è¡Œ<code>6 * 10^7</code>.</p><p>çº¿æ€§ç­›ä»£ç é€»è¾‘æ€§å¾ˆå¼º,ç†æ¸…é€»è¾‘åè®°å¿†å°±ä¼šç®€å•å¾ˆå¤š.</p><p>é€šè¿‡æ—¶é—´ä¸Šçš„å¯¹æ¯”,åœ¨<code>10^6</code>å·¦å³,ä¸¤è€…æ²¡å¤ªå¤§å·®åˆ«,<code>10^7</code>åæ¨èç”¨çº¿æ€§ç­›.</p></div><h2 id="3792-è´¨æ•°é—®é¢˜"><a href="#3792-è´¨æ•°é—®é¢˜" class="headerlink" title="3792. è´¨æ•°é—®é¢˜"></a>3792. è´¨æ•°é—®é¢˜</h2><p>éå¸¸ç®€å•çš„æ¨¡æ¿é¢˜.</p><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230401/20230401_1.jpg" alt="è´¨æ•°é—®é¢˜"></p><p>æˆ‘å†™çš„:<br>å…ˆæ±‚1000ä»¥å†…æ‰€æœ‰è´¨æ•°,äºŒåˆ†æ‰¾æ¯”nå°çš„è´¨æ•°ä½ç½®,éå†æ±‚æ»¡è¶³è¦æ±‚çš„ä¸ªæ•°.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> prime[N],cnt;</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">get_prime</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    st[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!st[i])&#123;</span><br><span class="line">            prime[cnt ++] = i;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = i + i;j &lt;= n;j += i)&#123;</span><br><span class="line">                st[j] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">get_prime</span>(<span class="number">1003</span>);</span><br><span class="line">    <span class="type">int</span> t,n,k;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t --)&#123;</span><br><span class="line">        cin&gt;&gt;n&gt;&gt;k;</span><br><span class="line">        <span class="type">int</span> l = <span class="number">0</span>,r = cnt - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">            <span class="type">int</span> mid = l + r + <span class="number">1</span> &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(prime[mid] &lt;= n) l = mid;</span><br><span class="line">            <span class="keyword">else</span> r = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; l;i ++)&#123;</span><br><span class="line">            <span class="type">int</span> j = prime[i] + prime[i + <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(j &lt;= n &amp;&amp; !st[j]) ans ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(ans &gt;= k) <span class="built_in">puts</span>(<span class="string">&quot;YES&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">&quot;NO&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>yæ€»:<br>ç›´æ¥éå†2~n,åˆ¤æ–­æ»¡è¶³æ¡ä»¶çš„ä¸ªæ•°.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> prime[N],cnt;</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">get_prime</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    st[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!st[i]) prime[cnt ++] = i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;prime[j] &lt;= n / i;j ++)&#123;</span><br><span class="line">            st[prime[j] * i] = <span class="literal">true</span>;</span><br><span class="line">            <span class="comment">// ä¸å†æ˜¯æœ€å°è´¨å› æ•°</span></span><br><span class="line">            <span class="keyword">if</span>(i % prime[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">get_prime</span>(<span class="number">1003</span>);</span><br><span class="line">    <span class="type">int</span> t,n,k;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t --)&#123;</span><br><span class="line">        cin&gt;&gt;n&gt;&gt;k;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!st[i])&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt; cnt;j ++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(prime[j - <span class="number">1</span>] + prime[j] + <span class="number">1</span> == i)&#123;</span><br><span class="line">                        ans ++;</span><br><span class="line">                    &#125; </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(ans &gt;= k) <span class="built_in">puts</span>(<span class="string">&quot;YES&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">&quot;NO&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é“é¢˜æ›´å¤šçš„æ˜¯ä»‹ç»ä¸¤ç§ç´ æ•°ç­›.</p><h2 id="196-è´¨æ•°è·ç¦»"><a href="#196-è´¨æ•°è·ç¦»" class="headerlink" title="196. è´¨æ•°è·ç¦»"></a>196. è´¨æ•°è·ç¦»</h2><p>è¿™é“é¢˜æ‰æ›´åƒæ˜¯è€ƒæ•°è®ºç›¸å…³çš„çŸ¥è¯†.</p><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230401/20230401_2.jpg" alt="è´¨æ•°è·ç¦»"></p><div class="note info no-icon flat"><p>ç”±ä¸Šé¢çš„æ—¶é—´å¯ä»¥çœ‹å‡º,å³ä½¿æ˜¯çº¿æ€§ç­›,ä¹Ÿä¸èƒ½è¶…è¿‡<code>10^8</code>.<br>æ‰€ä»¥è¿™é“é¢˜è‚¯å®šä¸èƒ½åªç”¨çº¿æ€§ç­›.å¿…é¡»æŒ–æ˜ä¸€äº›ç›¸å…³æ€§è´¨å‡ºæ¥.</p><p><strong>æ€§è´¨</strong>: <code>n</code>ä¸ºåˆæ•°,å¿…ç„¶å­˜åœ¨ä¸€ä¸ªè´¨å› å­<code>x</code>æ»¡è¶³<code>x &lt;= sqrt(n)</code>.(ç®€å•è¯æ˜)</p><p>æœ‰äº†è¿™ä¸ªæ€§è´¨å,æˆ‘ä»¬åªéœ€è¦æ±‚<code>sqrt(2^31 - 1)</code>å¤§æ¦‚<code>50000</code>å·¦å³çš„è´¨æ•°.<br>ç„¶åä½¿ç”¨è¿™äº›è´¨æ•°ç­›é™¤æ‰<code>[l,r]</code>ä¸­çš„åˆæ•°,å°†å‰©ä¸‹çš„è´¨æ•°ä¿å­˜ä¸‹æ¥.<br>æœ€åéå†æ±‚ç»“æœ.</p><p><strong>æ€§è´¨2</strong>: <code>a/b ä¸Šå–æ•´ == (a + b - 1) / b ä¸‹å–æ•´</code>.(c++ <code>/</code>éƒ½æ˜¯ä¸‹å–æ•´).</p></div><p>æœ¬é¢˜ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1000010</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> l,r;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> prime[N],cnt;</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">get_prime</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(st,<span class="number">0</span>,<span class="keyword">sizeof</span> st);</span><br><span class="line">    cnt = <span class="number">0</span>;</span><br><span class="line">    st[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!st[i]) prime[cnt ++] = i;</span><br><span class="line">        <span class="comment">// å€¼ç”¨æœ€å°è´¨å› æ•°ç­›é™¤åˆæ•°</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;prime[j] &lt;= n / i;j ++)&#123;</span><br><span class="line">            st[prime[j] * i] = <span class="literal">true</span>;</span><br><span class="line">            <span class="comment">// æœ€å°è´¨å› æ•°ç”¨å®Œ</span></span><br><span class="line">            <span class="keyword">if</span>(i % prime[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(cin&gt;&gt;l&gt;&gt;r)&#123;</span><br><span class="line">        <span class="built_in">get_prime</span>(N - <span class="number">1</span>);</span><br><span class="line">        <span class="comment">// ç”¨è´¨æ•°ç­›é™¤æ‰[l,r]ä¹‹é—´çš„åˆæ•°</span></span><br><span class="line">        <span class="built_in">memset</span>(st,<span class="number">0</span>,<span class="keyword">sizeof</span> st);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; cnt;i ++)&#123;</span><br><span class="line">            LL p = prime[i];</span><br><span class="line">            <span class="comment">// [l,r]åŒ…å«pçš„æƒ…å†µ,ä¸èƒ½æŠŠpè‡ªå·±ç­›æ‰</span></span><br><span class="line">            <span class="keyword">for</span>(LL j = <span class="built_in">max</span>((l + p - <span class="number">1</span>) / p * p,<span class="number">2</span> * p);j &lt;= r;j += p)&#123;</span><br><span class="line">                st[j - l] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è®°å½•å‰©ä¸‹çš„ç´ æ•°</span></span><br><span class="line">        cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= r - l;i ++)&#123;</span><br><span class="line">            <span class="comment">// 1è¦ç‰¹åˆ¤</span></span><br><span class="line">            <span class="keyword">if</span>(!st[i] &amp;&amp; i + l &gt;= <span class="number">2</span>)&#123;</span><br><span class="line">                prime[cnt ++] = i + l;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(cnt &lt; <span class="number">2</span>) <span class="built_in">puts</span>(<span class="string">&quot;There are no adjacent primes.&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="type">int</span> minp = <span class="number">0</span>,maxp = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; cnt - <span class="number">1</span>;i ++)&#123;</span><br><span class="line">                <span class="type">int</span> t = prime[i + <span class="number">1</span>] - prime[i];</span><br><span class="line">                <span class="keyword">if</span>(t &lt; prime[minp + <span class="number">1</span>] - prime[minp]) minp = i;</span><br><span class="line">                <span class="keyword">if</span>(t &gt; prime[maxp + <span class="number">1</span>] - prime[maxp]) maxp = i;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d,%d are closest, %d,%d are most distant.\n&quot;</span>,prime[minp],prime[minp + <span class="number">1</span>],prime[maxp],prime[maxp + <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™é“é¢˜å¾ˆæœ‰ç ”ç©¶ä»·å€¼.</p><p>è´¨æ•°ç›¸å…³çš„å°±å…ˆåˆ°è¿™é‡Œå§.</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwing_äºŒåˆ†å›¾ç›¸å…³</title>
      <link href="/2023/03/31/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek4/Acwing-%E4%BA%8C%E5%88%86%E5%9B%BE%E7%9B%B8%E5%85%B3/"/>
      <url>/2023/03/31/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek4/Acwing-%E4%BA%8C%E5%88%86%E5%9B%BE%E7%9B%B8%E5%85%B3/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><font size=4><b>å‰è¨€ğŸ“</b></font><p>äºŒåˆ†å›¾å•Š,yæ€»ç›´æ¥åŒ–èº«æ‹çˆ±å¯¼å¸ˆ.</p><p>äºŒåˆ†å›¾æœ€å¸¸è€ƒçš„å°±æ˜¯æœ€å¤§åŒ¹é…,è€Œyæ€»è¿™éƒ¨åˆ†è®²çš„æœ€ç”ŸåŠ¨.hhh</p></div><div class="note success no-icon flat"><p>äºŒåˆ†å›¾ä¹‹<strong>å•ç‚¹åŒ¹é…</strong>:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç‚¹tèƒ½å¦åŒ¹é…</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">find</span><span class="params">(<span class="type">int</span> t)</span></span>&#123;</span><br><span class="line">    <span class="comment">// éå†è¯¥ç‚¹æ‰€æœ‰åŒ¹é…ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = h[t];~i;i = ne[i])&#123;</span><br><span class="line">        <span class="type">int</span> j = e[i];</span><br><span class="line">        <span class="comment">// jç‚¹æœªè¢«æ ‡è®°</span></span><br><span class="line">        <span class="keyword">if</span>(!st[j])&#123;</span><br><span class="line">            <span class="comment">// æ ‡è®°jç‚¹</span></span><br><span class="line">            st[j] = <span class="literal">true</span>;</span><br><span class="line">            <span class="comment">// jç‚¹æœªåŒ¹é… || jç‚¹çš„åŒ¹é…å¯¹è±¡å¯åŒ¹é…å…¶ä»–äºº</span></span><br><span class="line">            <span class="keyword">if</span>(!match[j] || <span class="built_in">find</span>(match[j]))&#123;</span><br><span class="line">                <span class="comment">// j ä¸ t åŒ¹é…</span></span><br><span class="line">                match[j] = t;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>æ˜¯ä¸æ˜¯éå¸¸çš„ç”ŸåŠ¨.<br>å€¼å¾—æ³¨æ„çš„ä¸€ç‚¹,è¿™åªæ˜¯å•äººåŒ¹é….<br>æ±‚æœ€å¤§åŒ¹é…å¿…é¡»å®Œæ•´éå†å®Œä¸€è¾¹æ‰€æœ‰ç‚¹,åŒæ—¶è®°å¾—<span class='p red'>æ¯æ¬¡æ¸…ç©ºstæ•°ç»„</span>.</p></div><h2 id="1394-å®Œç¾ç‰›æ£š"><a href="#1394-å®Œç¾ç‰›æ£š" class="headerlink" title="1394. å®Œç¾ç‰›æ£š"></a>1394. å®Œç¾ç‰›æ£š</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230331/20230331_4.jpg" alt="å®Œç¾ç‰›æ£š"></p><p>å¯è°“æ˜¯æ¨¡æ¿é¢˜,ä¸€ç‚¹éƒ½æ²¡å˜.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">210</span>,M = <span class="number">40010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> h[N],e[M],ne[M],idx;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> match[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">find</span><span class="params">(<span class="type">int</span> t)</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = h[t];~i;i = ne[i])&#123;</span><br><span class="line">        <span class="type">int</span> j = e[i];</span><br><span class="line">        <span class="keyword">if</span>(!st[j])&#123;</span><br><span class="line">            st[j] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(!match[j] || <span class="built_in">find</span>(match[j]))&#123;</span><br><span class="line">                match[j] = t;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> s,x;</span><br><span class="line">        cin&gt;&gt;s;</span><br><span class="line">        <span class="keyword">while</span>(s --)&#123;</span><br><span class="line">            cin&gt;&gt;x;</span><br><span class="line">            <span class="built_in">add</span>(i,x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="built_in">memset</span>(st,<span class="number">0</span>,<span class="keyword">sizeof</span> st);</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">find</span>(i))&#123;</span><br><span class="line">            res ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä½†è¿™å¹¶ä¸æ„å‘³ç€äºŒåˆ†å›¾å°±å¾ˆç®€å•.</p><h2 id="257-å…³æŠ¼ç½ªçŠ¯"><a href="#257-å…³æŠ¼ç½ªçŠ¯" class="headerlink" title="257. å…³æŠ¼ç½ªçŠ¯"></a>257. å…³æŠ¼ç½ªçŠ¯</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230331/20230331_5.jpg" alt="å…³æŠ¼ç½ªçŠ¯"></p><p>äºŒåˆ†,åˆæ˜¯äºŒåˆ†,äºŒåˆ†ç®—æ³•æœç„¶NB.å¯æƒœæˆ‘åˆæ²¡æœ‰çœ‹å‡ºæ¥.(è¿™é“é¢˜éå¸¸çš„è€äº†)<br>çœ‹å®Œé¢˜è§£å,è¿˜æ˜¯åªèƒ½è¯´nb.</p><div class="note info no-icon flat"><p>æ€è·¯:<br>ç­”æ¡ˆä¸€å®šæ˜¯åœ¨<code>[0,1e9]</code>ä¹‹é—´çš„,ç°åœ¨è®¾ç­”æ¡ˆä¸ºx.<br>åˆ™å›¾ä¸­æ‰€æœ‰å¤§äºxçš„è¾¹æ„é€ çš„å›¾ä¸€å®šæ˜¯äºŒåˆ†å›¾.<br>å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨äºŒåˆ†æ±‚å‡ºx.</p><p>(æ€è·¯å‡ºæ¥åä»£ç æ˜¯è¡Œäº‘æµæ°´çš„)</p></div><p>æœ¬é¢˜ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">20010</span>,M = <span class="number">200010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> h[N],e[M],w[M],ne[M],idx;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> color[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b,<span class="type">int</span> c)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    w[idx] = c;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// dfsåˆ¤æ–­æ˜¯å¦æ˜¯äºŒåˆ†å›¾</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> c,<span class="type">int</span> mid)</span></span>&#123;</span><br><span class="line">    color[u] = c;</span><br><span class="line">    <span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = h[u];~i;i = ne[i])&#123;</span><br><span class="line">        <span class="type">int</span> j = e[i];</span><br><span class="line">        <span class="keyword">if</span>(w[i] &lt;= mid) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(!color[j])&#123;</span><br><span class="line">            flag = <span class="built_in">dfs</span>(j,<span class="number">3</span> - c,mid);</span><br><span class="line">            <span class="keyword">if</span>(!flag) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(color[j] == c)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> mid)</span></span>&#123;</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–æŸ“è‰²æ•°ç»„</span></span><br><span class="line">    <span class="built_in">memset</span>(color,<span class="number">0</span>,<span class="keyword">sizeof</span> color);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!color[i])&#123;</span><br><span class="line">            <span class="keyword">if</span>(!<span class="built_in">dfs</span>(i,<span class="number">1</span>,mid)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> l = <span class="number">0</span>,r = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(m --)&#123;</span><br><span class="line">        <span class="type">int</span> a,b,c;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class="line">        <span class="built_in">add</span>(a,b,c);</span><br><span class="line">        <span class="built_in">add</span>(b,a,c);</span><br><span class="line">        r = <span class="built_in">max</span>(r,c);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// äºŒåˆ†åˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">        <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) r = mid;</span><br><span class="line">        <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;l&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>çœŸçš„,ä¸å¾—ä¸æ„Ÿå¹äººå’Œäººçš„å·®è·,æœ‰æ—¶å€™æ¯”äººå’Œç‹—çš„éƒ½å¤§.</p><h2 id="372-æ£‹ç›˜è¦†ç›–"><a href="#372-æ£‹ç›˜è¦†ç›–" class="headerlink" title="372. æ£‹ç›˜è¦†ç›–"></a>372. æ£‹ç›˜è¦†ç›–</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230331/20230331_6.jpg" alt="æ£‹ç›˜è¦†ç›–"></p><div class="note info no-icon flat"><p>è¿™è¦æ˜¯æ”¾ä¹‹å‰,æˆ‘è‚¯å®šæ˜¯DFSæš´åŠ›åšäº†.</p><p>è¿™é‡Œæœ‰ä¸€ä¸ªéå¸¸æ–°å¥‡çš„è§’åº¦,å¯ä»¥å°†æ£‹ç›˜æ‹†åˆ†æˆäºŒåˆ†å›¾:<br>(i + j) ä¸º å¥‡æ•° è®¾ä¸ºç™½æ ¼å­<br>(i + j) ä¸º å¶æ•° è®¾ä¸ºé»‘æ ¼å­<br>ä¸€å—éª¨ç‰Œ == ä¸€ä¸ªç™½æ ¼å­ä¸æœ€è¿‘çš„é»‘æ ¼å­åŒ¹é….<br>å¤ªNiceäº†.</p><p>åœ¨è¿™ç§æ€è·¯ä¸‹,æœ¬é¢˜å°±è½¬åŒ–æˆå¸¦é™åˆ¶æ¡ä»¶çš„äºŒåˆ†å›¾æœ€å¤§åŒ¹é….(åŸºæœ¬å°±æ˜¯æ¨¡æ¿é¢˜)</p></div><p>æœ¬é¢˜ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="comment">// æ ‡è®°ä¸å¯ç”¨</span></span><br><span class="line"><span class="type">bool</span> g[N][N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> dir[<span class="number">4</span>][<span class="number">2</span>] = &#123;&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line">PII match[N][N];</span><br><span class="line"><span class="type">bool</span> st[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">4</span>;i ++)&#123;</span><br><span class="line">        <span class="comment">// å››æ–¹å‘ä¸Šçš„é»‘æ ¼å­</span></span><br><span class="line">        <span class="type">int</span> a = x + dir[i][<span class="number">0</span>],b = y + dir[i][<span class="number">1</span>];</span><br><span class="line">        <span class="comment">// åœ¨æ£‹ç›˜ä¸­ä¸”æœªè¢«æ ‡è®°</span></span><br><span class="line">        <span class="keyword">if</span>(a &amp;&amp; a &lt;= n &amp;&amp; b &amp;&amp; b &lt;= n &amp;&amp; !g[a][b] &amp;&amp; !st[a][b])&#123;</span><br><span class="line">            st[a][b] = <span class="literal">true</span>;</span><br><span class="line">            PII t = match[a][b];</span><br><span class="line">            <span class="keyword">if</span>(t.first == <span class="number">0</span> || <span class="built_in">find</span>(t.first,t.second))&#123;</span><br><span class="line">                match[a][b] = &#123;x,y&#125;;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t --)&#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        g[a][b] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">            <span class="built_in">memset</span>(st,<span class="number">0</span>,<span class="keyword">sizeof</span> st);</span><br><span class="line">            <span class="comment">// è€ƒè™‘ç™½æ ¼å­</span></span><br><span class="line">            <span class="keyword">if</span>((i + j) % <span class="number">2</span> &amp;&amp; !g[i][j])&#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">find</span>(i,j))&#123;</span><br><span class="line">                    res ++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p><p>äºŒåˆ†å›¾å°±åˆ°è¿™é‡Œäº†,å›¾è®ºä¹Ÿå°±åˆ°è¿™é‡Œäº†.(å›¾è®ºçœŸç²¾å½©)</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwing_æœ€è¿‘å…¬å…±ç¥–å…ˆ</title>
      <link href="/2023/03/31/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek4/Acwing-%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88/"/>
      <url>/2023/03/31/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek4/Acwing-%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>åŸºç¡€è¯¾æ²¡å‡ºç°çš„çŸ¥è¯†.<br>æœ€è¿‘å…¬å…±ç¥–å…ˆ(LCA)ç®—æ³•,ä¸€ä¸ªéå¸¸ç»å…¸çš„ç®—æ³•.(åœ¨æé«˜è¯¾ä¸­å­¦ä¹ )</p></div><div class="note success no-icon flat"><p>LCAæœ€å¸¸ç”¨çš„æ–¹æ³•: <strong>å€å¢æ³•</strong></p><p><strong>å€å¢æ€è·¯</strong>: <code>O(n * lg n)</code><br><code>depth[i]</code>è¡¨ç¤º<code>i</code>çš„æ·±åº¦<br>1: å®šä¹‰<code>f[i,j]</code> è¡¨ç¤ºä»<code>i</code>å¼€å§‹å‘ä¸Šèµ°<code>2^j</code>æ­¥èƒ½åˆ°è¾¾çš„ä½ç½®.<code>f(i,j)</code>: <code>f(i,j) = f(f(i,j-1),j-1)</code>(j &gt; 0).<br>å…ˆé¢„å¤„ç†å‡º<code>f(i,j)</code>å’Œ<code>depth[i]</code>.<br>æ³¨æ„: è¿™é‡Œå¯èƒ½ä¼šè·³è¿‡æ ¹èŠ‚ç‚¹,é‚£ä¹ˆå°±è¿”å›<code>f(i,j) = 0</code>åŒæ—¶<code>depth[i] = 0</code>.ç®€å•è¯´æ˜¯è®¾ç½®äº†ä¸€ä¸ªå“¨å…µ<code>depth[0] = 0</code>.</p><p>2: å…ˆè®©ä¸¤ä¸ªç‚¹è·³åˆ°åŒä¸€å±‚(ä½¿ç”¨äºŒè¿›åˆ¶æ‹¼å‡‘æ–¹æ³•).<br>3: ä¸¤ä¸ªç‚¹åŒæ—¶è·³åˆ°æœ€è¿‘å…¬å…±ç¥–å…ˆçš„ä¸‹ä¸€å±‚.<br>4:  ç­”æ¡ˆä¸ºf(x,0)æˆ–f(y,0).(æ˜¯åŒä¸€ä¸ªå€¼)</p><p><span class='p red'>è¿™é‡Œçš„æ€è·¯å¯èƒ½ä¼šæœ‰ç‚¹ä¹±</span></p><p>æ¨¡æ¿ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> h[N],e[M],ne[M],idx;</span><br><span class="line"><span class="comment">// å„ç‚¹çš„æ·±åº¦</span></span><br><span class="line"><span class="type">int</span> depth[N];</span><br><span class="line"><span class="comment">// å€å¢é€’æ¨æ•°ç»„ 16ç”±é¢˜ç›®èŒƒå›´å†³å®š</span></span><br><span class="line"><span class="type">int</span> fa[N][<span class="number">16</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤„ç†å€å¢é€’æ¨æ•°ç»„ + è®°å½•æ¯ä¸ªç‚¹çš„depth</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bfs</span><span class="params">(<span class="type">int</span> root)</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(depth,<span class="number">0x3f3f</span>,<span class="keyword">sizeof</span> depth);</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    <span class="comment">// è®¾ç½®å“¨å…µ</span></span><br><span class="line">    depth[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// æ ¹</span></span><br><span class="line">    depth[root] = <span class="number">1</span>;</span><br><span class="line">    q.<span class="built_in">push</span>(root);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="type">int</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = h[t];~i;i = ne[i])&#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="comment">// æœªæ›´æ–°è¿‡</span></span><br><span class="line">            <span class="keyword">if</span>(depth[j] &gt; depth[t] + <span class="number">1</span>)&#123;</span><br><span class="line">                depth[j] = depth[t] + <span class="number">1</span>;</span><br><span class="line">                q.<span class="built_in">push</span>(j);</span><br><span class="line">                <span class="comment">// å¤„ç†å€å¢é€’æ¨æ•°ç»„</span></span><br><span class="line">                <span class="comment">// è·³2^0æ­¥</span></span><br><span class="line">                fa[j][<span class="number">0</span>] = t;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">1</span>;k &lt; <span class="number">16</span>;k ++)</span><br><span class="line">                    fa[j][k] = fa[fa[j][k - <span class="number">1</span>]][k - <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// LCAä¸»è¦é€»è¾‘</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">get_lca</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="comment">// ä¿æŒaæ›´è¿‘</span></span><br><span class="line">    <span class="keyword">if</span>(depth[a] &gt; depth[b]) <span class="built_in">swap</span>(a,b);</span><br><span class="line">    <span class="comment">// bå‘ä¸Šè·³</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">15</span>;~k;k --)&#123;</span><br><span class="line">        <span class="comment">// äºŒè¿›åˆ¶æ‹¼å‡‘æ³•</span></span><br><span class="line">        <span class="keyword">if</span>(depth[fa[b][k]] &gt;= depth[a])</span><br><span class="line">            b = fa[b][k];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ°åŒä¸€å±‚äº†</span></span><br><span class="line">    <span class="keyword">if</span>(a == b) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="comment">// åŒæ—¶å‘ä¸Šè·³,ç›´åˆ°æœ€ç´§å…¬å…±ç¥–å…ˆçš„ä¸‹ä¸€å±‚</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">15</span>;~k;k --)&#123;</span><br><span class="line">        <span class="keyword">if</span>(fa[a][k] != fa[b][k])&#123;</span><br><span class="line">            a = fa[a][k];</span><br><span class="line">            b = fa[b][k];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fa[a][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><br>å…³äºä»£ç è§£æ<a href="https://www.acwing.com/solution/content/20554/">ç¥–å­™è¯¢é—®(æ ‘ä¸Šå€å¢LCA) </a>è¿™ç¯‡æ˜¯å†™çš„æœ€å¥½çš„.</p></div><h2 id="3555-äºŒå‰æ ‘"><a href="#3555-äºŒå‰æ ‘" class="headerlink" title="3555. äºŒå‰æ ‘"></a>3555. äºŒå‰æ ‘</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230331/20230331_1.jpg" alt="äºŒå‰æ ‘"></p><p>ä¸€é“å¾ˆè£¸çš„é¢˜,æœ‰å¾ˆå¤šç§è§£æ³•: <a href="https://www.acwing.com/solution/content/127051/">AcWing 3555. äºŒå‰æ ‘ | å€å¢ | tarjan</a></p><p>ä¸è¿‡åœ¨è¿™é‡Œæˆ‘ä»¬å°±å†™ä¸€ä¸ªæœ´ç´ çš„LCAè§£æ³•.</p><div class="note info no-icon flat"><p>æ€è·¯:<br>1: é¢„å¤„ç†æ¯ä¸ªç‚¹åˆ°æ ¹èŠ‚ç‚¹çš„è·ç¦»<br>2: å°†è¯¢é—®çš„a,bå‘ä¸Šèµ°,ç›´åˆ°èµ°åˆ°åŒä¸€ä¸ªèŠ‚ç‚¹.<br>(è®¾aæ˜¯è¾ƒæ·±çš„èŠ‚ç‚¹,å…ˆaå‘ä¸Šèµ°åˆ°å’ŒbåŒå±‚,åˆ¤æ–­ååŒæ—¶å‘ä¸Šèµ°)</p><p>è¿™é“é¢˜ç”±äºæ ‘æ˜¯äºŒå‰æ ‘,æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨éå¸¸ç®€å•çš„æ–¹å¼å»ºæ ‘,æ±‚ç‚¹åˆ°æ ¹çš„è·ç¦».</p></div><p>æœ¬é¢˜ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="comment">// äºŒå‰æ ‘ç»“æ„(ç®€å•æœ‰æ•ˆ)</span></span><br><span class="line"><span class="type">int</span> l[N],r[N],p[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸æ ¹èŠ‚ç‚¹è·ç¦»</span></span><br><span class="line"><span class="type">int</span> d[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// uèŠ‚ç‚¹ä¸æ ¹èŠ‚ç‚¹è·ç¦»</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> ds)</span></span>&#123;</span><br><span class="line">    d[u] = ds;</span><br><span class="line">    <span class="keyword">if</span>(l[u] != <span class="number">-1</span>) <span class="built_in">dfs</span>(l[u],ds + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(r[u] != <span class="number">-1</span>) <span class="built_in">dfs</span>(r[u],ds + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">get_lca</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="comment">// ä¿æŒaæ¯”bæ›´è¿‘</span></span><br><span class="line">    <span class="keyword">if</span>(d[a] &gt; d[b]) <span class="built_in">swap</span>(a,b);</span><br><span class="line">    <span class="comment">// bå…ˆçˆ¬åˆ°å’ŒaåŒä¸€é«˜åº¦</span></span><br><span class="line">    <span class="keyword">while</span>(d[b] &gt; d[a]) b = p[b];</span><br><span class="line">    <span class="comment">// åŒæ—¶å‘ä¸Šçˆ¬ç›´åˆ°çˆ¬åˆ°åŒä¸€ä¸ªç‚¹</span></span><br><span class="line">    <span class="keyword">while</span>(a != b) a = p[a],b = p[b];</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t --)&#123;</span><br><span class="line">        <span class="built_in">memset</span>(l,<span class="number">-1</span>,<span class="keyword">sizeof</span> l);</span><br><span class="line">        <span class="built_in">memset</span>(r,<span class="number">-1</span>,<span class="keyword">sizeof</span> r);</span><br><span class="line">        cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">            <span class="type">int</span> a,b;</span><br><span class="line">            cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">            l[i] = a;</span><br><span class="line">            r[i] = b;</span><br><span class="line">            <span class="keyword">if</span>(a != <span class="number">-1</span>) p[a] = i;</span><br><span class="line">            <span class="keyword">if</span>(b != <span class="number">-1</span>) p[b] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">dfs</span>(<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">while</span>(m --)&#123;</span><br><span class="line">            <span class="type">int</span> a,b;</span><br><span class="line">            cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">            <span class="type">int</span> c = <span class="built_in">get_lca</span>(a,b);</span><br><span class="line">            cout&lt;&lt;d[a] + d[b] - <span class="number">2</span> * d[c]&lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p><h2 id="1172-ç¥–å­™è¯¢é—®"><a href="#1172-ç¥–å­™è¯¢é—®" class="headerlink" title="1172. ç¥–å­™è¯¢é—®"></a>1172. ç¥–å­™è¯¢é—®</h2><p><strong>LCAæ¨¡æ¿é¢˜</strong>.è¿™é“é¢˜çš„æ€è·¯å’Œä¸Šé¢˜æ˜¯ä¸€æ ·çš„,åªæ˜¯æ ‘çš„ç»“æ„æ›´å¤æ‚ä¸€ç‚¹.<br>åŒæ—¶,æ•°æ®èŒƒå›´å†³å®šäº†ä¸Šé¢é‚£ç§å†™æ³•<code>æœ€åO(m* n)</code>æ˜¯è¿‡ä¸äº†çš„.</p><p>è¿™é“é¢˜ä¹Ÿæ˜¯æœ€ä¸Šé¢<strong>å€å¢æ€è·¯</strong>çš„ä¾‹å­.å¤æ‚åº¦<code>é¢„å¤„ç†O(n *lg n) + æŸ¥è¯¢O(m * lg n)</code>.</p><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230331/20230331_2.jpg" alt="ç¥–å­™è¯¢é—®"></p><p>è¿™é“é¢˜çš„æ€è·¯å‰é¢å·²ç»å†™çš„å¾ˆæ¸…æ¥šäº†.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">40010</span>,M = <span class="number">2</span> * N;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> h[N],e[M],ne[M],idx;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å„ç‚¹çš„æ·±åº¦</span></span><br><span class="line"><span class="type">int</span> depth[N];</span><br><span class="line"><span class="comment">// å€å¢é€’æ¨æ•°ç»„</span></span><br><span class="line"><span class="type">int</span> fa[N][<span class="number">16</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤„ç†å€å¢é€’æ¨æ•°ç»„ + è®°å½•æ¯ä¸ªç‚¹çš„depth</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bfs</span><span class="params">(<span class="type">int</span> root)</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(depth,<span class="number">0x3f3f</span>,<span class="keyword">sizeof</span> depth);</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    <span class="comment">// è®¾ç½®å“¨å…µ</span></span><br><span class="line">    depth[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// æ ¹</span></span><br><span class="line">    depth[root] = <span class="number">1</span>;</span><br><span class="line">    q.<span class="built_in">push</span>(root);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="type">int</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = h[t];~i;i = ne[i])&#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="comment">// æœªæ›´æ–°è¿‡</span></span><br><span class="line">            <span class="keyword">if</span>(depth[j] &gt; depth[t] + <span class="number">1</span>)&#123;</span><br><span class="line">                depth[j] = depth[t] + <span class="number">1</span>;</span><br><span class="line">                q.<span class="built_in">push</span>(j);</span><br><span class="line">                <span class="comment">// å¤„ç†å€å¢é€’æ¨æ•°ç»„</span></span><br><span class="line">                <span class="comment">// è·³2^0æ­¥</span></span><br><span class="line">                fa[j][<span class="number">0</span>] = t;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">1</span>;k &lt; <span class="number">16</span>;k ++)</span><br><span class="line">                    fa[j][k] = fa[fa[j][k - <span class="number">1</span>]][k - <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">get_lca</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="comment">// ä¿æŒaæ›´è¿‘</span></span><br><span class="line">    <span class="keyword">if</span>(depth[a] &gt; depth[b]) <span class="built_in">swap</span>(a,b);</span><br><span class="line">    <span class="comment">// bå‘ä¸Šè·³</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">15</span>;~k;k --)&#123;</span><br><span class="line">        <span class="comment">// äºŒè¿›åˆ¶æ‹¼å‡‘æ³•</span></span><br><span class="line">        <span class="keyword">if</span>(depth[fa[b][k]] &gt;= depth[a])</span><br><span class="line">            b = fa[b][k];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ°åŒä¸€å±‚äº†</span></span><br><span class="line">    <span class="keyword">if</span>(a == b) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="comment">// åŒæ—¶å‘ä¸Šè·³,ç›´åˆ°æœ€ç´§å…¬å…±ç¥–å…ˆçš„ä¸‹ä¸€å±‚</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">15</span>;~k;k --)&#123;</span><br><span class="line">        <span class="keyword">if</span>(fa[a][k] != fa[b][k])&#123;</span><br><span class="line">            a = fa[a][k];</span><br><span class="line">            b = fa[b][k];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fa[a][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    <span class="type">int</span> root = <span class="number">0</span>;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">while</span>(n --)&#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        <span class="keyword">if</span>(b == <span class="number">-1</span>) root = a;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">add</span>(a,b);</span><br><span class="line">            <span class="built_in">add</span>(b,a);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">bfs</span>(root);</span><br><span class="line">    cin&gt;&gt;m;</span><br><span class="line">    <span class="keyword">while</span>(m --)&#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        <span class="type">int</span> c = <span class="built_in">get_lca</span>(a,b);</span><br><span class="line">        <span class="keyword">if</span>(c == a) cout&lt;&lt;<span class="number">1</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(c == b) cout&lt;&lt;<span class="number">2</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">else</span> cout&lt;&lt;<span class="number">0</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="1171-è·ç¦»"><a href="#1171-è·ç¦»" class="headerlink" title="1171. è·ç¦»"></a>1171. è·ç¦»</h2><p>è¿™é¢˜ä¸€çœ‹å°±æ˜¯<code>floyd</code>,å†çœ‹æ•°æ®èŒƒå›´<code>10^4</code>â€¦åˆšå¥½å¡æ­»<code>æœ´ç´ floyd</code>.<br>è¯´æ˜è¦å¯¹<code>floyd</code>è¿›è¡Œä¼˜åŒ–,ç»“åˆç°åœ¨å­¦çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ.</p><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230331/20230331_3.jpg" alt="è·ç¦»"></p><p>è¯•è¿‡ä¹‹å,555,å¤±è´¥äº†,ä¸€ä¸ªéƒ½æ²¡è¿‡,æ²¡æƒ³åˆ°å•Š.<br>çœ‹å®Œé¢˜è§£æ€è·¯,ç›´å‘¼tarjanNB.<br>ä½†çœ‹å®Œè¯„è®º,å§æ§½,æˆ‘åªéœ€è¦ç•¥å¾®ä¿®æ”¹,å°±å¯ä»»æ„ç›´æ¥ä½¿ç”¨å€å¢æ³•æ±‚æœ€çŸ­è·¯.</p><h3 id="å€å¢æ³•è§£æœ€çŸ­è·¯"><a href="#å€å¢æ³•è§£æœ€çŸ­è·¯" class="headerlink" title="å€å¢æ³•è§£æœ€çŸ­è·¯"></a>å€å¢æ³•è§£æœ€çŸ­è·¯</h3><p>æŒ‡å®šä¸€ä¸ªç‚¹ä¸ºrootèŠ‚ç‚¹,åœ¨æ›´æ–°<code>depth</code>åŒæ—¶æ›´æ–°å…¶ä»–ç‚¹åˆ°rootç‚¹çš„è·ç¦».<br>ç„¶åä»»æ„ä¸¤ç‚¹çš„è·ç¦»å°±æ˜¯å’Œç¬¬ä¸€é¢˜ä¸€æ ·äº†.<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">10010</span>,M = <span class="number">2</span> * N,INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> h[N],e[M],w[M],ne[M],idx;</span><br><span class="line"></span><br><span class="line"><span class="comment">// LCAç›¸å…³</span></span><br><span class="line"><span class="type">int</span> depth[N];</span><br><span class="line"><span class="type">int</span> fa[N][<span class="number">16</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ€çŸ­è·¯è·ç¦»</span></span><br><span class="line"><span class="type">int</span> d[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b,<span class="type">int</span> c)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    w[idx] = c;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bfs</span><span class="params">(<span class="type">int</span> root)</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(depth,INF,<span class="keyword">sizeof</span> depth);</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    <span class="comment">// å“¨å…µ</span></span><br><span class="line">    depth[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    depth[root] = <span class="number">1</span>;</span><br><span class="line">    q.<span class="built_in">push</span>(root);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="type">int</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = h[t];~i;i = ne[i])&#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="comment">// æœªæ›´æ–°çš„æ›´æ–°</span></span><br><span class="line">            <span class="keyword">if</span>(depth[j] &gt; depth[t] + <span class="number">1</span>)&#123;</span><br><span class="line">                depth[j] = depth[t] + <span class="number">1</span>;</span><br><span class="line">                <span class="comment">// åŒæ—¶æ›´æ–°å„ç‚¹åˆ°rootæœ€çŸ­è·¯</span></span><br><span class="line">                d[j] = d[t] + w[i];</span><br><span class="line">                q.<span class="built_in">push</span>(j);</span><br><span class="line">                <span class="comment">// å¤„ç†å€å¢</span></span><br><span class="line">                fa[j][<span class="number">0</span>] = t;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">1</span>;k &lt; <span class="number">16</span>;k ++)&#123;</span><br><span class="line">                    fa[j][k] = fa[fa[j][k - <span class="number">1</span>]][k - <span class="number">1</span>];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">get_lca</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="comment">// ä¿æŒaæ›´è¿‘</span></span><br><span class="line">    <span class="keyword">if</span>(depth[a] &gt; depth[b]) <span class="built_in">swap</span>(a,b);</span><br><span class="line">    <span class="comment">// bå‘ä¸Šè·³</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">15</span>;~k;k --)&#123;</span><br><span class="line">        <span class="keyword">if</span>(depth[fa[b][k]] &gt;= depth[a])</span><br><span class="line">            b = fa[b][k];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åŒä¸€å±‚</span></span><br><span class="line">    <span class="keyword">if</span>(b == a) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="comment">// åŒæ—¶å‘ä¸Šè·³åˆ°LCAä¸‹ä¸€å±‚</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">15</span>;~k;k --)&#123;</span><br><span class="line">        <span class="keyword">if</span>(fa[a][k] != fa[b][k])&#123;</span><br><span class="line">            a = fa[a][k];</span><br><span class="line">            b = fa[b][k];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fa[a][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    <span class="built_in">memset</span>(d,INF,<span class="keyword">sizeof</span> d);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> a,b,c;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class="line">        <span class="built_in">add</span>(a,b,c);</span><br><span class="line">        <span class="built_in">add</span>(b,a,c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// LCAé¢„å¤„ç†</span></span><br><span class="line">    <span class="built_in">bfs</span>(<span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(m --)&#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        <span class="type">int</span> c = <span class="built_in">get_lca</span>(a,b);</span><br><span class="line">        cout&lt;&lt;d[a] + d[b] - <span class="number">2</span> * d[c]&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p><h3 id="Tarjanç¦»çº¿LCA"><a href="#Tarjanç¦»çº¿LCA" class="headerlink" title="Tarjanç¦»çº¿LCA"></a>Tarjanç¦»çº¿LCA</h3><p>è¿™ç§ç®—æ³•,yæ€»è¯„è®ºåŒºè¯´: Tarjanç¦»çº¿LCAä¸å¦‚å€å¢LCA,åœ¨è¿™é“é¢˜ä¸Šå€å¢LCAä¹Ÿå°±å¤š16ä¸ªå¸¸æ•°.<br>ä¸è¿‡Tarjanç¦»çº¿LCAæ˜¯çœŸçš„ç§€,åŒæ—¶å¤æ‚åº¦åªæœ‰O(n + m).<br>è¿™é“é¢˜ä¼°è®¡æ˜¯æ•°æ®é‡ä¸å¤Ÿ,æ‰€ä»¥ä¸èƒ½ä½“ç°å‡ºTarjanç¦»çº¿LCAçš„å¼ºå¤§ä¹‹å¤„.(ä¹Ÿä½“ç°ä¸å‡ºTarjançš„NB)</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">20010</span>,M = <span class="number">2</span> * N,INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> h[N],e[M],w[M],ne[M],idx;</span><br><span class="line"><span class="comment">// è·ç¦»</span></span><br><span class="line"><span class="type">int</span> dist[N];</span><br><span class="line"><span class="type">int</span> p[N];</span><br><span class="line"><span class="comment">// tarjançš„å¥‡å¦™æ ‡è®°æ•°ç»„</span></span><br><span class="line"><span class="type">int</span> st[N];</span><br><span class="line"><span class="comment">// first å¦ä¸€ä¸ªç‚¹ second id</span></span><br><span class="line">vector&lt;PII&gt; query[N];</span><br><span class="line"><span class="comment">// ç»“æœ</span></span><br><span class="line"><span class="type">int</span> res[N];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b,<span class="type">int</span> c)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    w[idx] = c;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(p[x] != x) p[x] = <span class="built_in">find</span>(p[x]);</span><br><span class="line">    <span class="keyword">return</span> p[x];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// dfsæ±‚å„ç‚¹åˆ°rootçš„è·ç¦»</span></span><br><span class="line"><span class="comment">// t å½“å‰ç‚¹,fa çˆ¶èŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> t,<span class="type">int</span> fa)</span></span>&#123;</span><br><span class="line">    <span class="comment">// åŒå‘å­˜ä¼šå¤šå­˜ä¸€ä¸ªçˆ¶èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = h[t]; ~i;i = ne[i])&#123;</span><br><span class="line">        <span class="type">int</span> j = e[i];</span><br><span class="line">        <span class="comment">// å»é™¤çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span>(j == fa) <span class="keyword">continue</span>;</span><br><span class="line">        dist[j] = dist[t] + w[i];</span><br><span class="line">        <span class="built_in">dfs</span>(j,t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">tarjan</span><span class="params">(<span class="type">int</span> u)</span></span>&#123;</span><br><span class="line">    <span class="comment">// æ ‡è®°ä¸º1æƒ…å†µ,éå†ä½†æœªå›æº¯</span></span><br><span class="line">    st[u] = <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = h[u];~i;i = ne[i])&#123;</span><br><span class="line">        <span class="type">int</span> j = e[i];</span><br><span class="line">        <span class="comment">// jæ ‡è®°ä¸º0çš„æƒ…å†µ: æœªéå†</span></span><br><span class="line">        <span class="keyword">if</span>(!st[j])&#123;</span><br><span class="line">            <span class="comment">// å‘å·¦ä¸‹è§’æœç´¢</span></span><br><span class="line">            <span class="built_in">tarjan</span>(j);</span><br><span class="line">            <span class="comment">// åˆå¹¶åˆ°å…¬å…±æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            p[j] = u;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¤„ç†æŸ¥è¯¢</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; item : query[u])&#123;</span><br><span class="line">        <span class="type">int</span> y = item.first,id = item.second;</span><br><span class="line">        <span class="comment">// æƒ…å†µ2: éå†ä¸”å›æº¯è¿‡</span></span><br><span class="line">        <span class="keyword">if</span>(st[y] == <span class="number">2</span>)&#123;</span><br><span class="line">            <span class="comment">// ç›´æ¥æ‰¾å…¬å…±ç¥–å…ˆ</span></span><br><span class="line">            <span class="type">int</span> anc = <span class="built_in">find</span>(y);</span><br><span class="line">            <span class="comment">// æ±‚æœ€çŸ­è·¯</span></span><br><span class="line">            res[id] = dist[u] + dist[y] - <span class="number">2</span> * dist[anc];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç‚¹uå·²ç»å›æº¯å®Œ</span></span><br><span class="line">    st[u] = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i =<span class="number">0</span>;i &lt; n - <span class="number">1</span>;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> a,b,c;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class="line">        <span class="built_in">add</span>(a,b,c);</span><br><span class="line">        <span class="built_in">add</span>(b,a,c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; m;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        <span class="keyword">if</span>(a != b)&#123;</span><br><span class="line">            query[a].<span class="built_in">push_back</span>(&#123;b,i&#125;);</span><br><span class="line">            query[b].<span class="built_in">push_back</span>(&#123;a,i&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) p[i] = i;</span><br><span class="line">    <span class="comment">// è¿™é‡ŒæŒ‡å®š1ä¸ºrootèŠ‚ç‚¹</span></span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">1</span>,<span class="number">-1</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">tarjan</span>(<span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; m;i ++)&#123;</span><br><span class="line">        cout&lt;&lt;res[i]&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="note success no-icon flat"><p>æ€ä¹ˆè¯´,å°±ç°é˜¶æ®µè€Œè¨€,å°±å…ˆæŒæ¡<strong>å€å¢LCA</strong>å§.<br>æœ€åå†è´´ä¸€é:<br>å€å¢LCA:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">40010</span>,M = <span class="number">2</span> * N;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> h[N],e[M],ne[M],idx;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> depth[N];</span><br><span class="line"><span class="comment">// 16ç”±é¢˜ç›®æ•°æ®èŒƒå›´è®¡ç®—</span></span><br><span class="line"><span class="type">int</span> fa[N][<span class="number">16</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// LCAåˆå§‹åŒ–,æ±‚depthå’Œfaé€’æ¨å¼</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bfs</span><span class="params">(<span class="type">int</span> root)</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(depth,<span class="number">0x3f3f</span>,<span class="keyword">sizeof</span> depth);</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    <span class="comment">// å“¨å…µ</span></span><br><span class="line">    depth[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    depth[root] = <span class="number">1</span>;</span><br><span class="line">    q.<span class="built_in">push</span>(root);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="type">int</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = h[t];~i;i = ne[i])&#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span>(depth[j] &gt; depth[t] + <span class="number">1</span>)&#123;</span><br><span class="line">                depth[j] = depth[t] + <span class="number">1</span>;</span><br><span class="line">                q.<span class="built_in">push</span>(j);</span><br><span class="line">                <span class="comment">// å€å¢</span></span><br><span class="line">                fa[j][<span class="number">0</span>] = t;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">1</span>;k &lt; <span class="number">16</span>;k ++)&#123;</span><br><span class="line">                    fa[j][k] = fa[fa[j][k - <span class="number">1</span>]][k - <span class="number">1</span>];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">get_lca</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="comment">// ä¿æŒaæ›´è¿‘</span></span><br><span class="line">    <span class="keyword">if</span>(depth[a] &gt; depth[b]) <span class="built_in">swap</span>(a,b);</span><br><span class="line">    <span class="comment">// bå‘ä¸Šè·³</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">15</span>;~k;k --)&#123;</span><br><span class="line">        <span class="comment">// äºŒè¿›åˆ¶æ‹¼å‡‘</span></span><br><span class="line">        <span class="keyword">if</span>(depth[fa[b][k]] &gt;= depth[a])&#123;</span><br><span class="line">            b = fa[b][k];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// a,båŒä¸€å±‚</span></span><br><span class="line">    <span class="keyword">if</span>(a == b) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="comment">// a,båŒæ—¶å‘ä¸Šè·³,ç›´åˆ°LCAä¸‹ä¸€å±‚</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">15</span>;~k;k --)&#123;</span><br><span class="line">        <span class="keyword">if</span>(fa[a][k] != fa[b][k])&#123;</span><br><span class="line">            a = fa[a][k];</span><br><span class="line">            b = fa[b][k];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> fa[a][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></div>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwing_æœ€å°ç”Ÿæˆæ ‘</title>
      <link href="/2023/03/29/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek4/Acwing-%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/"/>
      <url>/2023/03/29/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek4/Acwing-%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>æœ€å°ç”Ÿæˆæ ‘â€¦<br>æ€ä¹ˆè¯´å‘¢,å’Œå‰é¢çš„æœ€çŸ­è·¯éå¸¸çš„ç›¸ä¼¼.å¯ä»¥è¯´æ˜¯ä»å¦ä¸€ä¸ªè§’åº¦è€ƒå¯Ÿå›¾.</p><p>æœ€å°ç”Ÿæˆæ ‘ä¸€å…±æœ‰ä¸¤ç§ç®—æ³•: <code>prim</code>å’Œ<code>Kruskal</code>ç®—æ³•.<br><code>prim</code>ç®—æ³•<code>O(n^2 + m)</code> ç”¨äºç¨ å¯†å›¾<br><code>kruskal</code>ç®—æ³•<code>O(m * lg m)</code>ç”¨äºç¨€ç–å›¾</p><p>PS: yæ€»è¯´: <code>prim</code>ç®—æ³•æˆ‘ä»¬æ›´å€¾å‘äºä½¿ç”¨æœ´ç´ ç‰ˆ,å› ä¸ºå †ä¼˜åŒ–ç‰ˆä¸å¦‚<code>kruskal</code>.</p><p>å¯¹äº<code>prim</code>ç®—æ³•,å¯ä»¥å’Œ<code>Dijkstra</code>ç®—æ³•ä¸€èµ·è®°å¿†.(éƒ½æ˜¯ä»ç‚¹çš„è§’åº¦å‡ºå‘)<br><code>kruskal</code>ç®—æ³•,å•ç‹¬è®°å¿†(åˆ°ç›®å‰ä¸ºæ­¢å”¯ä¸€ä¸€ä¸ªä½¿ç”¨å¹¶æŸ¥é›†çš„ç®—æ³•)(ä»è¾¹è§’åº¦å‡ºå‘)</p></div><div class="note success no-icon flat"><p><strong>æœ´ç´ ç‰ˆprim</strong>:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç‚¹,è¾¹</span></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="comment">// è¾¹æƒ</span></span><br><span class="line"><span class="type">int</span> w[N][N];</span><br><span class="line"><span class="comment">// ç‚¹é—´è·ç¦»</span></span><br><span class="line"><span class="type">int</span> d[N];</span><br><span class="line"><span class="comment">// æ ‡è®°ç”¨è¿‡çš„ç‚¹</span></span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">prim</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(d,INF,<span class="keyword">sizeof</span> d);</span><br><span class="line">    <span class="comment">// æœ€å°ç”Ÿæˆæ ‘é•¿åº¦</span></span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// i = 0 é¦–ç‚¹å…¥é˜Ÿç‰¹åˆ¤</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> t = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!st[j] &amp;&amp; (t== <span class="number">-1</span> || d[j] &lt; d[t]))</span><br><span class="line">                t = j;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        st[t] = <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">// æœ‰ä¸è¿é€šçš„è¾¹,ä¸€å®šæ„é€ ä¸æˆç”Ÿæˆæ ‘</span></span><br><span class="line">        <span class="keyword">if</span>(i &amp;&amp; d[t] == INF) <span class="keyword">return</span> INF;</span><br><span class="line">        <span class="keyword">if</span>(i) res += d[t];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">            <span class="comment">// æ›´æ–°,å’Œdijkstraæœ€å¤§çš„ä¸åŒ</span></span><br><span class="line">            d[j] = <span class="built_in">min</span>(d[j],w[t][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>(å¯ä»¥çœ‹æˆ<code>dijkstra</code>çš„å­ªç”Ÿå§å¦¹)</p><p><strong>Kriskalç®—æ³•</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç‚¹é›†</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span>&#123;</span><br><span class="line">    <span class="type">int</span> a,b;</span><br><span class="line">    <span class="type">int</span> w;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span> &lt; (<span class="type">const</span> Edge&amp; c) <span class="type">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> w &lt; c.w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;Edges[N];</span><br><span class="line"><span class="comment">// å¹¶æŸ¥é›†</span></span><br><span class="line"><span class="type">int</span> p[N];</span><br><span class="line"><span class="comment">// ç‚¹,è¾¹</span></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¹¶æŸ¥é›†findæ“ä½œ</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(p[x] != x) p[x] = <span class="built_in">find</span>(p[x]);</span><br><span class="line">    <span class="keyword">return</span> p[x];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">kriskrl</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// å¹¶æŸ¥é›†åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) p[i] = i;</span><br><span class="line">    <span class="comment">// æ’åº</span></span><br><span class="line">    <span class="built_in">sort</span>(Edges,Edges + k);</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// åŠ å…¥çš„è¾¹æ•°</span></span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; m;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> a = Edges[i].a,b = Edges[i].b,w = Edges[i].w;</span><br><span class="line">        a = <span class="built_in">find</span>(a),b = <span class="built_in">find</span>(b);</span><br><span class="line">        <span class="keyword">if</span>(a != b)&#123;</span><br><span class="line">            p[a] = b;</span><br><span class="line">            res += w;</span><br><span class="line">            cnt ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æœªè¿é€šæƒ…å†µ</span></span><br><span class="line">    <span class="keyword">if</span>(cnt &lt; n - <span class="number">1</span>) <span class="keyword">return</span> INF;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>æ˜¯çœŸçš„ç®€å•,å°±æ˜¯æ²¡è®°ä½</p></div><h2 id="3728-åŸå¸‚é€šç”µ"><a href="#3728-åŸå¸‚é€šç”µ" class="headerlink" title="3728. åŸå¸‚é€šç”µ"></a>3728. åŸå¸‚é€šç”µ</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230330/20230330_1.jpg" alt="åŸå¸‚é€šç”µ"></p><p>è¢«æ ‡ç­¾éª—äº†,æœ€å¤šæ˜¯ä¸­ç­‰é¢˜.<br>è¿™é“é¢˜çš„æ€æƒ³å’Œå‰é¢ä¸€æ ·,å»ºç«‹â€è¶…çº§æºç‚¹â€.<br>ä¸è¿‡,è¿™é“é¢˜è¿˜æœ‰ä¸€ç‚¹å¯ä»¥å­¦ä¹ çš„:<mark>è·å–æœ€å°ç”Ÿæˆæ ‘çš„å„æ¡è¾¹</mark></p><h3 id="æœ´ç´ primç®—æ³•"><a href="#æœ´ç´ primç®—æ³•" class="headerlink" title="æœ´ç´ primç®—æ³•"></a>æœ´ç´ primç®—æ³•</h3><p>å‰é¢ç®—æ³•æ¨¡æ¿çŸ¥é“: priméœ€è¦ç‰¹åˆ¤é¦–èŠ‚ç‚¹,è€Œæˆ‘ä»¬è¿™é‡Œé¦–ç‚¹ä¸º0ä¸”ä¼šæå‰å¤„ç†0èŠ‚ç‚¹æƒ…å†µ.<br>æ‰€ä»¥ä¸»ç®—æ³•è¿‡ç¨‹ä¸å¿…ç‰¹åˆ¤äº†.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2010</span>,INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">PII g[N];</span><br><span class="line"><span class="type">int</span> wk[N],wc[N];</span><br><span class="line">LL d[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®°å½•å»ºç«‹ç”µç«™çš„ç‚¹</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; p;</span><br><span class="line"><span class="comment">// è®°å½•å»ºç«‹è¾¹çš„ç‚¹</span></span><br><span class="line">vector&lt;PII&gt; v;</span><br><span class="line"><span class="comment">// è®°å½•å»ºç«‹è¾¹çš„ä¸¤ç«¯ç‚¹å…³ç³»</span></span><br><span class="line"><span class="type">int</span> fa[N];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">LL <span class="title">get_dist</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    LL x = <span class="built_in">abs</span>(g[a].first - g[b].first);</span><br><span class="line">    LL y = <span class="built_in">abs</span>(g[a].second - g[b].second);</span><br><span class="line">    <span class="keyword">return</span> (x + y) * (wk[a] + wk[b]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">LL <span class="title">prim</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// ä¸éœ€è¦</span></span><br><span class="line">    <span class="comment">// memset(d,INF,sizeof d);</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä»£ä»·</span></span><br><span class="line">    LL res = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¤„ç†é¦–èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) d[i] = wc[i];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// é¦–èŠ‚ç‚¹ä¸ç”¨</span></span><br><span class="line">    st[<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> t = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!st[j] &amp;&amp; (t == <span class="number">-1</span> || d[j] &lt; d[t]))</span><br><span class="line">                t = j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ä¸éœ€è¦ç‰¹åˆ¤æ— è§£æƒ…å†µ(å¿…å®šæœ‰è§£)</span></span><br><span class="line">        res += d[t];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è®°å½•è¾¹æˆ–ç‚¹ </span></span><br><span class="line">        <span class="keyword">if</span>(!fa[t]) p.<span class="built_in">push_back</span>(t);</span><br><span class="line">        <span class="keyword">else</span> v.<span class="built_in">push_back</span>(&#123;fa[t],t&#125;);</span><br><span class="line">        </span><br><span class="line">        st[t] = <span class="literal">true</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(d[j] &gt; <span class="built_in">get_dist</span>(t,j))&#123;</span><br><span class="line">                d[j] = <span class="built_in">get_dist</span>(t,j);</span><br><span class="line">                fa[j] = t;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) cin&gt;&gt;g[i].first&gt;&gt;g[i].second;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) cin&gt;&gt;wc[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) cin&gt;&gt;wk[i];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// primå¾—åˆ°æœ€å°ä»£ä»·</span></span><br><span class="line">    cout&lt;&lt;<span class="built_in">prim</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="comment">// å»ºç”µç«™</span></span><br><span class="line">    cout&lt;&lt;(<span class="type">int</span>)p.<span class="built_in">size</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; x : p) cout&lt;&lt;x&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    <span class="comment">// å»ºç”µçº¿</span></span><br><span class="line">    cout&lt;&lt;(<span class="type">int</span>)v.<span class="built_in">size</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">if</span>(v.<span class="built_in">size</span>() != <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; [pa,a] : v) cout&lt;&lt;pa&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;a&lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="kruskalè§£æ³•"><a href="#kruskalè§£æ³•" class="headerlink" title="kruskalè§£æ³•"></a>kruskalè§£æ³•</h3><p>å¾ˆæ˜æ˜¾è¿™é“é¢˜æ˜¯ä¸é€‚åˆKruskalç®—æ³•çš„,æƒå½“ç»ƒæ‰‹.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2010</span>,INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">PII g[N];</span><br><span class="line"><span class="type">int</span> wk[N];</span><br><span class="line"><span class="type">bool</span> st[N * N];</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; fa;</span><br><span class="line">vector&lt;PII&gt; v;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> p[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span>&#123;</span><br><span class="line">    <span class="type">int</span> a,b;</span><br><span class="line">    LL w;</span><br><span class="line">    <span class="type">bool</span> <span class="type">const</span> <span class="keyword">operator</span>&lt;(<span class="type">const</span> Edge&amp; t)&#123;</span><br><span class="line">        <span class="keyword">return</span> w &lt; t.w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;edges[N * N];</span><br><span class="line"><span class="type">int</span> k;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(p[x] != x) p[x] = <span class="built_in">find</span>(p[x]);</span><br><span class="line">    <span class="keyword">return</span> p[x];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">LL <span class="title">get_dist</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    LL x = <span class="built_in">abs</span>(g[a].first - g[b].first);</span><br><span class="line">    LL y = <span class="built_in">abs</span>(g[a].second - g[b].second);</span><br><span class="line">    <span class="keyword">return</span> (x + y) * (wk[a] + wk[b]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">LL <span class="title">kruskal</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    LL res = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// ç‚¹ä¸ªæ•°</span></span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">sort</span>(edges,edges + k);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= n;i ++) p[i] = i;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; k;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> a = edges[i].a,b = edges[i].b,w = edges[i].w;</span><br><span class="line">        a = <span class="built_in">find</span>(a),b = <span class="built_in">find</span>(b);</span><br><span class="line">        <span class="keyword">if</span>(a != b)&#123;</span><br><span class="line">            st[i] = <span class="literal">true</span>;</span><br><span class="line">            p[b] = a;</span><br><span class="line">            cnt ++;</span><br><span class="line">            res += w;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) cin&gt;&gt;g[i].first&gt;&gt;g[i].second;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        edges[k ++] = &#123;<span class="number">0</span>,i,x&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) cin&gt;&gt;wk[i];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i != j)&#123;</span><br><span class="line">                edges[k ++] = &#123;i,j,<span class="built_in">get_dist</span>(i,j)&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    cout&lt;&lt;<span class="built_in">kruskal</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="comment">// å¤„ç†è¾¹å’Œç‚¹</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; k;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(st[i])&#123;</span><br><span class="line">            <span class="keyword">if</span>(!edges[i].a) fa.<span class="built_in">push_back</span>(edges[i].b);</span><br><span class="line">            <span class="keyword">else</span> v.<span class="built_in">push_back</span>(&#123;edges[i].a,edges[i].b&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;(<span class="type">int</span>)fa.<span class="built_in">size</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; c : fa) cout&lt;&lt;c&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;(<span class="type">int</span>)v.<span class="built_in">size</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">if</span>(v.<span class="built_in">size</span>() != <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; [a,b] : v)&#123;</span><br><span class="line">            cout&lt;&lt;a&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;b&lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦ä¸€ç§å†™æ³•:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2010</span>,INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">PII g[N];</span><br><span class="line"><span class="type">int</span> wk[N];</span><br><span class="line"><span class="type">bool</span> st[N * N];</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; ea;</span><br><span class="line">vector&lt;PII&gt; v;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> p[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span>&#123;</span><br><span class="line">    <span class="type">int</span> a,b;</span><br><span class="line">    LL w;</span><br><span class="line">    <span class="type">bool</span> <span class="type">const</span> <span class="keyword">operator</span>&lt;(<span class="type">const</span> Edge&amp; t)&#123;</span><br><span class="line">        <span class="keyword">return</span> w &lt; t.w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;edges[N * N];</span><br><span class="line"><span class="type">int</span> k;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(p[x] != x) p[x] = <span class="built_in">find</span>(p[x]);</span><br><span class="line">    <span class="keyword">return</span> p[x];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">LL <span class="title">get_dist</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    LL x = <span class="built_in">abs</span>(g[a].first - g[b].first);</span><br><span class="line">    LL y = <span class="built_in">abs</span>(g[a].second - g[b].second);</span><br><span class="line">    <span class="keyword">return</span> (x + y) * (wk[a] + wk[b]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">LL <span class="title">kruskal</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    LL res = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// ç‚¹ä¸ªæ•°</span></span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">sort</span>(edges,edges + k);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= n;i ++) p[i] = i;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; k;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> a = edges[i].a,b = edges[i].b,w = edges[i].w;</span><br><span class="line">        <span class="type">int</span> fa = <span class="built_in">find</span>(a),fb = <span class="built_in">find</span>(b);</span><br><span class="line">        <span class="keyword">if</span>(fa != fb)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a == <span class="number">0</span>) ea.<span class="built_in">push_back</span>(b);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(a != <span class="number">0</span> &amp;&amp; b != <span class="number">0</span>) v.<span class="built_in">push_back</span>(&#123;a,b&#125;); </span><br><span class="line">            p[fb] = fa;</span><br><span class="line">            cnt ++;</span><br><span class="line">            res += w;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) cin&gt;&gt;g[i].first&gt;&gt;g[i].second;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        edges[k ++] = &#123;<span class="number">0</span>,i,x&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) cin&gt;&gt;wk[i];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i != j)&#123;</span><br><span class="line">                edges[k ++] = &#123;i,j,<span class="built_in">get_dist</span>(i,j)&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    cout&lt;&lt;<span class="built_in">kruskal</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="comment">// å¤„ç†è¾¹å’Œç‚¹</span></span><br><span class="line"></span><br><span class="line">    cout&lt;&lt;(<span class="type">int</span>)ea.<span class="built_in">size</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; c : ea) cout&lt;&lt;c&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;(<span class="type">int</span>)v.<span class="built_in">size</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">if</span>(v.<span class="built_in">size</span>() != <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; [a,b] : v)&#123;</span><br><span class="line">            cout&lt;&lt;a&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;b&lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p><div class="note success no-icon flat"><p>å®è¯è¯´,æœ€å°ç”Ÿæˆæ ‘çš„ä»£ç è¿˜æ˜¯æŒºç®€å•çš„(å‰ææ˜¯ä¸è¦å’Œæœ€çŸ­è·¯ä»£ç å¼„ä¹±äº†)</p><p>è¿™é“é¢˜è¿˜æ˜¯å¾ˆæœ‰å‚è€ƒä»·å€¼,å¤šçœ‹çœ‹,ä»¥å…æœªæ¥è¦è¾“å‡ºæœ€å°ç”Ÿæˆæ ‘è·¯å¾„æ—¶æ²¡æœ‰æ€è·¯.</p></div>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwing_æœ´ç´ Folyd</title>
      <link href="/2023/03/29/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek4/Acwing-%E6%9C%B4%E7%B4%A0Folyd/"/>
      <url>/2023/03/29/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek4/Acwing-%E6%9C%B4%E7%B4%A0Folyd/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><font size=4><b>å‰è¨€ğŸ“</b></font><p>Folyd: è§£å†³å¤šæºæœ€çŸ­è·¯é—®é¢˜.<br>ä½†é€šè¿‡å­¦ä¹ å‰é¢çš„â€è¶…çº§æºç‚¹â€çš„çŸ¥è¯†, æˆ‘æ„Ÿè§‰æŸäº›å¤šæºé—®é¢˜ä¹Ÿæ˜¯å¯ä»¥è½¬åŒ–æˆå•æºé—®é¢˜.<br>æ€ä¹ˆè¯´å‘¢, å›¾è®ºå°±æ˜¯è¿™ä¹ˆå¥‡å¦™.</p><p>Floydæœ´ç´ ç‰ˆéœ€è¦<code>O(n^3)</code>,åŒæ—¶Floydæ˜¯ç”±åŠ¨æ€è§„åˆ’æ¨å¯¼æ¥çš„.<br>å¤§è‡´æ¨å¯¼:<br><code>f[k][i][j]</code>: è¡¨ç¤ºä»<code>i</code>åˆ°<code>j</code>åªç»è¿‡<code>1~k</code>çš„æ‰€æœ‰è·¯å¾„çš„æœ€å°å€¼<br>å› æ­¤, <code>f[k][i][j] = min(f[k - 1][i][j],f[k - 1][i][k] + f[k - 1][k][j])</code><br>åœ¨æ›´æ–°<code>k</code>å±‚æ—¶,å¿…é¡»å…ˆæ›´æ–°<code>k - 1</code>å±‚.<br>ç„¶åå¯ä»¥ä¼˜åŒ–æ‰ä¸€å±‚ç©ºé—´:<br><code>f[i][j] = min(f[i][j],f[i][k] + f[k][j])</code></p><p>ä¸è¿‡æ„Ÿè§‰åœ¨è¿™é‡Œè€ƒçš„æœ‰ç‚¹ç®€å•.</p></div><h2 id="4074-é“è·¯ä¸å…¬è·¯"><a href="#4074-é“è·¯ä¸å…¬è·¯" class="headerlink" title="4074. é“è·¯ä¸å…¬è·¯"></a>4074. é“è·¯ä¸å…¬è·¯</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230329/20230329_1.jpg" alt="é“è·¯ä¸å…¬è·¯"></p><p>è¿™é“é¢˜å®Œå…¨å¯ä»¥ä¸ç”¨<code>folyd</code>.è€Œä¸”ä¸ç”¨<code>folyd</code>é€Ÿåº¦ä¼šæ›´å¿«.ä½†ä»£ç ä¸¤æ›´å¤š.</p><h3 id="floydè§£æ³•"><a href="#floydè§£æ³•" class="headerlink" title="floydè§£æ³•"></a>floydè§£æ³•</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">410</span>,INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> d[N][N];</span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"></span><br><span class="line"><span class="comment">// floydä¸‰å±‚å¾ªç¯</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">floyd</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">1</span>;k &lt;= n;k ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">                d[i][j] = <span class="built_in">min</span>(d[i][j],d[i][k] + d[k][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="comment">// floydçš„ç‰¹åˆ«åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i != j) d[i][j] = INF;</span><br><span class="line">            <span class="keyword">else</span> d[i][j] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(m --)&#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        d[a][b] = d[b][a] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é“è·¯èƒ½åˆ°,å¤„ç†æˆå…¬è·¯çš„å›¾</span></span><br><span class="line">    <span class="keyword">if</span>(d[<span class="number">1</span>][n] == <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i == j) d[i][j] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(d[i][j] != <span class="number">1</span>) d[i][j] = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(d[i][j] == <span class="number">1</span>) d[i][j] = INF;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é“è·¯ä¸èƒ½åˆ°,å…¬è·¯è‚¯å®šæ˜¯ç¬¬ä¸€æ—¶é—´åˆ°.</span></span><br><span class="line">    <span class="built_in">floyd</span>();</span><br><span class="line">    <span class="keyword">if</span>(d[<span class="number">1</span>][n] == INF) cout&lt;&lt;<span class="number">-1</span>&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">else</span> cout&lt;&lt;d[<span class="number">1</span>][n]&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="dijkstraè§£æ³•-æœ´ç´ "><a href="#dijkstraè§£æ³•-æœ´ç´ " class="headerlink" title="dijkstraè§£æ³•(æœ´ç´ )"></a>dijkstraè§£æ³•(æœ´ç´ )</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">410</span>,INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> w[N][N];</span><br><span class="line"><span class="type">int</span> d[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dijkstra</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(d,INF,<span class="keyword">sizeof</span> d);</span><br><span class="line">    d[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> t = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!st[j] &amp;&amp; (t == <span class="number">-1</span> || d[j] &lt; d[t]))&#123;</span><br><span class="line">                t = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        st[t] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">            d[j] = <span class="built_in">min</span>(d[j],d[t] + w[t][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">while</span>(m --)&#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        w[a][b] = w[b][a] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(w[<span class="number">1</span>][n] == <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i == j) w[i][j] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(w[i][j] == <span class="number">1</span>) w[i][j] = INF;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(w[i][j] != <span class="number">1</span>) w[i][j] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i != j &amp;&amp; w[i][j] != <span class="number">1</span>)&#123;</span><br><span class="line">                    w[i][j] = INF;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dijkstra</span>();</span><br><span class="line">    <span class="keyword">if</span>(d[n] == INF) cout&lt;&lt;<span class="number">-1</span>&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">else</span> cout&lt;&lt;d[n]&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="spfaè§£æ³•"><a href="#spfaè§£æ³•" class="headerlink" title="spfaè§£æ³•"></a>spfaè§£æ³•</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">410</span>,M = <span class="number">200010</span>,INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> h[N],e[M],ne[M],idx;</span><br><span class="line"><span class="type">int</span> d[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"><span class="type">bool</span> w[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">spfa</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(d,INF,<span class="keyword">sizeof</span> d);</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    d[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    q.<span class="built_in">push</span>(<span class="number">1</span>);</span><br><span class="line">    st[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="type">int</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        st[t] = <span class="literal">false</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = h[t]; ~i;i = ne[i])&#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span>(d[j] &gt; d[t] + <span class="number">1</span>)&#123;</span><br><span class="line">                d[j] = d[t] + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span>(!st[j])&#123;</span><br><span class="line">                    q.<span class="built_in">push</span>(j);</span><br><span class="line">                    st[j] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">while</span>(m --)&#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        w[a][b] = w[b][a] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(w[<span class="number">1</span>][n])&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i != j &amp;&amp; !w[i][j])&#123;</span><br><span class="line">                    <span class="built_in">add</span>(i,j);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i != j &amp;&amp; w[i][j])&#123;</span><br><span class="line">                    <span class="built_in">add</span>(i,j);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">spfa</span>();</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(d[n] == INF) cout&lt;&lt;<span class="number">-1</span>&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">else</span> cout&lt;&lt;d[n]&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ€ä¹ˆè¯´å‘¢,<code>Dijkstra</code>ç”šè‡³æ¯”<code>SPFA</code>çš„é€Ÿåº¦æ›´å¿«ä¸€ç‚¹.<br>ä½†ä¸ç®¡æ€ä¹ˆè¯´,è¿™ä¸¤ç§ç®—æ³•éƒ½æ¯”<code>folyd</code>çš„é€Ÿåº¦å¿«.</p><h2 id="1125-ç‰›çš„æ—…è¡Œ"><a href="#1125-ç‰›çš„æ—…è¡Œ" class="headerlink" title="1125. ç‰›çš„æ—…è¡Œ"></a>1125. ç‰›çš„æ—…è¡Œ</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230329/20230329_2.jpg" alt="ç‰›çš„æ—…è¡Œ"></p><p>æ€ä¹ˆè¯´å‘¢,å¼€å§‹æ„Ÿè§‰è¿˜æ˜¯æŒºç®€å•çš„,å†ä»”ç»†çœ‹çš„æ—¶å€™å°±æ„Ÿè§‰ä¸å¯¹åŠ²äº†.<br>è¿™é“é¢˜è€ƒå¯Ÿäº†<code>floyd</code>çš„æ¨å¯¼è¿‡ç¨‹.</p><div class="note info no-icon flat"><p>yæ€»åˆ†æ.(é¦–å…ˆè¦é€šè¯»é¢˜ç›®,å¼„æ¸…æ¥šæƒ…å†µ)</p><p>1: ä½¿ç”¨<code>floyd</code>ç®—æ³•æ±‚å‡ºä»»æ„ä¸¤ç‚¹ä¹‹é—´çš„æœ€çŸ­è·ç¦»<br>(è¿™é‡Œè‚¯å®šæ˜¯ç”¨floyd,åƒä¹‹å‰çš„å•†åº—çš„è¶…çº§æºç‚¹æ€æƒ³æ˜¯ç”¨ä¸äº†çš„)</p><p>2: æ±‚maxd[i],è¡¨ç¤ºå’Œiè¿é€šçš„ä¸”è·ç¦»iæœ€è¿œçš„ç‚¹ä¸iä¹‹é—´çš„è·ç¦»</p><p>3: åˆ†æƒ…å†µ<br>æƒ…å†µ1: æœªè¿è¾¹æƒ…å†µä¸‹æœ€å¤§ç›´å¾„: maxd[i]çš„æœ€å¤§å€¼<br>æƒ…å†µ2: æšä¸¾æ¯å¯¹ä¸è¿é€šçš„ä¸¤ä¸ªç‚¹,æ±‚è¿æ¥å®ƒä»¬åçš„ç›´å¾„,éå†å¾—æœ€å°å€¼<br>æ¯”è¾ƒä¸¤ç§æƒ…å†µå¾—æœ€å¤§å€¼,å³ä¸ºç­”æ¡ˆ.</p><p>å…³äºè¿™éƒ¨åˆ†çš„ç–‘é—®.è¯„è®ºåŒºè§£ç­”çš„å¾ˆæ¸…æ¥šäº†.</p><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230329/20230329_3.jpg" alt="åˆ†æƒ…å†µçš„ç–‘é—®"></p><p>æ€ä¹ˆè¯´å‘¢,ä¹Ÿç®—æ˜¯é¢˜ç›®ç»™çš„å‘å§.</p></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">double</span>,<span class="type">double</span>&gt; PDD;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">160</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> INF = <span class="number">1e20</span>; <span class="comment">//doubleçš„æå¤§å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">PDD w[N];</span><br><span class="line"><span class="type">char</span> g[N][N];</span><br><span class="line"></span><br><span class="line"><span class="type">double</span> d[N][N];</span><br><span class="line"><span class="type">double</span> maxd[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">get_dist</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="type">double</span> x = w[a].first - w[b].first;</span><br><span class="line">    <span class="type">double</span> y = w[a].second - w[b].second;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sqrt</span>(x * x + y * y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++) cin&gt;&gt;w[i].first&gt;&gt;w[i].second;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++) cin&gt;&gt;g[i];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i == j) d[i][j] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(g[i][j] == <span class="string">&#x27;1&#x27;</span>)&#123;</span><br><span class="line">                d[i][j] = <span class="built_in">get_dist</span>(i,j);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(g[i][j] == <span class="string">&#x27;0&#x27;</span>)&#123;</span><br><span class="line">                d[i][j] = INF;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// floyd</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>;k &lt; n;k ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j ++)&#123;</span><br><span class="line">                d[i][j] = <span class="built_in">min</span>(d[i][j],d[i][k] + d[k][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">double</span> res1 = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// æƒ…å†µ1</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(d[i][j] != INF)&#123;</span><br><span class="line">                maxd[i] = <span class="built_in">max</span>(maxd[i],d[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        res1 = <span class="built_in">max</span>(res1,maxd[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">double</span> res2 = INF;</span><br><span class="line">    <span class="comment">// æƒ…å†µ2</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(d[i][j] == INF)&#123;</span><br><span class="line">                res2 = <span class="built_in">min</span>(res2,maxd[i] + maxd[j] + <span class="built_in">get_dist</span>(i,j));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%.6lf&quot;</span>,<span class="built_in">max</span>(res1,res2));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™å°±æ˜¯å›¾è®ºå§,æ€è·¯æ¸…æ™°å,ä»£ç å†™èµ·æ¥å°±å¾ˆç®€å•.</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwing_SPFAç›¸å…³</title>
      <link href="/2023/03/27/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek4/Acwing-SPFA%E7%9B%B8%E5%85%B3/"/>
      <url>/2023/03/27/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek4/Acwing-SPFA%E7%9B%B8%E5%85%B3/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>SPFAæ˜¯ä»bellman_foldåŸºç¡€ä¸Šä¼˜åŒ–æ¥çš„.<br>ä½†å¥½ç¬‘çš„æ˜¯,SPFAä»£ç å½¢å¼ä¸Šæ›´åŠ è´´è¿‘å †ä¼˜åŒ–ç‰ˆdijkstra.<br>è¿™ä¸€ç‚¹æ˜¯å› ä¸ºSPFAä½¿ç”¨å’Œå †ä¼˜åŒ–ç‰ˆdijkstraç±»ä¼¼(ç”šè‡³ä¸€æ ·)çš„æ•°æ®ç»“æ„.</p><p>æˆ‘è®¤ä¸ºæœ€å¤§çš„åŒºåˆ†:<br>ä»£ç ä¸Š:<br><strong>SPFAä¸­stæ•°ç»„æ˜¯æœ‰åŠ æœ‰å‡çš„(æ ‡è®°åœ¨é˜Ÿåˆ—ä¸­)</strong>.<br><strong>Dijkstraä¸­stæ•°ç»„æ˜¯åªèƒ½æ·»åŠ (æ ‡è®°ç”¨è¿‡çš„)</strong>.<br>æ€æƒ³ä¸Š:<br>dijkstraæ˜¯ä»ç‚¹çš„è§’åº¦å‡ºå‘,æ¯æ¬¡<mark>é€‰æ‹©åŠ å…¥æ–°çš„ç‚¹</mark>.<br>SPFAç»§æ‰¿bellman_foldçš„è¾¹çš„æ€æƒ³,ä¸»æ‰“è¾¹çš„<mark>æ¾å¼›æ“ä½œ</mark>.<br>(æ‰€ä»¥SPFAä¸­ç‚¹ä¼šåå¤è¿›é˜Ÿåˆ—)</p><p>æœ€åæä¸€å¥:<br>æˆ‘ä»¬ä¸€ç›´å»ºè®®å¯¹äºæ­£æƒå›¾æˆ–ä¸Šæ˜ŸæœŸçš„<a href="https://www.acwing.com/problem/content/344/">é“è·¯ä¸èˆªçº¿</a>è¿™æ ·ç‰¹æ®Šçš„å›¾.èƒ½ç”¨Dijkstraçš„å°±ç”¨Dijkstra.<br>è‡³äºSPFA,åªè¦æ•°æ®ç”¨å¿ƒæ„é€ ,å¾ˆå®¹æ˜“å¡æœ€åæƒ…å†µ<code>O(n * m)</code>.</p></div><div class="note success no-icon flat"><p>SPFAçš„ä»£ç æ¨¡æ¿:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> h[N],e[M],w[M],ne[M],idx;</span><br><span class="line"><span class="type">int</span> d[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b,<span class="type">int</span> c)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    w[idx] = c;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">spfa</span><span class="params">(<span class="type">int</span> start,<span class="type">int</span> end)</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(d,INF,<span class="keyword">sizeof</span> d);</span><br><span class="line">    <span class="built_in">memset</span>(st,<span class="number">0</span>,<span class="keyword">sizeof</span> st);</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    </span><br><span class="line">    d[start] = <span class="number">0</span>;</span><br><span class="line">    q.<span class="built_in">push</span>(start);</span><br><span class="line">    st[start] = <span class="literal">true</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="type">int</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="comment">// å‡ºé˜Ÿå–æ¶ˆ</span></span><br><span class="line">        st[t] = <span class="literal">false</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = h[t];~i;i = ne[i])&#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span>(d[j] &gt; d[t] + w[i])&#123;</span><br><span class="line">                d[j] = d[t] + w[i];</span><br><span class="line">                <span class="keyword">if</span>(!st[j])&#123;</span><br><span class="line">                    q.<span class="built_in">push</span>(j);</span><br><span class="line">                    <span class="comment">// å…¥é˜Ÿæ ‡è®°</span></span><br><span class="line">                    st[j] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> d[end];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>å’Œdijkstraä¸€æ ·,å’Œstartä¸è¿é€šçš„ç‚¹æ˜¯ä¸ä¼šæ›´æ–°çš„.<br>åªæœ‰SPFAçš„æœ´ç´ ç‰ˆbellman_foldä¼šæ›´æ–°ä¸startä¸è¿é€šçš„ç‚¹çš„è·ç¦».<br>åŒæ—¶,ä¹Ÿåªæœ‰bellman_foldæœ‰èƒ½åŠ›å¤„ç†<span class='p red'>å¸¦è´Ÿç¯çš„å›¾</span>.<br>spfaèƒ½å¤Ÿé«˜æ•ˆåˆ¤æ–­æœ‰è´Ÿç¯.ä½†ä»–ä¹Ÿå¤„ç†ä¸äº†è´Ÿç¯å›¾.</p></div><h2 id="3305-ä½œç‰©æ‚äº¤"><a href="#3305-ä½œç‰©æ‚äº¤" class="headerlink" title="3305. ä½œç‰©æ‚äº¤"></a>3305. ä½œç‰©æ‚äº¤</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230327/20230327_1.jpg" alt="ä½œç‰©æ‚äº¤"></p><div class="note success no-icon flat"><p>éå¸¸å¥½çš„ä¸€é“é¢˜.<br>yæ€»è¯´:<br>å¦‚æœèƒ½æ•´ç†å¥½æ€è·¯.å¯¹SPFAç®—æ³•æœ¬è´¨(DP)å°±æœ‰äº†æ›´æ·±åˆ»çš„ç†è§£.<br>åŒç†,å¦‚æœç”¨Dijkstraè§£ä¹Ÿå¯¹Dijkstraçš„æœ¬è´¨(è´ªå¿ƒ)ä¹Ÿæœ‰æ›´å¥½çš„ç†è§£.</p></div><p>æ€ä¹ˆè¯´å‘¢,æˆ‘è¢«å¡åœ¨å›¾çš„å­˜å‚¨/è¡¨ç¤ºè¿™å—äº†.<br>(çœ‹å®Œyæ€»çš„å­˜å‚¨æˆ‘æ„Ÿè§‰æˆ‘åˆè¡Œäº†.)</p><p>é¡ºåˆ©å†™å‡ºä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2010</span>,M = <span class="number">200010</span>,INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="comment">// é¢˜ç›®è¾“å…¥</span></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="comment">// åŸ¹å…»æ—¶é—´</span></span><br><span class="line"><span class="type">int</span> tim[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// SPFAç›¸å…³</span></span><br><span class="line"><span class="type">int</span> h[N],e[M],w[M],ne[M],idx;</span><br><span class="line"><span class="type">int</span> d[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line">queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿å­˜å…³ç³» a * b -&gt; c</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b,<span class="type">int</span> c)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    w[idx] = c;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">spfa</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="type">int</span> a = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="comment">// å‡ºé˜Ÿå–æ¶ˆ</span></span><br><span class="line">        st[a] = <span class="literal">false</span>;</span><br><span class="line">        <span class="comment">// æ¾å¼›æ“ä½œ</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = h[a];~i;i = ne[i])&#123;</span><br><span class="line">            <span class="type">int</span> b = e[i],c = w[i];</span><br><span class="line">            <span class="comment">// æ¨å¯¼å‡ºçš„å…³ç³»å¼</span></span><br><span class="line">            <span class="keyword">if</span>(d[c] &gt; <span class="built_in">max</span>(d[a],d[b]) + <span class="built_in">max</span>(tim[a],tim[b]))&#123;</span><br><span class="line">                d[c] = <span class="built_in">max</span>(d[a],d[b]) + <span class="built_in">max</span>(tim[a],tim[b]);</span><br><span class="line">                <span class="comment">// æœªå…¥é˜Ÿçš„å…¥é˜Ÿ</span></span><br><span class="line">                <span class="keyword">if</span>(!st[c])&#123;</span><br><span class="line">                    q.<span class="built_in">push</span>(c);</span><br><span class="line">                    st[c] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    <span class="built_in">memset</span>(d,INF,<span class="keyword">sizeof</span> d);</span><br><span class="line">    <span class="type">int</span> k,T;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m&gt;&gt;k&gt;&gt;T;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) cin&gt;&gt;tim[i];</span><br><span class="line">    <span class="keyword">while</span>(m --)&#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        d[x] = <span class="number">0</span>;</span><br><span class="line">        q.<span class="built_in">push</span>(x);</span><br><span class="line">        <span class="comment">// spfaæ ‡è®°å…¥é˜Ÿ.(å¯å–æ¶ˆ)</span></span><br><span class="line">        st[x] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(k --)&#123;</span><br><span class="line">        <span class="type">int</span> a,b,c;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class="line">        <span class="comment">// å…³ç³»æ˜¯å¯é€†çš„</span></span><br><span class="line">        <span class="built_in">add</span>(a,b,c);</span><br><span class="line">        <span class="built_in">add</span>(b,a,c);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">spfa</span>();</span><br><span class="line">    <span class="comment">// é¢˜ç›®ä¿è¯å¿…æœ‰è§£</span></span><br><span class="line">    cout&lt;&lt;d[T]&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>yæ€»è¯´ç”¨Dijkstraä¹Ÿèƒ½å†™(æ¯•ç«Ÿæ²¡æœ‰è´Ÿæƒè¾¹)</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2010</span>,M = <span class="number">200010</span>,INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> tim[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// dijkstraç›¸å…³</span></span><br><span class="line"><span class="type">int</span> h[N],e[M],w[M],ne[M],idx;</span><br><span class="line"><span class="type">int</span> d[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line">priority_queue&lt;PII,vector&lt;PII&gt;,greater&lt;PII&gt;&gt; heap;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿å­˜å…³ç³» a * b -&gt; c</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b,<span class="type">int</span> c)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    w[idx] = c;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dijkstra</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!heap.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="type">int</span> var = heap.<span class="built_in">top</span>().second;</span><br><span class="line">        heap.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">if</span>(st[var]) <span class="keyword">continue</span>;</span><br><span class="line">        st[var] = <span class="literal">true</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = h[var]; ~i;i = ne[i])&#123;</span><br><span class="line">            <span class="type">int</span> b = e[i],c = w[i];</span><br><span class="line">            <span class="keyword">if</span>(d[c] &gt; <span class="built_in">max</span>(d[var],d[b]) + <span class="built_in">max</span>(tim[var],tim[b]))&#123;</span><br><span class="line">                d[c] = <span class="built_in">max</span>(d[var],d[b]) + <span class="built_in">max</span>(tim[var],tim[b]);</span><br><span class="line">                heap.<span class="built_in">push</span>(&#123;d[c],c&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    <span class="built_in">memset</span>(d,INF,<span class="keyword">sizeof</span> d);</span><br><span class="line">    <span class="type">int</span> k,T;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m&gt;&gt;k&gt;&gt;T;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) cin&gt;&gt;tim[i];</span><br><span class="line">    <span class="keyword">while</span>(m --)&#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        d[x] = <span class="number">0</span>;</span><br><span class="line">        heap.<span class="built_in">push</span>(&#123;d[x],x&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(k --)&#123;</span><br><span class="line">        <span class="type">int</span> a,b,c;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class="line">        <span class="built_in">add</span>(a,b,c);</span><br><span class="line">        <span class="built_in">add</span>(b,a,c);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">dijkstra</span>();</span><br><span class="line">    </span><br><span class="line">    cout&lt;&lt;d[T]&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŸºæœ¬ä¸Šä¸€æ ·,ä¸è¿‡å•Š,yæ€»çš„è§†é¢‘è¿˜æ˜¯å¾ˆå»ºè®®çœ‹çš„,è®²è§£äº†SPFAç®—æ³•çš„æ¨å¯¼è¿‡ç¨‹.<br>é¡ºå¸¦æä¸€å¥: yæ€»éå¸¸é‡è§†ç®—æ³•ä½¿ç”¨å‰çš„è¯æ˜.</p><h2 id="852-spfaåˆ¤æ–­è´Ÿç¯"><a href="#852-spfaåˆ¤æ–­è´Ÿç¯" class="headerlink" title="852. spfaåˆ¤æ–­è´Ÿç¯"></a>852. spfaåˆ¤æ–­è´Ÿç¯</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230327/20230327_2.jpg" alt="spfaåˆ¤æ–­è´Ÿç¯"></p><div class="note info no-icon flat"><p>å‰é¢æ¨¡æ¿å°±è¯´è¿‡ä¸€æ¬¡,SPFAèƒ½å¤Ÿåˆ¤æ–­è´Ÿç¯,ä½†å¤„ç†ä¸äº†è´Ÿç¯å›¾.</p><p>SPFAåˆ¤æ–­è´Ÿç¯é€»è¾‘:<br>(æŠ½å±‰åŸç†)å½“å‘ç°ä¸€ä¸ªç‚¹çš„æœ€çŸ­è·¯è¾¹æ•°&gt;= n(æ€»ç‚¹æ•°),å¿…æœ‰ç¯.</p></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2010</span>,M = <span class="number">20010</span>,INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> h[N],e[M],w[M],ne[M],idx;</span><br><span class="line"><span class="type">int</span> d[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"><span class="comment">// è®°å½•æ¯ä¸ªç‚¹çš„æœ€çŸ­è·¯è¾¹æ•°</span></span><br><span class="line"><span class="type">int</span> cnt[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b,<span class="type">int</span> c)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    w[idx] = c;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">spfa</span><span class="params">()</span></span>&#123;</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt;q;</span><br><span class="line">    <span class="comment">// æ‰€æœ‰ç‚¹å…¥é˜Ÿ. é˜²æ­¢æœ‰æœªè¿é€šçš„ç‚¹</span></span><br><span class="line">    <span class="comment">// (æ¢ä¸ªè§’åº¦)ç›¸å½“äºå»ºç«‹äº†ä¸€ä¸ªä¸å„ä¸ªç‚¹è·ç¦»ä¸º0çš„&quot;æºç‚¹&quot;.ä¿è¯è¿é€š</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        q.<span class="built_in">push</span>(i);</span><br><span class="line">        st[i] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="type">int</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        st[t] = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = h[t];~i;i = ne[i])&#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span>(d[j] &gt; d[t] + w[i])&#123;</span><br><span class="line">                d[j] = d[t] + w[i];</span><br><span class="line">                <span class="comment">// è®¡ç®—æœ€çŸ­è·¯è¾¹æ•°</span></span><br><span class="line">                cnt[j] = cnt[t] + <span class="number">1</span>;</span><br><span class="line">                <span class="comment">// &gt;=è¯´æ˜æœ‰è´Ÿç¯</span></span><br><span class="line">                <span class="keyword">if</span>(cnt[j] &gt;= n) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">if</span>(!st[j])&#123;</span><br><span class="line">                    q.<span class="built_in">push</span>(j);</span><br><span class="line">                    st[j] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">while</span>(m --)&#123;</span><br><span class="line">        <span class="type">int</span> a,b,c;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class="line">        <span class="built_in">add</span>(a,b,c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">spfa</span>()) cout&lt;&lt;<span class="string">&quot;Yes&quot;</span>&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;No&quot;</span>&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ¨¡æ¿é¢˜,è®°ä½å‰é¢SPFAä»£ç æ¨¡æ¿+ æŠ½å±‰åŸç†æ€è·¯å³å¯.</p><h2 id="341-æœ€ä¼˜è´¸æ˜“"><a href="#341-æœ€ä¼˜è´¸æ˜“" class="headerlink" title="341. æœ€ä¼˜è´¸æ˜“"></a>341. æœ€ä¼˜è´¸æ˜“</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230327/20230327_3.jpg" alt="æœ€ä¼˜è´¸æ˜“"></p><p><strong>è¿™é“é¢˜æˆ‘ç”šè‡³ä¸çŸ¥é“æ€ä¹ˆå’ŒSPFAæ‰¯ä¸Šè”ç³»</strong>.<br>(æä¸€å˜´,è¿™é“é¢˜yæ€»ç”šè‡³å†™äº†é¢˜è§£!!!)</p><div class="note info no-icon flat"><p>ä»‹ç»ä¸€ä¸ªéå¸¸å¸¸ç”¨çš„æ€è·¯: <strong>åˆ†æ®µ</strong><br>(ä¸€èˆ¬ç”¨äºå‰é¢å¤„ç†å’Œåé¢å¤„ç†ç›¸äº’ä¸å½±å“çš„æƒ…å†µ)</p><p>åœ¨æœ¬é¢˜ä¸­. æˆ‘ä»¬å¯ä»¥é€‰æ‹©ç¬¬kä¸ªç‚¹: åœ¨<code>1~k</code>ä¸­æ‰¾ä¹°å…¥æœ€å°å€¼<code>dmin[k]</code>.åœ¨<code>k~n</code>ä¸­æ‰¾å–å‡ºæœ€å¤§å€¼<code>dmax[k]</code>.</p><p>å¦å¤–:ç”±äºä¸æ˜¯æ‹“æ‰‘å›¾,çŠ¶æ€çš„æ›´æ–°å¯èƒ½å­˜åœ¨ç¯,å› æ­¤ä¸èƒ½ä½¿ç”¨åŠ¨æ€è§„åˆ’.åªèƒ½ä½¿ç”¨æ±‚æœ€çŸ­è·¯çš„æ–¹å¼.<br>è¿™é“é¢˜ä¸èƒ½ç”¨Dijkstra? å› æ­¤å½“å‰æ±‚å‡ºçš„æœ€å°å€¼ä¸ä¸€å®šæ˜¯æœ€ç»ˆæœ€å°å€¼.</p><p>æ•´ä½“æ€è·¯:<br>æ±‚ä¸¤ä¸ªæ•°ç»„<code>dmin</code>ä¿å­˜ä¹°å…¥æœ€å°å€¼,<code>dmax</code>ä¿å­˜å–å‡ºæœ€å¤§å€¼.</p><p>1: ç”±yæ°dpæ³•å¯å¾—: <code>dmin[k] = min(dmin[s]...w[k])</code>,<code>dmax[k] = max(dmin[s]...w[k])</code>. </p><p>2: å› ä¸ºæ±‚çš„æ˜¯<code>k ~ n</code>çš„æœ€å¤§å€¼,æ‰€ä»¥å¦å¤–éœ€è¦åå‘å»ºå›¾.<br><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230327/20230327_4.jpg" alt="åå‘å»ºå›¾çš„åŸå› "></p><p>3: ä¸Šé¢åˆ†æè¿‡,ç”±äºç¯çš„å­˜åœ¨,æŸäº›çŠ¶æ€ä¼šåå¤æ›´æ–°,æ‰€ä»¥ç”¨æœ€çŸ­è·¯æ€æƒ³.ä½¿ç”¨SPFA.<br>æ›´æ–°æ–¹å¼å°±æ˜¯ç¬¬1æ­¥çš„æ–¹ç¨‹.</p></div><p>ä¸å¾—ä¸è¯´: è¿™ä¸ªæ€ç»´æ˜¯çœŸçš„å¼º.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>,M = <span class="number">2000010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> w[N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> h[N],rh[N],e[M],ne[M],idx;</span><br><span class="line"><span class="type">int</span> dmin[N],dmax[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> h[],<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// spfaæ±‚&quot;æœ€çŸ­è·¯&quot;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">spfa</span><span class="params">(<span class="type">int</span> h[],<span class="type">int</span> d[],<span class="type">int</span> start,<span class="type">bool</span> flag)</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(d,<span class="number">0</span>,<span class="keyword">sizeof</span> dmin);</span><br><span class="line">    <span class="keyword">if</span>(flag) <span class="built_in">memset</span>(d,<span class="number">0x3f</span>,<span class="keyword">sizeof</span> dmin);</span><br><span class="line">    d[start] = w[start];</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(start);</span><br><span class="line">    st[start] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="type">int</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        st[t] = <span class="literal">false</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = h[t];~i;i = ne[i])&#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span>((flag &amp;&amp; d[j] &gt; <span class="built_in">min</span>(d[t],w[j])) ||(!flag &amp;&amp; d[j] &lt; <span class="built_in">max</span>(d[t],w[j])))&#123;</span><br><span class="line">                <span class="keyword">if</span>(flag) d[j] = <span class="built_in">min</span>(d[t],w[j]);</span><br><span class="line">                <span class="keyword">else</span> d[j] = <span class="built_in">max</span>(d[t],w[j]);</span><br><span class="line">                <span class="keyword">if</span>(!st[j])&#123;</span><br><span class="line">                    q.<span class="built_in">push</span>(j);</span><br><span class="line">                    st[j] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    <span class="built_in">memset</span>(rh,<span class="number">-1</span>,<span class="keyword">sizeof</span> rh);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) cin&gt;&gt;w[i];</span><br><span class="line">    <span class="keyword">while</span>(m --)&#123;</span><br><span class="line">        <span class="type">int</span> a,b,op;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b&gt;&gt;op;</span><br><span class="line">        <span class="built_in">add</span>(h,a,b),<span class="built_in">add</span>(rh,b,a);</span><br><span class="line">        <span class="keyword">if</span>(op == <span class="number">2</span>) <span class="built_in">add</span>(h,b,a),<span class="built_in">add</span>(rh,a,b);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">spfa</span>(h,dmin,<span class="number">1</span>,<span class="literal">true</span>);</span><br><span class="line">    <span class="built_in">spfa</span>(rh,dmax,n,<span class="literal">false</span>);</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        res = <span class="built_in">max</span>(res,dmax[i] - dmin[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™é“é¢˜æˆ‘è§‰å¾—éœ€è¦å¤šåšå‡ é.</p><h2 id="1165-å•è¯ç¯"><a href="#1165-å•è¯ç¯" class="headerlink" title="1165. å•è¯ç¯"></a>1165. å•è¯ç¯</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230327/20230327_5.jpg" alt="å•è¯ç¯"></p><div class="note info no-icon flat"><p>æˆ‘ä»¥ä¸ºçš„ä¼˜åŒ–: å¼•å…¥ä¸€ä¸ªéå¸¸æ–°å¥‡çš„è§’åº¦,ä»è€Œæ‰¾åˆ°æ–°çš„è§„åˆ™.<br>å®é™…ä¸Šçš„ä¼˜åŒ–: æ ¹æ®ç»éªŒåˆ¤æ–­.<br>(å¼€ç©ç¬‘çš„äº†)<br>è¿™é“é¢˜è¿˜æ˜¯å¾ˆå…·æœ‰å­¦ä¹ ä»·å€¼.<br>ç‰¹åˆ«æ˜¯å»ºå›¾,é—®é¢˜è½¬æ¢ä¹‹ç±».</p><p><strong>æ€è·¯</strong>:</p><p>å»ºå›¾:<br>é¢˜ç›®ç»™çš„ç‚¹æ•°ä¸º<code>10^5</code>.æœ€åæƒ…å†µä¸‹è¾¹æ•°ä¸º<code>10^10</code>.è¿™è‚¯å®šæ˜¯ä¸è¡Œçš„.<br>å¿…é¡»æ¢å»ºå›¾æ€è·¯:<br>é€‰å–å­—ç¬¦å‰ä¸¤ä½å’Œåä¸¤ä½ä½œä¸ºç‚¹,è¾¹ä¸ºå­—ç¬¦ä¸²é•¿åº¦.è¿™æ ·æˆ‘ä»¬æœ€å¤šæœ‰<code>676</code>ä¸ªç‚¹,<code>10^5</code>æ¡è¾¹.</p><p>01åˆ†æ•°è§„åˆ’:<br><a href="https://blog.csdn.net/niiick/article/details/80925267">0/1åˆ†æ•°è§„åˆ’ è¯¦è§£</a>.<br>æ€»ä¹‹,å…ˆæ±‚è§£çš„åŒºé—´: <code>(0,1000]</code>,ç„¶ååœ¨åŒºé—´ä¸­ä½¿ç”¨<strong>äºŒåˆ†</strong>å¾—åˆ°<code>mid</code>.<br>å°†é—®é¢˜è½¬æ¢ä¸º<code>lenç´¯åŠ å’Œ / ç‚¹ä¸ªæ•°å’Œ &gt; mid</code>.<br>è¿™æ ·æˆ‘ä»¬å¯ä»¥å°†æ¯æ¡è¾¹çš„è¾¹æƒè®¾ç½®ä¸º<code>len[i] - mid</code>.<br>é¢˜ç›®è½¬æ¢æˆ:åˆ¤æ–­å›¾ä¸­æ˜¯å¦å­˜åœ¨æ­£ç¯.</p><p>æœ€åç„å­¦ä¼˜åŒ–ä¸€æ³¢:</p></div><p>åˆ«äººçš„æ€»ç»“:<br><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230327/20230327_6.jpg" alt="æœ¬é¢˜æ€è·¯"></p><p>ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><br>å¾ˆç„å­¦å•Š!çœŸçš„å¾ˆç„å­¦.</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwing_Dijkstraæ±‚æœ€çŸ­è·¯</title>
      <link href="/2023/03/26/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek3/Acwing-Dijkstra%E6%B1%82%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
      <url>/2023/03/26/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek3/Acwing-Dijkstra%E6%B1%82%E6%9C%80%E7%9F%AD%E8%B7%AF/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><font size=4><b>å‰è¨€ğŸ“</b></font><p>Dijkstraæ±‚æœ€çŸ­è·¯.<br>å¥—è·¯ä»£ç è¦ç‰¢è®°.</p></div><div class="note info no-icon flat"><p>æœ´ç´ dijkstraå†™æ³•:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> w[N][N];</span><br><span class="line"><span class="comment">// è·ç¦»æ•°ç»„</span></span><br><span class="line"><span class="type">int</span> d[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"><span class="comment">// ç‚¹, è¾¹</span></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dijkstra</span><span class="params">(<span class="type">int</span> start)</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(d,<span class="number">0x3f3f3f3f</span>,<span class="keyword">sizeof</span> d);</span><br><span class="line">    d[start] = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> t = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!st[j] &amp;&amp; (t == <span class="number">-1</span> || d[j] &lt; d[t]))&#123;</span><br><span class="line">                t = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ç”¨è¿‡çš„æ ‡è®°</span></span><br><span class="line">        st[t] = <span class="literal">true</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(d[j] &gt; d[t] + w[t][j])&#123;</span><br><span class="line">                d[j] = d[t] + w[t][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœd[i] == 0x3f3f3f3f åˆ™ iå’Œstart æœªè¿é€š</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>å †ä¼˜åŒ–ç‰ˆæœ¬:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾¹æ•°ä¸€èˆ¬æ¯”é¢˜æ„çš„å¤§2å€</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">200010</span>,M = <span class="number">2</span> * N;</span><br><span class="line"><span class="comment">// é‚»æ¥è¡¨</span></span><br><span class="line"><span class="type">int</span> h[N],e[M],w[M],ne[M],idx;</span><br><span class="line"><span class="comment">// è·ç¦»æ•°ç»„</span></span><br><span class="line"><span class="type">int</span> d[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"><span class="comment">// ç‚¹, è¾¹</span></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b,<span class="type">int</span> c)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    w[idx] = c;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dijkstra</span><span class="params">(<span class="type">int</span> start)</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(d,<span class="number">0x3f3f3f3f</span>,<span class="keyword">sizeof</span> d);</span><br><span class="line">    <span class="built_in">memset</span>(st,<span class="number">0</span>,<span class="keyword">sizeof</span> st);</span><br><span class="line">    priority_queue&lt;PII,vector&lt;PII&gt;,greater&lt;PII&gt;&gt; heap;</span><br><span class="line">    </span><br><span class="line">    d[start] = <span class="number">0</span>;</span><br><span class="line">    heap.<span class="built_in">push</span>(&#123;<span class="number">0</span>,start&#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!heap.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="keyword">auto</span> t = heap.<span class="built_in">top</span>();</span><br><span class="line">        heap.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="type">int</span> var = t.second;</span><br><span class="line">        <span class="comment">// ç”¨è¿‡çš„ç‚¹è·³è¿‡</span></span><br><span class="line">        <span class="keyword">if</span>(st[var]) <span class="keyword">continue</span>;</span><br><span class="line">        st[var] = <span class="literal">true</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = h[var];~i;i = ne[i])&#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span>(d[j] &gt; d[var] + w[i])&#123;</span><br><span class="line">                d[j] = d[var] + w[i];</span><br><span class="line">                heap.<span class="built_in">push</span>(&#123;d[j],j&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¦‚æœd[i] == 0x3f3f3f3f åˆ™ iå’Œstart æœªè¿é€š</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä¸¤ç§å†™æ³•æ€è·¯æ˜¯ä¸€è‡´.<br><mark>æœ´ç´ ç‰ˆé€‚ç”¨äºç‚¹æ•°å°‘,è¾¹æ•°å¤šçš„ç¨ å¯†å›¾.</mark><br><mark>å †ä¼˜åŒ–ä½¿ç”¨äºç‚¹æ•°å¤š,è¾¹æ•°å°‘çš„ç¨€ç–å›¾.</mark><br>ä½†ä¸ç®¡æ€ä¹ˆæ ·,éƒ½åˆ‡è®°<span class='p red'><strong>dijkstraä¸è§£è´Ÿæƒå›¾</strong></span>.<br>(è´Ÿæƒå›¾è¯·ç”¨SPFA)</p></div><h2 id="1488-æœ€çŸ­è·ç¦»"><a href="#1488-æœ€çŸ­è·ç¦»" class="headerlink" title="1488. æœ€çŸ­è·ç¦»"></a>1488. æœ€çŸ­è·ç¦»</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230326/20230326_1.jpg" alt="æœ€çŸ­è·ç¦»"></p><div class="note success no-icon flat"><p>ä¸€é“éå¸¸å¥½çš„é¢˜,çœ‹å®Œé¢˜æ„å,é¦–å…ˆæƒ³åˆ°çš„æ˜¯å¤šæºæœ€çŸ­è·¯Floyd.<br>ä½†ä¸€çœ‹æ•°æ®èŒƒå›´<code>10^5</code>,Floydç›´æ¥ä¸èƒ½ç”¨äº†.<br>ç„¶åæˆ‘æƒ³çš„æ˜¯å¤šæ¬¡<code>dijkstra</code>.è¿™æ ·å†™ä¹Ÿè¶…æ—¶äº†.</p><p>ä¸€çœ‹é¢˜è§£.ç›´å‘¼NB.yæ€»NB.</p><p>æ€è·¯:</p><p>çœ‹ä¸Šå»æ˜¯æ±‚å¤šæºæœ€çŸ­è·¯.<br>ä½†å¦‚æœæˆ‘ä»¬æ·»åŠ ä¸€ä¸ªè™šæ‹Ÿçš„ç‚¹ x,åŒæ—¶ä»¤æ‰€æœ‰å•†åº—åˆ°è¯¥ç‚¹è·ç¦»ä¸º0.<br>ç„¶åæ±‚å…³äºxç‚¹çš„dijkstra.<br>ä¸å°±å®Œç¾çš„å°†å¤šæºå˜æˆäº†å•æºé—®é¢˜.</p><p>æœ€åä¸€ç‚¹,è¿™é‡Œå› ä¸º<u>å¤šåŠ äº†ä¸€ä¸ªç‚¹,è¾¹æ•°åº”è¯¥è¦ä¹˜3</u>.</p></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100020</span>,M = <span class="number">3</span> * N;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> h[N],e[M],w[M],ne[M],idx;</span><br><span class="line"><span class="comment">// è·ç¦»</span></span><br><span class="line"><span class="type">int</span> d[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"><span class="comment">// ç‚¹,è¾¹</span></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b,<span class="type">int</span> c)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    w[idx] = c;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dijkstra</span><span class="params">(<span class="type">int</span> start)</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(d,<span class="number">0x3f3f3f3f</span>,<span class="keyword">sizeof</span> d);</span><br><span class="line">    <span class="built_in">memset</span>(st,<span class="number">0</span>,<span class="keyword">sizeof</span> st);</span><br><span class="line">    </span><br><span class="line">    priority_queue&lt;PII,vector&lt;PII&gt;,greater&lt;PII&gt;&gt; heap;</span><br><span class="line">    d[start] = <span class="number">0</span>;</span><br><span class="line">    heap.<span class="built_in">push</span>(&#123;<span class="number">0</span>,start&#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!heap.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="keyword">auto</span> t = heap.<span class="built_in">top</span>();</span><br><span class="line">        heap.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="type">int</span> var = t.second;</span><br><span class="line">        <span class="comment">// åªç”¨æ²¡ç”¨è¿‡çš„</span></span><br><span class="line">        <span class="keyword">if</span>(st[var]) <span class="keyword">continue</span>;</span><br><span class="line">        st[var] = <span class="literal">true</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = h[var];~i;i = ne[i])&#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span>(d[j] &gt; d[var] + w[i])&#123;</span><br><span class="line">                d[j] = d[var] + w[i];</span><br><span class="line">                heap.<span class="built_in">push</span>(&#123;d[j],j&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¦‚æœd[i] == 0x3f3f3f3f è¡¨ç¤º i å’Œ start æœªè¿é€š</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="type">int</span> a,b,c;</span><br><span class="line">    <span class="keyword">while</span>(m --)&#123;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class="line">        <span class="built_in">add</span>(a,b,c);</span><br><span class="line">        <span class="built_in">add</span>(b,a,c);</span><br><span class="line">    &#125;</span><br><span class="line">    cin&gt;&gt;m;</span><br><span class="line">    <span class="keyword">while</span>(m --)&#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        <span class="comment">// x åˆ°å„ä¸ªå•†åº—è·ç¦»ä¸º0</span></span><br><span class="line">        <span class="built_in">add</span>(<span class="number">0</span>,x,<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ±‚æœ€çŸ­è·¯</span></span><br><span class="line">    <span class="built_in">dijkstra</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;m;</span><br><span class="line">    <span class="keyword">while</span>(m --)&#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        cout&lt;&lt;d[x]&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="903-æ˜‚è´µçš„è˜ç¤¼"><a href="#903-æ˜‚è´µçš„è˜ç¤¼" class="headerlink" title="903. æ˜‚è´µçš„è˜ç¤¼"></a>903. æ˜‚è´µçš„è˜ç¤¼</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230326/20230326_2.jpg" alt="æ˜‚è´µçš„è˜ç¤¼"></p><div class="note info no-icon flat"><p>è¿™é‡Œåªæ”¾äº†ä¸»è¦éƒ¨åˆ†.</p><p>è¿™é“é¢˜å’Œä¸Šé¢é‚£é“å¾ˆåƒ.<br>æ€ä¹ˆè¯´,æˆ‘å¾ˆå¿«æƒ³åˆ°äº†è§£æ³•.<br>ä½†è¢«ä¸€ä¸ªç»†èŠ‚ç»Šå€’äº†:<br>åŸè¯: å¦‚æœä»–å’ŒæŸä¸ªåœ°ä½è¾ƒä½çš„äººè¿›è¡Œäº†äº¤æ˜“ï¼Œåœ°ä½è¾ƒé«˜çš„çš„äººä¸ä¼šå†å’Œä»–äº¤æ˜“ï¼Œä»–ä»¬è®¤ä¸ºè¿™æ ·ç­‰äºæ˜¯é—´æ¥æ¥è§¦ï¼Œåè¿‡æ¥ä¹Ÿä¸€æ ·ã€‚</p><p>æˆ‘ä»¥ä¸ºåªéœ€è¦æŠŠç­‰çº§ä½çš„å…¨å»æ‰å³å¯,å³ä½¿ç”¨æœ€å¤§çš„ç­‰çº§åˆ¶åº¦åŒºé—´.(è¿‡äº†60%)<br>ä½†å®é™…ä¸Š,è¿™ä¼šè¿èƒŒä¸Šé¢é‚£å¥è¯.</p><p>åˆ«äººä¸¾åˆ—:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ¯”å¦‚é…‹é•¿ï¼ˆåŸç‚¹1ï¼‰çš„ç­‰çº§ä¸º5ï¼Œç­‰çº§é™åˆ¶ä¸º2ï¼Œå¦‚æœç›´æ¥ç”¨æœ€å¤§çš„åŒºé—´æ±‚ï¼Œé‚£ä¹ˆdijkstraå‡½æ•°é‡Œæ›´æ–°æœ€å°å€¼çš„æ—¶å€™ï¼Œæ‰€æœ‰ç­‰çº§ä¸º3-7ä¹‹é—´çš„å°±éƒ½èƒ½äº¤æ¢äº†ï¼Œ3ä¸7èƒ½äº¤æ¢å°±ä¸ç­‰çº§é™åˆ¶ä¸º2çŸ›ç›¾äº†</span><br></pre></td></tr></table></figure></p></div><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230326/20230326_3.jpg" alt="å›ç­”"></p><p>yæ€»æ¨èå†™æ³•:<br>ä»0å¼€å§‹æ±‚åˆ°1çš„æœ€çŸ­è·¯.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>,INF = <span class="number">0x3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> w[N][N];</span><br><span class="line"><span class="type">int</span> d[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"><span class="type">int</span> le[N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dijkstra</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(d,INF,<span class="keyword">sizeof</span> d);</span><br><span class="line">    <span class="built_in">memset</span>(st,<span class="number">0</span>,<span class="keyword">sizeof</span> st);</span><br><span class="line">    d[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> t = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!st[j] &amp;&amp; (t == <span class="number">-1</span> || d[j] &lt; d[t]))</span><br><span class="line">                t = j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä½¿ç”¨åæ ‡è®°</span></span><br><span class="line">        st[t] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(le[j] &gt;= l &amp;&amp; le[j] &lt;= r)&#123;</span><br><span class="line">                d[j] = <span class="built_in">min</span>(d[j],d[t] + w[t][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(w,INF,<span class="keyword">sizeof</span> w);</span><br><span class="line">    cin&gt;&gt;m&gt;&gt;n;</span><br><span class="line">    <span class="type">int</span> a,b,c,id,cost;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        w[i][i] = <span class="number">0</span>;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class="line">        w[<span class="number">0</span>][i] = a;</span><br><span class="line">        le[i] = b;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; c;j ++)&#123;</span><br><span class="line">            cin&gt;&gt;id&gt;&gt;cost;</span><br><span class="line">            w[id][i] = cost;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res = INF;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = le[<span class="number">1</span>] - m;i &lt;= le[<span class="number">1</span>];i ++)&#123;</span><br><span class="line">        <span class="built_in">dijkstra</span>(i,i + m);</span><br><span class="line">        res = <span class="built_in">min</span>(res,d[<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘å†™çš„å †ä¼˜åŒ–ç‰ˆæœ¬:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>, M = <span class="number">20010</span>,INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> h[N],e[M],w[M],ne[M],idx;</span><br><span class="line"><span class="type">int</span> d[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"><span class="type">int</span> level[N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b,<span class="type">int</span> c)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    w[idx] = c;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dijkstra</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(d,INF,<span class="keyword">sizeof</span> d);</span><br><span class="line">    <span class="built_in">memset</span>(st,<span class="number">0</span>,<span class="keyword">sizeof</span> st);</span><br><span class="line">    priority_queue&lt;PII,vector&lt;PII&gt;,greater&lt;PII&gt;&gt; heap;</span><br><span class="line">    d[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    heap.<span class="built_in">push</span>(&#123;<span class="number">0</span>,<span class="number">0</span>&#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!heap.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="keyword">auto</span> t = heap.<span class="built_in">top</span>();</span><br><span class="line">        heap.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="type">int</span> var = t.second;</span><br><span class="line">        <span class="keyword">if</span>(st[var]) <span class="keyword">continue</span>;</span><br><span class="line">        st[var] = <span class="literal">true</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = h[var];~i;i = ne[i])&#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span>(d[j] &gt; d[var] + w[i] &amp;&amp; level[j] &gt;= l &amp;&amp; level[j] &lt;= r)&#123;</span><br><span class="line">                d[j] = d[var] + w[i];</span><br><span class="line">                heap.<span class="built_in">push</span>(&#123;d[j],j&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    cin&gt;&gt;m&gt;&gt;n;</span><br><span class="line">    <span class="type">int</span> a,c,id,cost;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i++)&#123;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;level[i]&gt;&gt;c;</span><br><span class="line">        <span class="built_in">add</span>(<span class="number">0</span>,i,a);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; c;j ++)&#123;</span><br><span class="line">            cin&gt;&gt;id&gt;&gt;cost;</span><br><span class="line">            <span class="built_in">add</span>(id,i,cost);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> res = INF;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = level[<span class="number">1</span>] - m;i &lt;= level[<span class="number">1</span>];i ++)&#123;</span><br><span class="line">        <span class="built_in">dijkstra</span>(i,i + m);</span><br><span class="line">        res = <span class="built_in">min</span>(res,d[<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä¸å¾—ä¸è¯´,ç¨ å¯†å›¾ç”¨å †ä¼˜åŒ–dijkstraç®—æ³•å°±æ˜¯æœ‰ç—…!</p><h2 id="342-é“è·¯ä¸èˆªçº¿"><a href="#342-é“è·¯ä¸èˆªçº¿" class="headerlink" title="342. é“è·¯ä¸èˆªçº¿"></a>342. é“è·¯ä¸èˆªçº¿</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230326/20230326_4.jpg" alt="é“è·¯ä¸èˆªçº¿"></p><div class="note success no-icon flat"><p>è¿™é“é¢˜éå¸¸çš„å¥‡ç‰¹.<br>æ•°ç»„æ˜¯ä¸èƒ½å¼€æ»¡çš„.<br>å†…å­˜é™åˆ¶æ˜¯<code>64MB</code>ä¸€å…±åªèƒ½å¼€<code>16,777,216</code>ä¸ªint.<br>æ‰€ä»¥æœ´ç´ ç‰ˆçš„dijkstraæ˜¯ä¸å¯èƒ½å¼€æ»¡çš„.</p><p>è¿˜æœ‰,è¿™å¥è¯æ„Ÿè§‰éå¸¸æœ‰ç”¨:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">äº‹å®ä¸Šï¼Œç”±äºæœ€è¿‘ææ€–ä¸»ä¹‰å¤ªåš£å¼ ï¼Œä¸ºäº†ç¤¾ä¼šå’Œè°ï¼Œå‡ºå°äº†ä¸€äº›æ”¿ç­–ï¼š</span><br><span class="line">ä¿è¯å¦‚æœæœ‰ä¸€æ¡èˆªçº¿å¯ä»¥ä» Aiåˆ° Biï¼Œé‚£ä¹ˆä¿è¯ä¸å¯èƒ½é€šè¿‡ä¸€äº›é“è·¯å’Œèˆªçº¿ä» Biå›åˆ° Aiã€‚</span><br></pre></td></tr></table></figure><br>ä½†æˆ‘ä¸çŸ¥é“æ€ä¹ˆç”¨.555555</p><p>æ€è·¯:<br>ç”±ä¸Šé¢é¢˜æ„å¯çŸ¥:<br>æœ‰é“è·¯çš„,åŒå‘, è¾¹æƒå¿…ä¸ºæ­£.<br>æœ‰èˆªçº¿çš„,å•å‘,è¾¹æƒå¯æ­£å¯è´Ÿ. ä½†æ²¡æœ‰ç¯.(ä¿è¯çš„è¯)</p><p>å› æ­¤:<br>å¯¹äºæœ‰é“è·¯çš„éƒ¨åˆ†,æˆ‘ä»¬å°†å…¶çœ‹æˆä¸€ä¸ªå²›,ä½¿ç”¨dijkstraæ±‚æœ€çŸ­è·¯.<br>å¯¹äºæœ‰èˆªçº¿çš„éƒ¨åˆ†,æˆ‘ä»¬å°†å…¶çœ‹æˆä¸€æ¡çº¿,ä½¿ç”¨<span class='p red'>æ‹“æ‰‘æ’åº</span> æ±‚æœ€çŸ­è·¯.<br>æ‰€ä»¥,å¦‚æœåªçœ‹æœ‰èˆªçº¿çš„éƒ¨åˆ†.è¿™ä¸ªå›¾å¯ä»¥ç®€åŒ–æˆæœ‰å‘æ— ç¯å›¾.</p><p>å…³äº<mark>æœ‰å‘æ— ç¯å›¾çš„æœ€çŸ­è·¯, å¿…å®šä½¿ç”¨<strong>æ‹“æ‰‘åºåˆ—</strong></mark>.<br>(ps,å› æ­¤ä¸€èˆ¬æœ‰å‘æ— ç¯å›¾è€ƒéš¾ä¸€ç‚¹æ˜¯æ±‚æœ€é•¿è·¯)</p><p>ä½†æœ‰äº†æ€è·¯,ä¸ä¸€å®šèƒ½æŠŠé¢˜ç›®å†™å‡ºæ¥.yæ€»è¯´,åƒè¿™æ ·æ€è·¯ç®€å•çš„(ç®€å•å—?),ä»£ç ä¸Šçš„ç»†èŠ‚å°±å°‘ä¸äº†.(555)</p><p>è¯´çœŸçš„,æœ‰äº†æ€è·¯åæˆ‘ä¹Ÿå†™ä¸å‡ºæ¥.5555<br>æˆ‘æœ‰æƒ³è¿‡ä½¿ç”¨å‰é¢ç±»ä¼¼çš„<code>è¶…çº§æºç‚¹</code>.ä½†åœ¨æŸäº›æƒ…å†µä¸‹å¥½åƒæ˜¯å¤„ç†ä¸äº†çš„.</p></div><p>è¿™ä¹Ÿå«ç®€å•!!!<br><div class="note info no-icon flat"><p><strong>yæ€»ä»£ç æ€è·¯æ•´ç†</strong>:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1: å…ˆè¾“å…¥æ‰€æœ‰åŒå‘é“è·¯.ç„¶åæ±‚å‡ºæ‰€æœ‰æ‰€æœ‰è¿é€šå—(yæ€»ç”¨DFS),</span><br><span class="line">å¾—åˆ°ä¸¤ä¸ªæ•°ç»„ `id[]`å­˜å‚¨æ¯ä¸ªç‚¹å±äºå“ªä¸ªè¿é€šå—.`vector&lt;int&gt; block[]`å­˜å‚¨æ¯ä¸ªè¿é€šå—ä¸­æœ‰å“ªäº›ç‚¹.</span><br><span class="line">2: è¾“å…¥æ‰€æœ‰èˆªçº¿,ç»Ÿè®¡æ¯ä¸ªè¿é€šå—çš„å…¥åº¦.</span><br><span class="line">3: æŒ‰ç…§æ‹“æ‰‘æ’åºå¤„ç†æ¯ä¸ªè¿é€šå—. å…ˆå°†æ‰€æœ‰å…¥åº¦ä¸º0çš„è¿é€šå—ç¼–å·å…¥é˜Ÿ.</span><br><span class="line">4: ä»é˜Ÿå¤´å–å‡ºè¿é€šå—çš„bid.å°†block[bid]ä¸­çš„ç‚¹å…¨éƒ¨å…¥å°æ ¹å †.è·‘dijkstraç®—æ³•.</span><br><span class="line">5: å–å‡ºå †ä¸­æœ€å°è·ç¦»ç‚¹var.éå†æ‰€æœ‰é‚»æ¥ç‚¹j.</span><br><span class="line">6: èƒ½æ›´æ–°æœ€å°å€¼å°±æ›´æ–°æœ€å°å€¼.</span><br><span class="line">7: å¦‚æœ`id[j] == id[var]`,è¡¨æ˜åœ¨åŒä¸€å—ä¸­,ç»§ç»­ä½¿ç”¨dijkstra.</span><br><span class="line">8: å¦‚æœ`id[j] != id[var]`,è¡¨æ˜ä¸åœ¨åŒä¸€å—,jæ‰€åœ¨çš„è¿é€šå—å…¥åº¦-1.å¦‚æœè¯¥è¿é€šå—å…¥åº¦å½’0,åŠ å…¥é˜Ÿåˆ—.</span><br><span class="line"></span><br><span class="line">æœ€åä¸€ä¸ªå°ç»†èŠ‚: ç”±äºæœ‰è´Ÿè¾¹çš„å­˜åœ¨,åˆ¤æ–­æœªè¿é€šä¿®æ”¹ä¸º`d[i] &gt; INF / 2`.</span><br></pre></td></tr></table></figure><br>(ä»€ä¹ˆæ—¶å€™æˆ‘èƒ½å†™å‡ºè¿™ä¹ˆä¼˜ç§€çš„ä»£ç æ€è·¯å•Š).</p></div></p><p>yæ€»å†™æ³•:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">25010</span>,M = <span class="number">200010</span>,INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¢˜ç›®è¦æ±‚</span></span><br><span class="line"><span class="type">int</span> n,mr,mp,S;</span><br><span class="line"></span><br><span class="line"><span class="comment">// dijkstra</span></span><br><span class="line"><span class="type">int</span> h[N],e[M],w[M],ne[M],idx;</span><br><span class="line"><span class="type">int</span> d[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‹“æ‰‘</span></span><br><span class="line">queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line"><span class="type">int</span> cnt[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿é€šå—</span></span><br><span class="line"><span class="type">int</span> id[N];</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; block[N];</span><br><span class="line"><span class="type">int</span> len;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b,<span class="type">int</span> c)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    w[idx] = c;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> bid)</span></span>&#123;</span><br><span class="line">    id[u] = bid;</span><br><span class="line">    block[bid].<span class="built_in">push_back</span>(u);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = h[u];~i;i = ne[i])&#123;</span><br><span class="line">        <span class="type">int</span> j = e[i];</span><br><span class="line">        <span class="keyword">if</span>(!id[j])&#123;</span><br><span class="line">            <span class="built_in">dfs</span>(j,bid);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dijkstra</span><span class="params">(<span class="type">int</span> u)</span></span>&#123;</span><br><span class="line">    priority_queue&lt;PII,vector&lt;PII&gt;,greater&lt;PII&gt;&gt; heap;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; c : block[u])&#123;</span><br><span class="line">        heap.<span class="built_in">push</span>(&#123;d[c],c&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!heap.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="type">int</span> var = heap.<span class="built_in">top</span>().second;</span><br><span class="line">        heap.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">if</span>(st[var]) <span class="keyword">continue</span>;</span><br><span class="line">        st[var] = <span class="literal">true</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = h[var];~i;i = ne[i])&#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span>(id[var] != id[j] &amp;&amp; -- cnt[id[j]] == <span class="number">0</span>) q.<span class="built_in">push</span>(id[j]);</span><br><span class="line">            <span class="keyword">if</span>(d[j] &gt; d[var] + w[i])&#123;</span><br><span class="line">                d[j] = d[var] + w[i];</span><br><span class="line">                <span class="comment">// ä¸èƒ½he&#x27;b</span></span><br><span class="line">                <span class="keyword">if</span>(id[var] == id[j]) heap.<span class="built_in">push</span>(&#123;d[j],j&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">topsort</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= len;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!cnt[i])</span><br><span class="line">            q.<span class="built_in">push</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="type">int</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="built_in">dijkstra</span>(t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;mr&gt;&gt;mp&gt;&gt;S;</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–è·ç¦»</span></span><br><span class="line">    <span class="built_in">memset</span>(d,INF,<span class="keyword">sizeof</span> d);</span><br><span class="line">    d[S] = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> a,b,c;</span><br><span class="line">    <span class="keyword">while</span>(mr --)&#123;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class="line">        <span class="built_in">add</span>(a,b,c);</span><br><span class="line">        <span class="built_in">add</span>(b,a,c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!id[i])&#123;</span><br><span class="line">            len ++;</span><br><span class="line">            <span class="built_in">dfs</span>(i,len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(mp --)&#123;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class="line">        <span class="built_in">add</span>(a,b,c);</span><br><span class="line">        cnt[id[b]] ++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">topsort</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(d[i] &gt; INF / <span class="number">2</span>) cout&lt;&lt;<span class="string">&quot;NO PATH&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">else</span> cout&lt;&lt;d[i]&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä¸å¾—ä¸è¯´,å†™å®Œè¿™æ ·ä¸€æ®µä»£ç ,çœŸçš„æµ‘èº«èˆ’ç•…!ç®—æ³•å¤ªå¥½ç©äº†.</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwingæ‹“æ‰‘æ’åº</title>
      <link href="/2023/03/25/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek3/Acwing%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/"/>
      <url>/2023/03/25/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek3/Acwing%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>æ‹“æ‰‘æ’åº,ä¸€ä¸ªä¸ç®—å¾ˆå¸¸ç”¨çš„æ•°æ®ç»“æ„.<br>æ˜¯BFSçš„ä¸€ä¸ªå˜ç§.ç”¨äºå·¥ä½œå®‰æ’.<br>è¯´ä¸ä¸Šéš¾,ä½†ä¸ºå•¥yæ€»å¯ä»¥æŠŠé¢˜ç›®å‡ºæˆè¿™ä¹ˆéš¾çš„.</p></div><h2 id="3696-æ„é€ æœ‰å‘æ— ç¯å›¾"><a href="#3696-æ„é€ æœ‰å‘æ— ç¯å›¾" class="headerlink" title="3696. æ„é€ æœ‰å‘æ— ç¯å›¾"></a>3696. æ„é€ æœ‰å‘æ— ç¯å›¾</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230325/20230325_1.jpg" alt="æ„é€ æœ‰å‘æ— ç¯å›¾"></p><div class="note success no-icon flat"><p>è¿™é“é¢˜è€ƒçš„æ›´å¤šæ˜¯æ€ç»´.</p><p>è€ƒè™‘æ‰€æœ‰çš„æœ‰å‘è¾¹:<br>æœ‰ç¯ =&gt; æ— è§£<br><span class='p red'>æ— ç¯ =&gt; ä¸€å®šæœ‰è§£</span><br>äº†è§£è¿™ä¸ªä¹‹å,å°±å¾ˆå®¹æ˜“å†™ä»£ç äº†.</p><p>è¿™é‡Œæˆ‘ä»¬å°†æœ‰å‘è¾¹å’Œæ— å‘è¾¹åˆ†å¼€å­˜å‚¨.</p><p>ä¸å¾—ä¸è¯´,å°å°ä¸€é“é¢˜,å®Œç¾çš„è€ƒå¯Ÿäº†<mark>æ‹“æ‰‘æ’åº</mark>çš„å†…æ¶µ.</p></div><div class="note info no-icon flat"><p>æ‹“æ‰‘æ’åº + åˆ¤æ–­æ˜¯å¦æœ‰ç¯:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨çš„æ˜¯é‚»æ¥è¡¨</span></span><br><span class="line"><span class="type">int</span> h[N], e[N], ne[N], idx;</span><br><span class="line"><span class="comment">//æ·»åŠ æœ‰å‘è¾¹</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> q[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‹“æ‰‘æ’åº + åˆ¤æ–­ç¯</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">topsort</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨æ‰‹å†™é˜Ÿåˆ—,æ–¹ä¾¿è·å–æ‹“æ‰‘æ’åº</span></span><br><span class="line">    <span class="type">int</span> hh = <span class="number">0</span>,tt = <span class="number">-1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å…¥åº¦ä¸º0å…¥é˜Ÿ</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!cnt[i])&#123;</span><br><span class="line">            q[++ tt] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(hh &lt;= tt)&#123;</span><br><span class="line">        <span class="type">int</span> t = q[hh ++];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = h[t];~i;i = ne[i])&#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span>(-- cnt[j] == <span class="number">0</span>)&#123;</span><br><span class="line">                q[++ tt] = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å­˜åœ¨ç¯</span></span><br><span class="line">    <span class="keyword">return</span> tt == n - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p></div><p>è¿™é“é¢˜çš„æ•°æ®é‡è¿˜æ˜¯å¾ˆå¤§çš„.<br>yæ€»å»ºè®®ä½¿ç”¨<code>memset</code>æ—¶å€™ä½¿ç”¨<code>(n + 1) * 4</code>åˆå§‹åŒ–,è€Œä¸æ˜¯å…¨éƒ¨åˆå§‹åŒ–.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">200010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> h[N],e[N],ne[N],idx;</span><br><span class="line"><span class="type">int</span> d[N];</span><br><span class="line"><span class="type">int</span> q[N],pos[N];</span><br><span class="line"><span class="type">int</span> n,m,k;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">edge</span>&#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    <span class="type">int</span> b;</span><br><span class="line">&#125;edges[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‹“æ‰‘æ’åº + åˆ¤æ–­æœ‰ç¯</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">topsort</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> hh = <span class="number">0</span>,tt = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)</span><br><span class="line">        <span class="keyword">if</span>(!d[i])</span><br><span class="line">            q[++ tt] = i;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(hh &lt;= tt)&#123;</span><br><span class="line">        <span class="type">int</span> t = q[hh ++];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = h[t];~i;i = ne[i])&#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span>(-- d[j] == <span class="number">0</span>)</span><br><span class="line">                q[++ tt] = j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> tt == n - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t -- )&#123;</span><br><span class="line">        cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">        <span class="built_in">memset</span>(h,<span class="number">-1</span>,(n + <span class="number">1</span>) * <span class="number">4</span>);</span><br><span class="line">        <span class="built_in">memset</span>(d,<span class="number">0</span>,(n + <span class="number">1</span>) * <span class="number">4</span>);</span><br><span class="line">        k = idx = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> t,a,b;</span><br><span class="line">        <span class="keyword">while</span>(m --)&#123;</span><br><span class="line">            cin&gt;&gt;t&gt;&gt;a&gt;&gt;b;</span><br><span class="line">            <span class="keyword">if</span>(!t) edges[k ++] = &#123;a,b&#125;;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="built_in">add</span>(a,b);</span><br><span class="line">                d[b] ++;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">topsort</span>()) cout&lt;&lt;<span class="string">&quot;NO\n&quot;</span>;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;YES\n&quot;</span>;</span><br><span class="line">            <span class="comment">// æœ‰å‘è¾¹</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> j = h[i];~j;j = ne[j])</span><br><span class="line">                    cout&lt;&lt;i&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;e[j]&lt;&lt;<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// æ‹“æ‰‘é¡ºåº</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++) pos[q[i]] = i;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// æ— å‘è¾¹</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; k;i ++)&#123;</span><br><span class="line">                <span class="type">int</span> a = edges[i].a,b = edges[i].b;</span><br><span class="line">                <span class="keyword">if</span>(pos[a] &gt; pos[b]) <span class="built_in">swap</span>(a,b);</span><br><span class="line">                cout&lt;&lt;a&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;b&lt;&lt;<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="1191-å®¶è°±æ ‘"><a href="#1191-å®¶è°±æ ‘" class="headerlink" title="1191. å®¶è°±æ ‘"></a>1191. å®¶è°±æ ‘</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230325/20230325_2.jpg" alt="å®¶è°±æ ‘"></p><p>éå¸¸ç®€å•çš„åº”ç”¨.<br>å”¯ä¸€è¦æ³¨æ„çš„æ˜¯<wavy>é‚»æ¥è¡¨çš„è¾¹æ•°</wavy>. </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>,M = <span class="number">10010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> h[N],e[M],ne[M],idx;</span><br><span class="line"><span class="type">int</span> d[N];</span><br><span class="line"><span class="type">int</span> q[N],hh,tt = <span class="number">-1</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">topsort</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)</span><br><span class="line">        <span class="keyword">if</span>(!d[i]) q[++ tt] = i;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(hh &lt;= tt)&#123;</span><br><span class="line">        <span class="type">int</span> t = q[hh ++];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = h[t]; ~i;i = ne[i])&#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span>(-- d[j] == <span class="number">0</span>) q[++ tt] = j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tt == n - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        <span class="keyword">while</span>(cin&gt;&gt;x)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!x) <span class="keyword">break</span>;</span><br><span class="line">            <span class="built_in">add</span>(i,x);</span><br><span class="line">            d[x] ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">topsort</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++) cout&lt;&lt;q[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="456-è½¦ç«™åˆ†çº§"><a href="#456-è½¦ç«™åˆ†çº§" class="headerlink" title="456. è½¦ç«™åˆ†çº§"></a>456. è½¦ç«™åˆ†çº§</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230325/20230325_3.jpg" alt="è½¦ç«™åˆ†çº§"></p><div class="note success no-icon flat"><p>è¿™é“é¢˜æ˜¯çœŸçš„å¼º.<br>è€ƒç‚¹: æ‹“æ‰‘æ’åº, è™šæ‹Ÿç‚¹, å·®åˆ†çº¦æŸ.</p></div><p>ä»¥åå†å†™.</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwing_DFS</title>
      <link href="/2023/03/24/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek3/Acwing-DFS/"/>
      <url>/2023/03/24/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek3/Acwing-DFS/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>DFSç”¨çš„å¥½æœ‰å¥‡æ•ˆ.</p><p>DFSå†™æ³•ç»§æ‰¿è‡ªé€’å½’.DFSé‡ç‚¹åœ¨äºå«ä¹‰å’Œå‰ªæ.<br>DFSè§£å†³çš„é—®é¢˜éƒ½æ¯”è¾ƒæ€ä¹ˆè¯´å‘¢,æ¯”è¾ƒæŠ½è±¡.</p><p>ä¸è¿‡å…¨æ’åˆ—é—®é¢˜ä¾æ—§æ˜¯DFSçš„å¼ºé¡¹.(ä½†é‚£ä¸ªæ¨¡æ¿æˆ‘åˆå¿˜è®°äº†).</p></div><h2 id="3502-ä¸åŒè·¯å¾„æ•°"><a href="#3502-ä¸åŒè·¯å¾„æ•°" class="headerlink" title="3502. ä¸åŒè·¯å¾„æ•°"></a>3502. ä¸åŒè·¯å¾„æ•°</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230324/20230324_4.jpg" alt="ä¸åŒè·¯å¾„æ•°"></p><p>æ€ä¹ˆè¯´å‘¢,æ²¡æ³¨æ„æ•°æ®èŒƒå›´å¾ˆå°.<br>å› æ­¤çŠ¶æ€å¯ä»¥ç”¨intç±»å‹æ•°è¡¨ç¤º</p><p>å…¨éƒ¨ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">6</span>;</span><br><span class="line"><span class="type">int</span> g[N][N];</span><br><span class="line"><span class="type">int</span> dx[<span class="number">4</span>] = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="type">int</span> dy[<span class="number">4</span>] = &#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">int</span> n,m,k;</span><br><span class="line">set&lt;<span class="type">int</span>&gt; s;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¯ä¸ªä½ç½®å‘å¤–é€’å½’</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> t,<span class="type">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!t)&#123;</span><br><span class="line">        s.<span class="built_in">insert</span>(num);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">4</span>;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> a = x + dx[i],b = y + dy[i];</span><br><span class="line">        <span class="keyword">if</span>(a &gt;= <span class="number">0</span> &amp;&amp; a &lt; n &amp;&amp; b &gt;= <span class="number">0</span> &amp;&amp; b &lt; m)&#123;</span><br><span class="line">            <span class="built_in">dfs</span>(a,b,t - <span class="number">1</span>,num * <span class="number">10</span> + g[a][b]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m&gt;&gt;k;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++ )&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; m;j ++)&#123;</span><br><span class="line">            cin&gt;&gt;g[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; m;j ++)&#123;</span><br><span class="line">            <span class="built_in">dfs</span>(i,j,k,g[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;s.<span class="built_in">size</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="842-æ’åˆ—æ•°å­—"><a href="#842-æ’åˆ—æ•°å­—" class="headerlink" title="842. æ’åˆ—æ•°å­—"></a>842. æ’åˆ—æ•°å­—</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230324/20230324_5.jpg" alt="æ’åˆ—æ•°å­—"></p><p>æ¯”è¾ƒç®€å•,ä½†ä¸€æ—¶é—´å±…ç„¶æ²¡å†™å‡ºæ¥.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> path[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// k è¡¨ç¤ºä½ç½® statusè¡¨ç¤ºçŠ¶æ€</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> k,<span class="type">int</span> status)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(k == n)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++) cout&lt;&lt;path[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!(status &gt;&gt; i &amp; <span class="number">1</span>))&#123;</span><br><span class="line">            path[k] = i + <span class="number">1</span>;</span><br><span class="line">            <span class="built_in">dfs</span>(k + <span class="number">1</span>,status + (<span class="number">1</span> &lt;&lt; i));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ç‰¹åœ°å»è·‘äº†ä¸‹è¿è¡Œæ—¶é—´å‡ºæ¥:<br><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230324/20230324_6.jpg" alt="æ‰§è¡Œæ—¶é—´"></p><div class="note success no-icon flat"><p>ç»“è®º: å…¨æ’åºåœ¨<code>1s</code>å†…dfsæ‰§è¡Œæœ€å¤šåˆ°10. </p></div><h2 id="843-n-çš‡åé—®é¢˜"><a href="#843-n-çš‡åé—®é¢˜" class="headerlink" title="843. n-çš‡åé—®é¢˜"></a>843. n-çš‡åé—®é¢˜</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230324/20230324_7.jpg" alt="n-çš‡åé—®é¢˜"></p><p>è¿™é“é¢˜æ•™ä¼šæˆ‘ä»¬é€‰æ‹©dfsçš„æ–¹å¼ä¸åŒ,æ€è·¯å°±éœ€è¦ç›¸åº”çš„ä¿®æ”¹.</p><p>è¿™é‡Œæœ‰ä¸¤ç§æ€è·¯:<br>1: éå†æ¯ä¸ªç‚¹.<br>2: éå†æ¯ä¸€è¡Œ.<br>å¾ˆæ˜¾ç„¶,æ–¹å¼2æ€è€ƒçš„çš„æ›´æ·±åˆ»ä¸€ç‚¹.å› æ­¤å®ƒçš„å¤„ç†å°±æ›´ç®€å•ä¸€ç‚¹.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">20</span>,P = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">char</span> g[N][N];</span><br><span class="line"><span class="comment">// y åˆ—, dgæ­£æˆªè· udgè´Ÿæˆªè·</span></span><br><span class="line"><span class="type">bool</span> y[N],dg[N],udg[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// éå†æ¯ä¸€è¡Œ</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(u == n)&#123;</span><br><span class="line">        <span class="comment">// æ–°çš„è¾“å‡ºæ–¹å¼.</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">            cout&lt;&lt;g[i]&lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­æ˜¯å¦å¯æ”¾çš‡å</span></span><br><span class="line">        <span class="keyword">if</span>(!y[i] &amp;&amp; !udg[P + i - u] &amp;&amp; !dg[i + u] )&#123;</span><br><span class="line">            y[i] = <span class="literal">true</span>;</span><br><span class="line">            udg[P + i - u] = <span class="literal">true</span>;</span><br><span class="line">            dg[i + u] = <span class="literal">true</span>;</span><br><span class="line">            g[u][i] = <span class="string">&#x27;Q&#x27;</span>;</span><br><span class="line">            <span class="built_in">dfs</span>(u + <span class="number">1</span>);</span><br><span class="line">            g[u][i] = <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">            y[i] = <span class="literal">false</span>;</span><br><span class="line">            udg[P + i - u] = <span class="literal">false</span>;</span><br><span class="line">            dg[i + u] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j ++)&#123;</span><br><span class="line">            g[i][j] = <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">0</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è€Œæ–¹å¼1æ€è€ƒçš„å°‘,å› æ­¤å†™èµ·æ¥å°±å¤š.<br>yæ€»ä»£ç <br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">bool</span> row[N], col[N], dg[N * <span class="number">2</span>], udg[N * <span class="number">2</span>];</span><br><span class="line"><span class="type">char</span> g[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s &gt; n) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span> (y == n) y = <span class="number">0</span>, x ++ ;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (x == n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (s == n)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ ) <span class="built_in">puts</span>(g[i]);</span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    g[x][y] = <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">    <span class="built_in">dfs</span>(x, y + <span class="number">1</span>, s);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!row[x] &amp;&amp; !col[y] &amp;&amp; !dg[x + y] &amp;&amp; !udg[x - y + n])</span><br><span class="line">    &#123;</span><br><span class="line">        row[x] = col[y] = dg[x + y] = udg[x - y + n] = <span class="literal">true</span>;</span><br><span class="line">        g[x][y] = <span class="string">&#x27;Q&#x27;</span>;</span><br><span class="line">        <span class="built_in">dfs</span>(x, y + <span class="number">1</span>, s + <span class="number">1</span>);</span><br><span class="line">        g[x][y] = <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">        row[x] = col[y] = dg[x + y] = udg[x - y + n] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="165-å°çŒ«çˆ¬å±±"><a href="#165-å°çŒ«çˆ¬å±±" class="headerlink" title="165. å°çŒ«çˆ¬å±±"></a>165. å°çŒ«çˆ¬å±±</h2><span class='p red'>ä¸€é“å’ŒèƒŒåŒ…é—®é¢˜å¾ˆåƒçš„æš´æœé¢˜.</span><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/" alt="å°çŒ«çˆ¬å±±"></p><p>è¿™é“é¢˜ä¸èƒŒåŒ…ä¸åŒçš„åŸå› : ç‰©å“å¾ˆå°‘,ä½†é‡é‡éå¸¸å¤§.</p><p><strong>è¿™é“é¢˜çš„æ€è·¯éå¸¸çš„é‡è¦!!!</strong> çœ‹å®Œç›´å‘¼NB.</p><div class="note success no-icon flat"><p><strong>æ€è·¯</strong>:<br>å¯¹äºç¬¬iåªçŒ«,ä¸€å…±æœ‰ä¸¤ç§é€‰æ‹©:<br>1: æ”¾å…¥å·²ç»å­˜åœ¨çš„è½¦ä¸­<br>2: æ”¾å…¥æ–°è½¦ä¸­<br>(è¿™ä¸ªæ€è€ƒæ¨¡å¼å’ŒèƒŒåŒ…çš„å®Œå…¨ä¸€æ ·)</p></div><p>æœ¬é¢˜ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// sum è®°å½•å¯¹åº”è½¦ä¸ŠçŒ«çš„æ€»è´¨é‡</span></span><br><span class="line"><span class="type">int</span> cat[N],sum[N];</span><br><span class="line"><span class="type">int</span> res = N;</span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è€ƒè™‘åˆ°ç¬¬uåªçŒ«,å½“å‰å…±ç”¨äº†kè¾†è½¦</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="comment">// å‰ªæ1</span></span><br><span class="line">    <span class="keyword">if</span>(k &gt;= res) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">if</span>(u == n)&#123;</span><br><span class="line">        res = k;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ”¾å…¥å·²ç»å­˜åœ¨çš„è½¦ä¸­</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; k;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(sum[i] + cat[u] &lt;= m)&#123;</span><br><span class="line">            sum[i] += cat[u];</span><br><span class="line">            <span class="built_in">dfs</span>(u + <span class="number">1</span>,k);</span><br><span class="line">            sum[i] -= cat[u];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ”¾å…¥æ–°è½¦</span></span><br><span class="line">    sum[k] = cat[u];</span><br><span class="line">    <span class="built_in">dfs</span>(u + <span class="number">1</span>,k + <span class="number">1</span>);</span><br><span class="line">    sum[k] = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++) cin&gt;&gt;cat[i];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä¼˜åŒ–æŸ¥è¯¢</span></span><br><span class="line">    <span class="built_in">sort</span>(cat,cat + n,<span class="built_in">greater</span>());</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p><p>å†™dfsä¸€å®šè¦æ³¨æ„å‰ªæ.å…»æˆä¹ æƒ¯.åƒè¿™é“é¢˜,å°±æœ‰å¡å‰ªæçš„æ—¶é—´.</p><h2 id="1209-å¸¦åˆ†æ•°"><a href="#1209-å¸¦åˆ†æ•°" class="headerlink" title="1209. å¸¦åˆ†æ•°"></a>1209. å¸¦åˆ†æ•°</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230324/20230324_8.jpg" alt="å¸¦åˆ†æ•°"></p><p>è¯´çœŸçš„,å¦‚æœä¸æ˜¯æ”¾åœ¨DFSä¸‹é¢,æˆ‘æ˜¯æƒ³ä¸åˆ°ç”¨DFSçš„.<br>ä¸è¿‡è¯è¯´è¿‡æ¥,å³ä½¿æ”¾åœ¨DFSä¸‹é¢,æˆ‘ä¹Ÿä¸çŸ¥é“æ€ä¹ˆç”¨BFS.555<br>åªèƒ½è¯´,BFSçœŸç¥å¥‡.</p><div class="note info no-icon flat"><p><strong>æ€è·¯</strong>:<br>çœ‹åˆ°ä¸è¦æ…Œ,æ•´ç†ä¸‹å½¢å¼: <code>n == a + b / c</code><br><code>a b c</code> ä¸‰ä½æ­£å¥½å°†<code>1 ~ 9</code> å…¨ç”¨å®Œ.<br>æ‰€ä»¥å‘¢, æˆ‘ä»¬åªéœ€è¦ å¼„å‡ºä¸¤ä¸ªæ•°æ¥,å‰©ä¸‹ä¸€ä¸ªæ•°ç”¨æ¥åˆ¤æ–­æ˜¯å¦æˆç«‹.<br>å› æ­¤,æˆ‘ä»¬å¯¹å½¢å¼è¿›è¡Œå˜å½¢: <code>n * c - a * c == b</code>.<br>æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨<code>b</code>è¿›è¡Œåˆ¤æ–­.<br>è‡³äº<code>a c</code> æˆ‘ä»¬ä½¿ç”¨<code>DFS</code>æšä¸¾æ‰€æœ‰æƒ…å†µ.</p></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> st[<span class="number">10</span>],backeup[<span class="number">10</span>];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> c)</span></span>&#123;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> b = n * (<span class="type">long</span> <span class="type">long</span>)c - a * c;</span><br><span class="line">    <span class="keyword">if</span>(!a || !b || !c) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">memcpy</span>(backeup,st,<span class="keyword">sizeof</span> st);</span><br><span class="line">    <span class="keyword">while</span>(b)&#123;</span><br><span class="line">        <span class="type">int</span> x = b % <span class="number">10</span>;</span><br><span class="line">        b /= <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">if</span>(!x || backeup[x]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        backeup[x] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!backeup[i]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs_c</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> a,<span class="type">int</span> c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(u &gt; <span class="number">9</span>) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">check</span>(a,c)) ans ++;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; <span class="number">10</span>;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!st[i])&#123;</span><br><span class="line">            st[i] = <span class="literal">true</span>;</span><br><span class="line">            <span class="built_in">dfs_c</span>(u + <span class="number">1</span>,a,c * <span class="number">10</span> + i);</span><br><span class="line">            st[i] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs_a</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> a)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a &gt;= n) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">if</span>(a) <span class="built_in">dfs_c</span>(u,a,<span class="number">0</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; <span class="number">10</span>;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!st[i])&#123;</span><br><span class="line">            st[i] = <span class="literal">true</span>;</span><br><span class="line">            <span class="built_in">dfs_a</span>(u + <span class="number">1</span>,a * <span class="number">10</span> + i);</span><br><span class="line">            st[i] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="built_in">dfs_a</span>(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">    cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>yæ€»å»ºè®®: åœ¨æ¯”èµ›ä¸­,å¦‚æœæ²¡æœ‰æƒ³åˆ°è¿™æ ·,é‚£å°±å…¨æ’åˆ—,èµ°æœ€å®¹æ˜“æƒ³åˆ°çš„å†™æ³•.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">12</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"><span class="type">int</span> g[N];</span><br><span class="line"><span class="type">int</span> res,n;</span><br><span class="line"><span class="type">int</span> a,b,c;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">get</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    a = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= l;i ++)&#123;</span><br><span class="line">        a = a * <span class="number">10</span> + g[i];</span><br><span class="line">    &#125;</span><br><span class="line">    b = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = l + <span class="number">1</span>;i &lt;= r;i ++)&#123;</span><br><span class="line">        b = b * <span class="number">10</span> + g[i];</span><br><span class="line">    &#125;</span><br><span class="line">    c = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = r + <span class="number">1</span>;i &lt;= <span class="number">8</span>;i ++)&#123;</span><br><span class="line">        c = c * <span class="number">10</span> + g[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æšä¸¾ä½æ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">check</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">7</span>;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = i + <span class="number">1</span>;j &lt; <span class="number">8</span>;j ++)&#123;</span><br><span class="line">            <span class="built_in">get</span>(i,j);</span><br><span class="line">           </span><br><span class="line">            <span class="keyword">if</span>(n * c == a * c + b) res ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¨æ’åº</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> status)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(u == <span class="number">9</span>)&#123;</span><br><span class="line">        <span class="built_in">check</span>();</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; <span class="number">10</span>;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!st[i])&#123;</span><br><span class="line">            st[i] = <span class="literal">true</span>;</span><br><span class="line">            g[u] = i;</span><br><span class="line">            <span class="built_in">dfs</span>(u + <span class="number">1</span>,status + (<span class="number">1</span> &lt;&lt; i));</span><br><span class="line">            st[i] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ€»ç»“: <strong>dfs</strong>,ä¸€ä¸ªå¾ˆç¥å¥‡çš„ç®—æ³•.æˆ‘åªèƒ½è¯´ç¥å¥‡.</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwing_BFS</title>
      <link href="/2023/03/24/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek3/Acwing-BFS/"/>
      <url>/2023/03/24/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek3/Acwing-BFS/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>BFS.ç»å…¸åº”ç”¨: èµ°è¿·å®«.<br>BFSæ“…é•¿è§£å†³å›¾ä¸­æœ€çŸ­è·¯ç›¸å…³é—®é¢˜.<br>å½“ç„¶åœ¨BFSåŸºç¡€ä¸Š,åäººè¿›è¡Œäº†å„ç§ä¼˜åŒ–,æ‰€ä»¥æœ‰ä¸åŒçš„æœ€çŸ­è·¯ç®—æ³•.</p></div><h2 id="1562-å¾®åšè½¬å‘"><a href="#1562-å¾®åšè½¬å‘" class="headerlink" title="1562. å¾®åšè½¬å‘"></a>1562. å¾®åšè½¬å‘</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230324/20230324_1.jpg" alt="å¾®åšè½¬å‘"></p><p>è¿™é“é¢˜åªæ•™ä¼šæˆ‘ä¸€ç‚¹: <strong><code>set</code>ä¸æ˜¯æ— æ•Œçš„</strong>,æœ‰äº›å¤„ç†ä¸èƒ½çœ.</p><p>æ‹¿åˆ°æ•°æ®å,ç¬¬ä¸€ä»¶äº‹æ˜¯<u>å°†å…³æ³¨åˆ—è¡¨å¤„ç†æˆè¢«å…³æ³¨åˆ—è¡¨</u>.<br>æˆ‘è¿™é‡Œè®¤ä¸ºä½¿ç”¨setå¯ä»¥è·³è¿‡è¿™æ­¥,äº‹å®ä¸Šæƒ³å¤šäº†.</p><p>å…¨éƒ¨ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>,M = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> h[N],e[M],ne[M],idx;</span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bfs</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="type">bool</span> st[N] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(x);</span><br><span class="line">    st[x] = <span class="literal">true</span>;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>;k &lt; m;k ++)&#123;</span><br><span class="line">        <span class="type">int</span> len = q.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">while</span>(len --)&#123;</span><br><span class="line">            <span class="type">int</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">            q.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = h[t];i != <span class="number">-1</span>;i = ne[i])&#123;</span><br><span class="line">                <span class="type">int</span> j = e[i];</span><br><span class="line">                <span class="keyword">if</span>(!st[j])&#123;</span><br><span class="line">                    q.<span class="built_in">push</span>(j);</span><br><span class="line">                    st[j] = <span class="literal">true</span>;</span><br><span class="line">                    res ++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="comment">// è¾“å…¥æ•°æ®æ—¶,å°†å…³æ³¨åˆ—è¡¨è½¬åŒ–æˆè¢«å…³æ³¨åˆ—è¡¨</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> x,t;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        <span class="keyword">while</span>(x --)&#123;</span><br><span class="line">            cin&gt;&gt; t;</span><br><span class="line">            <span class="built_in">add</span>(t,i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> q;</span><br><span class="line">    cin&gt;&gt;q;</span><br><span class="line">    <span class="keyword">while</span>(q --)&#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        cout&lt;&lt;<span class="built_in">bfs</span>(x)&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p><h2 id="845-å…«æ•°ç "><a href="#845-å…«æ•°ç " class="headerlink" title="845. å…«æ•°ç "></a>845. å…«æ•°ç </h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230324/20230324_2.jpg" alt="å…«æ•°ç "></p><p>ç¬¬ä¸€æ¬¡å†™è¿™é“é¢˜,æ•™ä¼šæˆ‘æ€ä¹ˆå°†äºŒç»´ä¸ä¸€ç»´äº’æ¢.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">unordered_map&lt;string,<span class="type">int</span>&gt; d;</span><br><span class="line"><span class="type">int</span> dir[<span class="number">4</span>][<span class="number">2</span>] = &#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bfs</span><span class="params">(string s)</span></span>&#123;</span><br><span class="line">    queue&lt;string&gt; q;</span><br><span class="line">    string ed = <span class="string">&quot;12345678x&quot;</span>;</span><br><span class="line">    q.<span class="built_in">push</span>(s);</span><br><span class="line">    d[s] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        string t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">if</span>(t == ed)&#123;</span><br><span class="line">            <span class="keyword">return</span> d[ed];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// int di = t.find(&#x27;x&#x27;);</span></span><br><span class="line">        <span class="type">int</span> di = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>,len = t.<span class="built_in">size</span>();i &lt; len;i ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(t[i] == <span class="string">&#x27;x&#x27;</span>)&#123;</span><br><span class="line">                di = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> dist = d[t];</span><br><span class="line">        <span class="comment">// ä¸€ç»´è½¬äºŒç»´</span></span><br><span class="line">        <span class="type">int</span> x = di / <span class="number">3</span>,y = di % <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">4</span>;i ++)&#123;</span><br><span class="line">            <span class="type">int</span> dx = x + dir[i][<span class="number">0</span>],dy = y + dir[i][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span>(dx &gt;= <span class="number">0</span> &amp;&amp; dx &lt; <span class="number">3</span> &amp;&amp; dy &gt;= <span class="number">0</span> &amp;&amp; dy &lt; <span class="number">3</span>)&#123;</span><br><span class="line">                <span class="comment">// äºŒç»´è½¬ä¸€ç»´</span></span><br><span class="line">                <span class="type">int</span> ne = dx * <span class="number">3</span> + dy;</span><br><span class="line">                <span class="built_in">swap</span>(t[di],t[ne]);</span><br><span class="line">                <span class="keyword">if</span>(!d.<span class="built_in">count</span>(t))&#123;</span><br><span class="line">                    d[t] = dist + <span class="number">1</span>;</span><br><span class="line">                    q.<span class="built_in">push</span>(t);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">swap</span>(t[di],t[ne]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    string t = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="type">char</span> op;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">9</span>;i ++)&#123;</span><br><span class="line">        cin&gt;&gt;op;</span><br><span class="line">        t += op;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;<span class="built_in">bfs</span>(t)&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1233-å…¨çƒå˜æš–"><a href="#1233-å…¨çƒå˜æš–" class="headerlink" title="1233. å…¨çƒå˜æš–"></a>1233. å…¨çƒå˜æš–</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230324/20230324_3.jpg" alt="å…¨çƒå˜æš–"></p><p>è¿™é“é¢˜å°±æ˜¯å…¸å‹çš„bfs + é™„åŠ æ“ä½œ.</p><p>é™„åŠ æ“ä½œæœ‰å¾ˆå¤šç§,æˆ‘è¿™é‡Œå°±æ”¾æˆ‘å†™çš„è¿™ç§.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> x first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> y second</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; pii;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> g[N][N];</span><br><span class="line"><span class="type">bool</span> st[N][N];</span><br><span class="line"><span class="type">int</span> dix[<span class="number">4</span>] = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="type">int</span> diy[<span class="number">4</span>] = &#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ¤æ–­æ˜¯å¦æœ‰ä¸æ²‰çš„</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">4</span>;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> dx = x + dix[i],dy = y + diy[i];</span><br><span class="line">        <span class="keyword">if</span>(dx &gt;= <span class="number">0</span> &amp;&amp; dx &lt; n &amp;&amp; dy &gt;= <span class="number">0</span> &amp;&amp; dy &lt; n)&#123;</span><br><span class="line">            <span class="keyword">if</span>(g[dx][dy] == <span class="string">&#x27;.&#x27;</span>) flag = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bfs</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    queue&lt;pii&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(&#123;x,y&#125;);</span><br><span class="line">    st[x][y] = <span class="literal">true</span>;</span><br><span class="line">    <span class="type">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">check</span>(x,y)) flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="keyword">auto</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">4</span>;i ++)&#123;</span><br><span class="line">            <span class="type">int</span> dx = t.x + dix[i],dy = t.y + diy[i];</span><br><span class="line">            <span class="keyword">if</span>(dx &gt;= <span class="number">0</span> &amp;&amp; dx &lt; n &amp;&amp; dy &gt;= <span class="number">0</span> &amp;&amp; dy &lt; n &amp;&amp; !st[dx][dy] &amp;&amp; g[dx][dy] == <span class="string">&#x27;#&#x27;</span>)&#123;</span><br><span class="line">                st[dx][dy] = <span class="literal">true</span>;</span><br><span class="line">                q.<span class="built_in">push</span>(&#123;dx,dy&#125;);</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">check</span>(dx,dy)) flag = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!flag) res ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i =<span class="number">0</span>;i &lt; n;i ++) cin&gt;&gt;g[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(g[i][j] == <span class="string">&#x27;#&#x27;</span> &amp;&amp; !st[i][j])&#123;</span><br><span class="line">                <span class="built_in">bfs</span>(i,j);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>bfsçœŸçš„ç®€å•,å¤šå†™å‡ æ¬¡å°±èƒ½æŒæ¡.</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwing_Trieæ ‘</title>
      <link href="/2023/03/23/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek3/Acwing-Trie%E6%A0%91/"/>
      <url>/2023/03/23/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek3/Acwing-Trie%E6%A0%91/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>Trieæ ‘.<br>ä¸€ä¸ªå¾ˆç®€å•ç†è§£,ä½†æˆ‘è€æ˜¯å†™ä¸å¯¹çš„æ•°æ®ç»“æ„.<br>trieæ ‘æ“…é•¿å¤„ç†å¤§é‡å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜.(ä½†ä¸æ˜¯KMPçš„é‚£ç§).<br>è€Œyæ€»å¸¸å¸¸ç”¨å®ƒæ¥æ±‚ä¸€å †æ•°çš„<mark>å¼‚æˆ–æœ€å¤§å€¼</mark>.</p></div><h2 id="3485-æœ€å¤§å¼‚æˆ–å’Œ"><a href="#3485-æœ€å¤§å¼‚æˆ–å’Œ" class="headerlink" title="3485. æœ€å¤§å¼‚æˆ–å’Œ"></a>3485. æœ€å¤§å¼‚æˆ–å’Œ</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230323/20230323_3.jpg" alt="æœ€å¤§å¼‚æˆ–å’Œ"></p><p>æ€ä¹ˆè¯´å‘¢,è¢«å‰é¢å•è°ƒé˜Ÿåˆ—å½±å“äº†.<br><div class="note success no-icon flat"><p>çœ‹åˆ°è¿ç»­æ•°ç»„å’Œ ==&gt; å‰ç¼€å’Œ.<br>è¿™é‡Œæ˜¯è¿ç»­æ•°ç»„å¼‚æˆ–å’Œ ==&gt; å‰ç¼€å¼‚æˆ–å’Œ.<br>é€‰æ‹©ä¸¤ä¸ªæ•°æ±‚å¼‚æˆ–æœ€å¤§å€¼ ==&gt; Trieæ ‘.</p></div></p><div class="note success no-icon flat"><p><strong>å¸¦åˆ é™¤çš„Trieæ ‘</strong>:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// cntæ•°ç»„è®°å½•æ¯ä¸ªç‚¹ä¸Šä¸ªæ•°</span></span><br><span class="line"><span class="type">int</span> trie[N][<span class="number">2</span>],cnt[N],idx;</span><br><span class="line"></span><br><span class="line"><span class="comment">// c = 1 æ·»åŠ  c = -1 åˆ é™¤</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> c)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> p = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">30</span>;i &gt;= <span class="number">0</span> ;i --)&#123;</span><br><span class="line">        <span class="type">int</span> u = x &gt;&gt; i &amp; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(!trie[p][u]) trie[p][u] = ++ idx;</span><br><span class="line">        p = trie[p][u];</span><br><span class="line">        <span class="comment">// æ¯ä¸ªç‚¹éƒ½è¦åŠ </span></span><br><span class="line">        cnt[p] += c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> p = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">30</span>;i &gt;= <span class="number">0</span>;i --)&#123;</span><br><span class="line">        <span class="type">int</span> u = x &gt;&gt; i &amp; <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// å¦‚æœèŠ‚ç‚¹è¢«åˆ é™¤äº†,å°±ä¸èƒ½ç”¨</span></span><br><span class="line">        <span class="keyword">if</span>(cnt[trie[p][!u]])&#123;</span><br><span class="line">            res += <span class="number">1</span> &lt;&lt; i;</span><br><span class="line">            p = trie[p][!u];</span><br><span class="line">        &#125;<span class="keyword">else</span> p = trie[p][u];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></div><p>æœ¬é¢˜å…¨éƒ¨ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">3200010</span>;</span><br><span class="line"><span class="comment">// cntæ•°ç»„è®°å½•æ¯ä¸ªç‚¹ä¸Šæ€»ä¸ªæ•°</span></span><br><span class="line"><span class="type">int</span> trie[N][<span class="number">2</span>],cnt[N],idx;</span><br><span class="line"><span class="type">int</span> q[N];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> c)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> p = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">30</span>;i &gt;= <span class="number">0</span> ;i --)&#123;</span><br><span class="line">        <span class="type">int</span> u = x &gt;&gt; i &amp; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(!trie[p][u]) trie[p][u] = ++ idx;</span><br><span class="line">        p = trie[p][u];</span><br><span class="line">        cnt[p] += c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> p = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">30</span>;i &gt;= <span class="number">0</span>;i --)&#123;</span><br><span class="line">        <span class="type">int</span> u = x &gt;&gt; i &amp; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(cnt[trie[p][!u]])&#123;</span><br><span class="line">            res += <span class="number">1</span> &lt;&lt; i;</span><br><span class="line">            p = trie[p][!u];</span><br><span class="line">        &#125;<span class="keyword">else</span> p = trie[p][u];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        cin&gt;&gt;q[i];</span><br><span class="line">        q[i] ^= q[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">insert</span>(q[<span class="number">0</span>],<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="built_in">insert</span>(q[i],<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(i - m - <span class="number">1</span> &gt;= <span class="number">0</span>) <span class="built_in">insert</span>(q[i - m - <span class="number">1</span>],<span class="number">-1</span>);</span><br><span class="line">        res = <span class="built_in">max</span>(res,<span class="built_in">query</span>(q[i]));</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="835-Trieå­—ç¬¦ä¸²ç»Ÿè®¡"><a href="#835-Trieå­—ç¬¦ä¸²ç»Ÿè®¡" class="headerlink" title="835. Trieå­—ç¬¦ä¸²ç»Ÿè®¡"></a>835. Trieå­—ç¬¦ä¸²ç»Ÿè®¡</h2><p><strong>Trieå­—ç¬¦ä¸²çš„ç»å…¸åº”ç”¨</strong><br><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230323/20230323_3.jpg" alt="Trieå­—ç¬¦ä¸²ç»Ÿè®¡"></p><p>trieç»å…¸åº”ç”¨.<br>ç›´æ¥ä¸Šä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> trie[N][<span class="number">26</span>],idx;</span><br><span class="line"><span class="comment">// æ ‡è®°æ¯ä¸ªå•è¯æœ«å°¾å³å¯</span></span><br><span class="line"><span class="type">int</span> nums[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ’å…¥</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(string s)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> p = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>,len = s.<span class="built_in">size</span>();i &lt; len;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> u = s[i] - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span>(!trie[p][u]) trie[p][u] = ++ idx;</span><br><span class="line">        p = trie[p][u];</span><br><span class="line">    &#125;</span><br><span class="line">    nums[p] ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸ¥è¯¢</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query</span><span class="params">(string s)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> p = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>,len = s.<span class="built_in">size</span>();i &lt; len;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> u = s[i] - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span>(!trie[p][u]) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        p = trie[p][u];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums[p];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    string op,s;</span><br><span class="line">    <span class="keyword">while</span>(n --)&#123;</span><br><span class="line">        cin&gt;&gt;op&gt;&gt;s;</span><br><span class="line">        <span class="keyword">if</span>(op[<span class="number">0</span>] == <span class="string">&#x27;I&#x27;</span>)&#123;</span><br><span class="line">            <span class="built_in">insert</span>(s);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            cout&lt;&lt;<span class="built_in">query</span>(s)&lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>trieçš„ç»ƒä¹ å°±è¿™äº›äº†.</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwingå­—ç¬¦ä¸²KMPæ“ä½œ</title>
      <link href="/2023/03/23/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek2/Acwing%E5%AD%97%E7%AC%A6%E4%B8%B2KMP%E6%93%8D%E4%BD%9C/"/>
      <url>/2023/03/23/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek2/Acwing%E5%AD%97%E7%AC%A6%E4%B8%B2KMP%E6%93%8D%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>KMPå­—ç¬¦ä¸²åŒ¹é….å¤šä¹ˆç»å…¸çš„ä¸œè¥¿.(butæˆ‘åˆå¿˜è®°äº†)<br>ç‰¢è®°å‡ ç‚¹:<br>å…ˆå†™ åŒ¹é…è¿‡ç¨‹,åå†™<code>nextæ•°ç»„</code>è‡ªæˆ‘åŒ¹é….<br>åŒ¹é…è¿‡ç¨‹<code>i</code>ä»1å¼€å§‹,<code>j</code>ä»0å¼€å§‹.æ‰€ä»¥æ˜¯<code>i</code>ä¸<code>j + 1</code>å¯¹åº”.<br>ä¼ å…¥çš„å­—ç¬¦ä¸²æƒ³åŠæ³•å¤„ç†æˆä»1å¼€å§‹çš„.(è·³è¿‡è¾¹ç•Œæƒ…å†µ)</p></div><p>è¿™é‡Œå°±æ”¾ä¸ŠKMPæœ€ç»å…¸çš„åŒ¹é…è¿‡ç¨‹:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸ä¸»ä¸²åŒ¹é…</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>,j = <span class="number">0</span>;i &lt;= m;i++)&#123;</span><br><span class="line">    <span class="comment">// çªå‡ºçš„å°±æ˜¯å¤šæ¬¡å°è¯•</span></span><br><span class="line">    <span class="keyword">while</span>(j &amp;&amp; p[j + <span class="number">1</span>] != s[i]) j = ne[j];</span><br><span class="line">    <span class="comment">//åŒ¹é…æˆåŠŸ</span></span><br><span class="line">    <span class="keyword">if</span>(s[i] == p[j + <span class="number">1</span>]) j++;</span><br><span class="line">    <span class="comment">//å®Œå…¨åŒ¹é…</span></span><br><span class="line">    <span class="keyword">if</span>(j == n)&#123;</span><br><span class="line">        <span class="comment">//è¿™é‡Œå†™æˆåŠŸåçš„ä»£ç ï¼Œæ¯”å¦‚è®°å½•åŒ¹é…æˆåŠŸå¼€å§‹ä¸‹æ ‡</span></span><br><span class="line">        j = ne[j];<span class="comment">//å›é€€</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœæ˜¯è‡ªæˆ‘åŒ¹é…,è¿™æ ·å†™</span></span><br><span class="line">    <span class="comment">// ne[i] = j;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="141-å‘¨æœŸ"><a href="#141-å‘¨æœŸ" class="headerlink" title="141. å‘¨æœŸ"></a>141. å‘¨æœŸ</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230323/20230323_2.jpg" alt="å‘¨æœŸ"></p><div class="note info no-icon flat"><p>è¿™é‡Œä»‹ç»<code>nextæ•°ç»„</code>çš„éªšæ“ä½œ:<br><code>n - ne[n]</code>æ°å¥½è¡¨ç¤º<code>p</code>å­—ç¬¦ä¸²<mark>æœ€é•¿çš„<strong>æœ€å°çš„å¾ªç¯å­—ä¸²</strong></mark>.<br>è¿™ç®—æ˜¯æœ€å®¹æ˜“è€ƒçš„æ“ä½œäº†. ä½¿ç”¨kmp + æ ˆ å¯ä»¥å®ç°æ‹¦æˆªåŒå†™.</p></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1000010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> p[N];</span><br><span class="line"><span class="type">int</span> ne[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(cin&gt;&gt;n,n)&#123;</span><br><span class="line">        cin&gt;&gt;p + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>,j = <span class="number">0</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">            <span class="keyword">while</span>(j &amp;&amp; p[i] != p[j + <span class="number">1</span>]) j = ne[j];</span><br><span class="line">            <span class="keyword">if</span>(p[i] == p[j + <span class="number">1</span>]) j ++;</span><br><span class="line">            ne[i] = j;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;Test case #&quot;</span>&lt;&lt;cnt ++&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">            <span class="type">int</span> t = i - ne[i];</span><br><span class="line">            <span class="keyword">if</span>(i % t == <span class="number">0</span> &amp;&amp; i / t &gt; <span class="number">1</span>)&#123;</span><br><span class="line">                cout&lt;&lt;i&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;i / t&lt;&lt;endl;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯´æ¥æƒ­æ„§,è™½ç„¶å†™çš„æ—¶å€™æƒ³åˆ°æ˜¯ä¸ªéªšæ“ä½œ,ä½†æ²¡è®°ä½.æœ€ç»ˆè¿˜æ˜¯çœ‹äº†é¢˜è§£.55555</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwingå•è°ƒé˜Ÿåˆ—</title>
      <link href="/2023/03/22/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek2/Acwing%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97/"/>
      <url>/2023/03/22/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek2/Acwing%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>å•è°ƒé˜Ÿåˆ—. å±äºé˜Ÿåˆ—ä¸­çš„ä¸€ç§.<br>å•è°ƒé˜Ÿåˆ—çš„åº”ç”¨æ¯”è¾ƒç‹­éš˜.<br>ä½†å¦‚æœä¸èƒ½è¯†åˆ«å‡ºæ¥ä½¿ç”¨å•è°ƒé˜Ÿåˆ—çš„è¯,é¢˜ç›®éš¾åº¦å°±ä¸Šå»äº†.</p></div><h2 id="299-è£å‰ªåºåˆ—"><a href="#299-è£å‰ªåºåˆ—" class="headerlink" title="299. è£å‰ªåºåˆ—"></a>299. è£å‰ªåºåˆ—</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230322/20230322_3.jpg" alt="è£å‰ªåºåˆ—"></p><div class="note info no-icon flat"><p>æ€ä¹ˆè¯´å‘¢,ä¸Šæ¥ç‹ç‚¸.<br>å•è°ƒé˜Ÿåˆ—åªæ˜¯è¿™é“é¢˜çš„ä¸€å°éƒ¨åˆ†.<br>ç¢°åˆ°è¿™æ ·çš„,æœ€å¤šçœ‹ä¸€çœ¼.</p></div><h2 id="154-æ»‘åŠ¨çª—å£"><a href="#154-æ»‘åŠ¨çª—å£" class="headerlink" title="154. æ»‘åŠ¨çª—å£"></a>154. æ»‘åŠ¨çª—å£</h2><p><strong>éå¸¸ç»å…¸çš„ä¸€é“é¢˜.</strong></p><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230322/20230322_4.jpg" alt="æ»‘åŠ¨çª—å£"></p><div class="note info no-icon flat"><p>æ»‘åŠ¨çª—å£ç»å…¸ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¾“å‡ºæœ€å°å€¼</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦è¶…è¿‡çª—å£é•¿åº¦</span></span><br><span class="line">    <span class="keyword">if</span>(i - q[hh] + <span class="number">1</span> &gt; k) hh ++;</span><br><span class="line">    <span class="comment">// ç»™æ–°æ•°æ®è…¾ä½ç½®</span></span><br><span class="line">    <span class="keyword">while</span>(hh &lt;= tt &amp;&amp; g[i] &lt; g[q[tt]]) tt --;</span><br><span class="line">    <span class="comment">// åŠ å…¥æ–°æ•°æ®</span></span><br><span class="line">    q[++ tt] = i;</span><br><span class="line">    <span class="comment">// è¾“å‡º</span></span><br><span class="line">    <span class="keyword">if</span>(i &gt;= k - <span class="number">1</span>) cout&lt;&lt;g[q[hh]]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></div><p>æœ¬é¢˜ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1000100</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> g[N];</span><br><span class="line"><span class="type">int</span> q[N],hh,tt = <span class="number">-1</span>;</span><br><span class="line"><span class="type">int</span> n,k;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;k;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++) cin&gt;&gt;g[i];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¾“å‡ºæœ€å°å€¼</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">       <span class="comment">// åˆ¤æ–­æ˜¯å¦è¶…è¿‡çª—å£é•¿åº¦</span></span><br><span class="line">       <span class="keyword">if</span>(i - q[hh] + <span class="number">1</span> &gt; k) hh ++;</span><br><span class="line">       <span class="comment">// ç»™æ–°æ•°æ®è…¾ä½ç½®</span></span><br><span class="line">       <span class="keyword">while</span>(hh &lt;= tt &amp;&amp; g[i] &lt; g[q[tt]]) tt --;</span><br><span class="line">       <span class="comment">// åŠ å…¥æ–°æ•°æ®</span></span><br><span class="line">       q[++ tt] = i;</span><br><span class="line">       <span class="comment">// è¾“å‡º</span></span><br><span class="line">       <span class="keyword">if</span>(i &gt;= k - <span class="number">1</span>) cout&lt;&lt;g[q[hh]]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    hh = <span class="number">0</span>,tt = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i - q[hh] + <span class="number">1</span> &gt; k) hh ++;</span><br><span class="line">        <span class="keyword">while</span>(hh &lt;= tt &amp;&amp; g[i] &gt; g[q[tt]]) tt --;</span><br><span class="line">        q[++ tt] = i;</span><br><span class="line">        <span class="keyword">if</span>(i &gt;= k - <span class="number">1</span>) cout&lt;&lt;g[q[hh]]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å°±è¿™ä¸ªæ»‘åŠ¨çª—å£,åŸºæœ¬ä¸Šå’Œå•è°ƒé˜Ÿåˆ—ç»‘å®šåœ¨ä¸€èµ·äº†.</p><h2 id="135-æœ€å¤§å­åºå’Œ"><a href="#135-æœ€å¤§å­åºå’Œ" class="headerlink" title="135. æœ€å¤§å­åºå’Œ"></a>135. æœ€å¤§å­åºå’Œ</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230322/20230322_5.jpg" alt="æœ€å¤§å­åºå’Œ"></p><p>è¿™é“é¢˜å¯ä»¥çœ‹æˆä¸Šé¢ä¸€é“é¢˜çš„å˜å½¢.<br>ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥,åªè¦è¯†åˆ«å‡ºæœ‰æ»‘åŠ¨çª—å£é‚£æ„å‘³,å°±ä½¿ç”¨å•è°ƒé˜Ÿåˆ—.</p><div class="note success no-icon flat"><p>ä½†å¹¶ä¸å½±å“è¿™é“é¢˜çš„ç»†èŠ‚å¤š.</p><p>ç»†èŠ‚1: <mark>å¤„ç†æˆå‰ç¼€å’Œå,è¦æ“ä½œçš„ä¸ªæ•°è¦+1 </mark><br>ç»†èŠ‚2: <mark>è¦æå‰å°†0æ”¾å…¥é˜Ÿåˆ—,é˜²æ­¢ä¸¢å¤±ä»å¼€å¤´å¼€å§‹ç®—çš„æƒ…å†µ</mark></p><p>ç»†èŠ‚3: <mark>å¿…é¡»åœ¨æ·»åŠ æ–°å…ƒç´ å‰æ±‚æœ€å¤§å€¼</mark>.(å› ä¸ºé˜Ÿåˆ—æ˜¯ç»´æŠ¤æœ€å°å€¼,æ–°çš„å€¼å…ˆåŠ å…¥ä¼šå½±å“è®¡ç®—)</p></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">300010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> s[N];</span><br><span class="line"><span class="type">int</span> q[N],hh,tt = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        cin&gt;&gt;s[i];</span><br><span class="line">        s[i] += s[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> res = <span class="number">-1e9</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æå‰æ’å…¥0,é˜²æ­¢å¿½ç•¥ä»å¼€å¤´å¼€å§‹ç®—çš„æƒ…å†µ</span></span><br><span class="line">    tt = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// æ»‘åŠ¨è·å–æœ€å°å€¼(l - 1)</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="comment">// ç”±å‰ç¼€å’Œå…¬å¼çŸ¥,éœ€è¦å¤šå¤„ç†ä¸€ä½</span></span><br><span class="line">        <span class="keyword">if</span>(i - q[hh]&gt; m) hh ++;</span><br><span class="line">        <span class="comment">// å…ˆå¤„ç†</span></span><br><span class="line">        res = <span class="built_in">max</span>(res,s[i] - s[q[hh]]);</span><br><span class="line">        <span class="comment">// æ·»åŠ æ–°å…ƒç´ </span></span><br><span class="line">        <span class="keyword">while</span>(hh &lt;= tt &amp;&amp; s[i] &lt; s[q[tt]]) tt --;</span><br><span class="line">        q[++ tt] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1089-çƒ½ç«ä¼ é€’"><a href="#1089-çƒ½ç«ä¼ é€’" class="headerlink" title="1089. çƒ½ç«ä¼ é€’"></a>1089. çƒ½ç«ä¼ é€’</h2><div class="note info no-icon flat"><p>å¦ä¸€ä¸ªåº”ç”¨æ–¹å‘,åœ¨dpä¸­ä½¿ç”¨.</p></div><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230323/20230323_1.jpg" alt="çƒ½ç«ä¼ é€’"></p><p>dpå«ä¹‰: <code>dp[i]</code>è¡¨ç¤º<code>1~i</code>ç¬¦åˆé¢˜ç›®æ¡ä»¶,ä¸”<span class='p red'>ç¬¬iä¸ªå°ä¸€å®šè¦ç‚¹äº®</span><br>dpè¡¨ç¤º: <code>dp[i] = min(dp[j]) + g[i]; (i - m &lt;= j &lt;= i - 1)</code>.<br>è€Œå•è°ƒé˜Ÿåˆ—å°±æ˜¯ç”¨æ¥æ±‚å›ºå®šåŒºé—´æœ€å€¼çš„.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">200010</span>;</span><br><span class="line"><span class="type">int</span> g[N];</span><br><span class="line"><span class="type">int</span> q[N],hh,tt = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> dp[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="comment">// å’Œåé¢ç»Ÿä¸€å½¢å¼</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) cin&gt;&gt;g[i];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// dp[0] = 0å…¥é˜Ÿ</span></span><br><span class="line">    tt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="comment">// ä¸åœ¨é›†åˆä¸­</span></span><br><span class="line">        <span class="keyword">if</span>(q[hh] &lt; i - m) hh ++;</span><br><span class="line">        dp[i] = dp[q[hh]] + g[i];</span><br><span class="line">        <span class="keyword">while</span>(hh &lt;= tt &amp;&amp; dp[i] &lt; dp[q[tt]]) tt --;</span><br><span class="line">        q[++ tt] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> res = <span class="number">1e9</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = n - m + <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        res = <span class="built_in">min</span>(res,dp[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="note info no-icon flat"><p>ç‰¢è®°:<br>å½“éœ€è¦æ±‚<u>æ»‘åŠ¨çª—å£æœ€å€¼</u>æ—¶,ç«‹å³ä½¿ç”¨å•è°ƒé˜Ÿåˆ—.<br>å½“éœ€è¦æ±‚<u>æœ€è¿‘è¾ƒå°/å¤§å€¼</u>æ—¶,ç«‹å³ä½¿ç”¨å•è°ƒæ ˆ.</p></div>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwingå“ˆå¸Œ</title>
      <link href="/2023/03/22/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek2/Acwing%E5%93%88%E5%B8%8C/"/>
      <url>/2023/03/22/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek2/Acwing%E5%93%88%E5%B8%8C/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>å“ˆå¸Œ.ç¥ä¸€èˆ¬çš„æ•°æ®ç»“æ„.<br>æˆ‘çš„å»ºè®®æ˜¯,èƒ½ç”¨ç³»ç»Ÿæä¾›çš„å°±ç”¨ç³»ç»Ÿæä¾›çš„.</p></div><h2 id="2058-ç¬¨æ‹™çš„æ‰‹æŒ‡"><a href="#2058-ç¬¨æ‹™çš„æ‰‹æŒ‡" class="headerlink" title="2058. ç¬¨æ‹™çš„æ‰‹æŒ‡"></a>2058. ç¬¨æ‹™çš„æ‰‹æŒ‡</h2><div class="note warning no-icon flat"><p>è¿™é“é¢˜è¿˜æ˜¯æœ‰ç‚¹éš¾åº¦çš„,ä¸è¿‡éš¾çš„ä¸åœ¨å“ˆå¸Œ.<br>è€Œæ˜¯åœ¨è¿›åˆ¶çš„è½¬æ¢.</p></div><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230322/20230322_1.jpg" alt="ç¬¨æ‹™çš„æ‰‹æŒ‡"></p><p>çœ‹å®Œç›´æ¥æ¨¡æ‹Ÿ.ä¸è¿‡è¿™é‡Œçš„è¿›åˆ¶è½¬åŒ–æœ‰ç‚¹å›°éš¾.</p><p>å€¼å¾—æ³¨æ„çš„ä¸€ç‚¹,è¿™é‡Œç”¨åˆ°ä¸€ä¸ªä»¥åä¹Ÿä¼šå¾ˆå¸¸ç”¨çš„ç®—æ³•:<br><div class="note info no-icon flat"><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°† b è¿›åˆ¶ä¸‹ s è½¬æ¢æˆåè¿›åˆ¶ä¸‹çš„æ•°</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">base</span><span class="params">(string s,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">  <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; c : s)</span><br><span class="line">    res  = res * b + c - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div></p><p>ä½†è¿™é¢˜è¿˜æ˜¯æœ‰çš„é™·é˜±çš„.<br>æ¯”å¦‚è¿™ä¸ªæ•°æ®:<code>1110 \n 220</code>.<br>åœ¨æ¼å†™æƒ…å†µä¸‹å¯ä»¥æ˜¯<code>0110  020</code>,è¿™æ ·å°±æ‰¾çš„ç»“æœ6.ä½†è¿™æ˜¯ä¸å¯¹çš„.<br><span class='p red'>é¢˜ç›®ä¸­æ˜ç¡®è¯´äº†:åªä¼šå†™é”™</span>.å› æ­¤å¿…é¡»ç‰¹åˆ¤å‰å¯¼é›¶.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;unordered_set&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°† b è¿›åˆ¶ä¸‹ s è½¬æ¢æˆåè¿›åˆ¶ä¸‹çš„æ•°</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">base</span><span class="params">(string s,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; c : s)</span><br><span class="line">        res  = res * b + c - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    unordered_set&lt;<span class="type">int</span>&gt; set;</span><br><span class="line">    string x,y;</span><br><span class="line">    cin&gt;&gt;x&gt;&gt;y;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>,len = x.<span class="built_in">size</span>();i &lt; len;i ++)&#123;</span><br><span class="line">        string s = x;</span><br><span class="line">        s[i] ^= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(len &amp;&amp; s[<span class="number">0</span>] == <span class="string">&#x27;0&#x27;</span>) <span class="keyword">continue</span>;</span><br><span class="line">        set.<span class="built_in">insert</span>(<span class="built_in">base</span>(s,<span class="number">2</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>,len = y.<span class="built_in">size</span>();i &lt; len;i ++)&#123;</span><br><span class="line">        string s = y;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; <span class="number">3</span>;j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[i] - <span class="string">&#x27;0&#x27;</span> != j)&#123;</span><br><span class="line">                s[i] = <span class="string">&#x27;0&#x27;</span> + j;</span><br><span class="line">                <span class="keyword">if</span>(len &amp;&amp; s[<span class="number">0</span>] == <span class="string">&#x27;0&#x27;</span>) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="type">int</span> n = <span class="built_in">base</span>(s,<span class="number">3</span>);</span><br><span class="line">                <span class="keyword">if</span>(set.<span class="built_in">count</span>(n))&#123;</span><br><span class="line">                    cout&lt;&lt;n&lt;&lt;endl;</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="841-å­—ç¬¦ä¸²å“ˆå¸Œ"><a href="#841-å­—ç¬¦ä¸²å“ˆå¸Œ" class="headerlink" title="841. å­—ç¬¦ä¸²å“ˆå¸Œ"></a>841. å­—ç¬¦ä¸²å“ˆå¸Œ</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230322/20230322_2.jpg" alt="å­—ç¬¦ä¸²å“ˆå¸Œ"></p><p>å“ˆå¸Œå¦å¤–ä¸€ä¸ªç»å…¸åº”ç”¨: <strong>å­—ç¬¦ä¸²å“ˆå¸Œ</strong></p><p>å­—ç¬¦ä¸²å“ˆå¸Œåˆ©ç”¨äº†å‰ç¼€å’ŒçŸ¥è¯†.<br>å…ˆé€‰æ‹©ä¸€ä¸ªæ¯”è¾ƒå¤§çš„è´¨æ•°(æ¯”å¦‚<code>131</code>,æˆ–è€…<code>13331</code>),åŒæ—¶å°†æ•°æ®ç±»å‹å¼€åˆ°æœ€å¤§<code>unsigned long long</code>.<br>ç„¶åä½¿ç”¨å‰ç¼€å’Œæ€æƒ³æ„é€ å“ˆå¸Œæ•°ç»„.</p><p>å…·ä½“å¤„ç†ä»£ç å¦‚ä¸‹:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> P = <span class="number">131</span>,N = <span class="number">100010</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ull;</span><br><span class="line"></span><br><span class="line">ull p[N],ha[N];</span><br><span class="line"><span class="type">char</span> s[N]; <span class="comment">// è¾“å…¥ä»1å¼€å§‹</span></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">()</span></span>&#123;</span><br><span class="line">    p[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        ha[i] = ha[i - <span class="number">1</span>] * P + s[i];</span><br><span class="line">        p[i] = p[i - <span class="number">1</span>] * P;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ull <span class="title">get</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ha[r] - ha[l] * p[r - l + <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æœ¬é¢˜å…¨éƒ¨ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> P = <span class="number">131</span>,N = <span class="number">100010</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ull;</span><br><span class="line"></span><br><span class="line">ull p[N],ha[N];</span><br><span class="line"><span class="type">char</span> s[N]; <span class="comment">// è¾“å…¥ä»1å¼€å§‹</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    cin&gt;&gt;s +<span class="number">1</span>;</span><br><span class="line">    p[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        ha[i] = ha[i - <span class="number">1</span>] * P + s[i];</span><br><span class="line">        p[i] = p[i - <span class="number">1</span>] * P;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> x,y,a,b;</span><br><span class="line">    <span class="keyword">while</span>(m --)&#123;</span><br><span class="line">        cin&gt;&gt;x&gt;&gt;y&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        ull t1 = ha[y] - ha[x - <span class="number">1</span>] * p[y - x + <span class="number">1</span>];</span><br><span class="line">        ull t2 = ha[b] - ha[a - <span class="number">1</span>] * p[b - a + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span>(t1 == t2) cout&lt;&lt;<span class="string">&quot;Yes&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;No&quot;</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å“ˆå¸Œå¾ˆå¥½ç”¨çš„.æœ‰æ—¶å€™éœ€è¦ä½¿ç”¨æ•°å­—ä»£æ›¿åå­—æ—¶,ä¸€èˆ¬æˆ‘ä»¬å°±æ˜¯å¼€ä¸€ä¸ªå“ˆå¸Œè¡¨æ¥è®°å½•ä¸¤è€…ä¹‹é—´çš„å…³ç³».(åœ¨ä»Šå¤©çš„æ¯”èµ›ä¸­é‡è§è€å¤šäº†).</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwingå¹¶æŸ¥é›†</title>
      <link href="/2023/03/21/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek2/Acwing%E5%B9%B6%E6%9F%A5%E9%9B%86/"/>
      <url>/2023/03/21/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek2/Acwing%E5%B9%B6%E6%9F%A5%E9%9B%86/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>å¹¶æŸ¥é›†: ä¸€ç§å¿«é€Ÿåˆ¤æ–­ä¸¤è€…å…³ç³»çš„ç»“æ„.<br>å½“é¢˜ç›®éœ€è¦å¤šæ¬¡è¯¢é—®ä¸åŒä¸¤è€…ä¹‹é—´çš„å…³ç³»æ—¶ä½¿ç”¨.<br>ä¸€èˆ¬æƒ³åˆ°ä½¿ç”¨å¹¶æŸ¥é›†å,é¢˜ç›®éš¾åº¦å°±ä¸‹é™ä¸€ä¸ªç­‰çº§.</p></div><h2 id="240-é£Ÿç‰©é“¾"><a href="#240-é£Ÿç‰©é“¾" class="headerlink" title="240. é£Ÿç‰©é“¾"></a>240. é£Ÿç‰©é“¾</h2><p><strong>è¿™é“é¢˜ç®—çš„ä¸Šæ˜¯å°†å¹¶æŸ¥é›†è—å¾—æ¯”è¾ƒæ·±çš„.</strong><br><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230321/20230321_4.jpg" alt="é£Ÿç‰©é“¾"></p><p>æ ¸å¿ƒ: <mark>å¹¶æŸ¥é›† + é›†å†…ä¸æ ¹èŠ‚ç‚¹çš„è·ç¦»</mark><br>å¦å¤–ç±»ä¼¼çš„ä¸€é¢˜:<br><a href="https://www.acwing.com/problem/content/839/">837. è¿é€šå—ä¸­ç‚¹çš„æ•°é‡</a>æ ¸å¿ƒ: <mark>å¹¶æŸ¥é›† + é›†åˆç‚¹æ€»æ•°</mark></p><p>è¿™é“é¢˜éœ€è¦å¯¹ å¹¶æŸ¥é›†æ ¸å¿ƒå‡½æ•° è¿›è¡Œéƒ¨åˆ†ä¿®æ”¹.<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(p[x] != x)&#123;</span><br><span class="line">        <span class="comment">// æ±‚çˆ¶</span></span><br><span class="line">        <span class="type">int</span> t = <span class="built_in">find</span>(p[x]);</span><br><span class="line">        <span class="comment">// æ±‚è·ç¦»</span></span><br><span class="line">        eat[x] += eat[p[x]];</span><br><span class="line">        p[x] = t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p[x];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>æœ¬é¢˜å…¨éƒ¨ä»£ç </strong>:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">50010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> p[N],d[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x != p[x])&#123;</span><br><span class="line">        <span class="type">int</span> t = <span class="built_in">find</span>(p[x]);</span><br><span class="line">        d[x] += d[p[x]];</span><br><span class="line">        p[x] = t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p[x];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) p[i] = i;</span><br><span class="line">    <span class="type">int</span> op,a,b;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(m --)&#123;</span><br><span class="line">        cin&gt;&gt;op&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        <span class="type">int</span> pa = <span class="built_in">find</span>(a),pb = <span class="built_in">find</span>(b);</span><br><span class="line">        <span class="keyword">if</span>(a &gt; n || b &gt; n) res ++;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(op == <span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(pa == pb &amp;&amp; (d[a] - d[b]) % <span class="number">3</span>) res ++;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(pa != pb)&#123;</span><br><span class="line">                    p[pa] = pb;</span><br><span class="line">                    d[pa] = d[b] - d[a];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(pa == pb &amp;&amp; (d[b] - d[a] - <span class="number">1</span>)%<span class="number">3</span>) res ++;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(pa != pb)&#123;</span><br><span class="line">                    p[pa] = pb;</span><br><span class="line">                    d[pa] = d[b] - <span class="number">1</span> - d[a];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æœ¬é“é¢˜å¯¹å¹¶æŸ¥é›†çš„è¿ç”¨å¯ä»¥è¯´æ˜¯éå¸¸çš„åˆ°ä½.</p><h2 id="238-é“¶æ²³è‹±é›„ä¼ è¯´"><a href="#238-é“¶æ²³è‹±é›„ä¼ è¯´" class="headerlink" title="238. é“¶æ²³è‹±é›„ä¼ è¯´"></a>238. é“¶æ²³è‹±é›„ä¼ è¯´</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230321/20230321_5.jpg" alt="é“¶æ²³è‹±é›„ä¼ è¯´"></p><div class="note success no-icon flat"><p>æ²¡æ´»äº†,æ•´ä¸ªå¤§æ‚çƒ©.<br>å°±æ˜¯å°†å‰é¢ä¸¤ä¸ªè¾…åŠ©æ•°ç»„å…¨éƒ¨éƒ½ç”¨ä¸Šå°±è¡Œäº†.</p></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">30010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> p[N], d[N],cnt[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(p[x] != x)&#123;</span><br><span class="line">        <span class="type">int</span> t = <span class="built_in">find</span>(p[x]);</span><br><span class="line">        d[x] += d[p[x]];</span><br><span class="line">        p[x] = t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p[x];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; N;i ++)&#123;</span><br><span class="line">        p[i] = i;</span><br><span class="line">        cnt[i] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="type">char</span> op[<span class="number">2</span>];</span><br><span class="line">    <span class="type">int</span> a,b;</span><br><span class="line">    <span class="keyword">while</span>(t --)&#123;</span><br><span class="line">        cin&gt;&gt;op&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        <span class="type">int</span> pa = <span class="built_in">find</span>(a),pb = <span class="built_in">find</span>(b);</span><br><span class="line">        <span class="keyword">if</span>(op[<span class="number">0</span>] == <span class="string">&#x27;M&#x27;</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(pa != pb)&#123;</span><br><span class="line">                p[pa] = pb;</span><br><span class="line">                <span class="comment">// è·ç¦»èµ‹å€¼ æ°å¥½æ˜¯ åŸé›†åˆçš„å¤§å°</span></span><br><span class="line">                d[pa] = cnt[pb];</span><br><span class="line">                cnt[pb] += cnt[pa];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(pa != pb) cout&lt;&lt;<span class="number">-1</span>&lt;&lt;endl;</span><br><span class="line">            <span class="comment">// å¿…é¡»ç‰¹åˆ¤åˆ—çš„å¤´èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">else</span> cout&lt;&lt;<span class="built_in">max</span>(<span class="number">0</span>,<span class="built_in">abs</span>(d[a] - d[b]) - <span class="number">1</span>)&lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="note info no-icon flat"><p>å†™å®Œä»Šå¤©çš„é¢˜ç›®,å¯ä»¥çœ‹å‡ºå¹¶æŸ¥é›†ä¸€å…±å°±ä¸¤ä¸ªé™„åŠ æ“ä½œ.<br>è™½ç„¶ç®€å•,ä½†å¹¶ä¸å½±å“å¹¶æŸ¥é›†çš„å¼ºå¤§.</p></div>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwingé€’å½’</title>
      <link href="/2023/03/21/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek2/Acwing%E9%80%92%E5%BD%92/"/>
      <url>/2023/03/21/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek2/Acwing%E9%80%92%E5%BD%92/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><font size=4><b>å‰è¨€ğŸ“</b></font><p>é€’å½’çš„ä»£è¡¨: dfs.<br>é€’å½’æ ¸å¿ƒ: é€’å½’å‡½æ•°çš„å«ä¹‰.</p></div><h2 id="1497-æ ‘çš„éå†"><a href="#1497-æ ‘çš„éå†" class="headerlink" title="1497. æ ‘çš„éå†"></a>1497. æ ‘çš„éå†</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230321/20230321_1.jpg" alt="æ ‘çš„éå†"></p><div class="note success no-icon flat"><p>å¦‚æœå«æˆ‘æ‰‹åŠ¨æ¨¡æ‹Ÿçš„è¯,éå¸¸çš„ç®€å•.<br>ä½†è¦æˆ‘æ•™ç¨‹åºçš„è¯,éå¸¸çš„å›°éš¾.</p></div><div class="note danger no-icon flat"><p>yæ€»è¯´:<br>è¿™ä¸ªé¢˜ç›®éå¸¸éå¸¸çš„ç»å…¸.ä¸€å®šè¦èƒŒè¿‡.<br>æ³¨æ„è¿™é“é¢˜ä¸­: <mark>æ¯ä¸€ä¸ªç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„.</mark></p></div><p>çœ‹å®Œè§†é¢‘,è¿™é“é¢˜è¿˜æ˜¯æŒºç®€å•çš„.<br>é€’å½’å‡½æ•°å«ä¹‰: ä½¿ç”¨ä¼ å…¥çš„ä¸­åºéå† + ååºéå† æ„å»ºæˆæ ‘</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">40</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> postorder[N],inorder[N];</span><br><span class="line">unordered_map&lt;<span class="type">int</span>,<span class="type">int</span>&gt; l,r,pos;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ä¼ å…¥çš„æ•°æ®æ„å»ºäºŒå‰æ ‘</span></span><br><span class="line"><span class="comment">// pl,pr: ååºå·¦å³ç«¯ il,ir: ä¸­åºå·¦å³ç«¯</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">build</span><span class="params">(<span class="type">int</span> pl,<span class="type">int</span> pr,<span class="type">int</span> il,<span class="type">int</span> ir)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> root = postorder[pr];</span><br><span class="line">    <span class="comment">// æ‰¾rootåœ¨ ä¸­åºéå†ä¸­çš„ä½ç½®</span></span><br><span class="line">    <span class="type">int</span> k = pos[root];</span><br><span class="line">    <span class="keyword">if</span>(il &lt; k) l[root] = <span class="built_in">build</span>(pl,k - <span class="number">1</span> - il + pl,il,k - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(ir &gt; k) r[root] = <span class="built_in">build</span>(k - il + pl,pr - <span class="number">1</span>,k + <span class="number">1</span>,ir);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// bfså†™å±‚åºéå†</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bfs</span><span class="params">(<span class="type">int</span> root)</span></span>&#123;</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(root);</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="type">int</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        cout&lt;&lt;t&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">        <span class="keyword">if</span>(l.<span class="built_in">count</span>(t)) q.<span class="built_in">push</span>(l[t]);</span><br><span class="line">        <span class="keyword">if</span>(r.<span class="built_in">count</span>(t)) q.<span class="built_in">push</span>(r[t]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++) cin&gt;&gt;postorder[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        cin&gt;&gt;inorder[i];</span><br><span class="line">        <span class="comment">// æ ‡è®°ä½ç½®</span></span><br><span class="line">        pos[inorder[i]] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> root = <span class="built_in">build</span>(<span class="number">0</span>,n - <span class="number">1</span>,<span class="number">0</span>,n - <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">bfs</span>(root);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="97-çº¦æ•°ä¹‹å’Œ"><a href="#97-çº¦æ•°ä¹‹å’Œ" class="headerlink" title="97. çº¦æ•°ä¹‹å’Œ"></a>97. çº¦æ•°ä¹‹å’Œ</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230321/20230321_2.jpg" alt="çº¦æ•°ä¹‹å’Œ"></p><p>è¿™é“é¢˜éœ€è¦è¡¥å……ç›¸å…³çš„æ•°è®ºçŸ¥è¯†.</p><div class="note info no-icon flat"><p>å¿«é€Ÿå¹‚æ¨¡æ¿:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// m^k % p == (m % p)^k % p; </span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">qmi</span><span class="params">(<span class="type">int</span> m,<span class="type">int</span> k,<span class="type">int</span> p)</span></span>&#123;</span><br><span class="line">  <span class="type">int</span> res = <span class="number">1</span> % p;</span><br><span class="line">  m %= p;</span><br><span class="line">  <span class="keyword">while</span>(k)&#123;</span><br><span class="line">    <span class="keyword">if</span>(k &amp; <span class="number">1</span>) res = res * m % p;</span><br><span class="line">    m = m * m % p;</span><br><span class="line">    k &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>å¦‚æœå®³æ€•è¿‡ç¨‹ä¸­çˆ†int,å¯ä»¥ä½¿ç”¨llç±»å‹.</p></div><p>æœ¬é¢˜ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mod = <span class="number">9901</span>;</span><br><span class="line">unordered_map&lt;<span class="type">int</span>,<span class="type">int</span>&gt; prime;</span><br><span class="line"></span><br><span class="line"><span class="comment">// a^k % p = ((a % p)^k) % p</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">qmi</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">1</span>;</span><br><span class="line">    a %= mod;</span><br><span class="line">    <span class="keyword">while</span>(k)&#123;</span><br><span class="line">        <span class="keyword">if</span>(k &amp; <span class="number">1</span>) res = res * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        k &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ±‚ p^0 + p^1 + ... + p^(k - 1) </span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">sum</span><span class="params">(<span class="type">int</span> p,<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(k == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// å¥‡æ•°ä¸ª</span></span><br><span class="line">    <span class="keyword">if</span>(k % <span class="number">2</span>) <span class="keyword">return</span> (<span class="built_in">qmi</span>(p,k - <span class="number">1</span>) + <span class="built_in">sum</span>(p,k - <span class="number">1</span>)) % mod;</span><br><span class="line">    <span class="keyword">return</span> (<span class="built_in">qmi</span>(p,k / <span class="number">2</span>) + <span class="number">1</span>) * <span class="built_in">sum</span>(p,k / <span class="number">2</span>) % mod;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> a,b;</span><br><span class="line">    cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">    <span class="keyword">if</span>(!a)&#123;</span><br><span class="line">        cout&lt;&lt;<span class="number">0</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è¯•é™¤æ³•æ±‚açš„æ‰€æœ‰çº¦æ•°</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= a / i;i ++)&#123;</span><br><span class="line">        <span class="keyword">while</span>(a % i == <span class="number">0</span>)&#123;</span><br><span class="line">            prime[i] ++;</span><br><span class="line">            a /= i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(a &gt; <span class="number">1</span>) prime[a] ++;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; c : prime)&#123;</span><br><span class="line">        <span class="type">int</span> p = c.first;</span><br><span class="line">        <span class="type">int</span> k = c.second * b;</span><br><span class="line">        <span class="comment">// é€’å½’æ±‚</span></span><br><span class="line">        res = (res * <span class="built_in">sum</span>(p,k + <span class="number">1</span>)) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="98-åˆ†å½¢ä¹‹åŸ"><a href="#98-åˆ†å½¢ä¹‹åŸ" class="headerlink" title="98. åˆ†å½¢ä¹‹åŸ"></a>98. åˆ†å½¢ä¹‹åŸ</h2><p>åšè¿‡,æ€ä¹ˆå¿˜äº†å•Š.<br><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230321/20230321_3.jpg" alt="åˆ†å½¢ä¹‹åŸ"></p><p>è€ƒçš„æ˜¯åæ ‡çš„å˜æ¢,è¿˜æœ‰æ–¹å‘ç›¸å…³å¤„ç†.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span>&#123;</span><br><span class="line">    LL x;</span><br><span class="line">    LL y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">Point <span class="title">get</span><span class="params">(<span class="type">int</span> n,LL a)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">0</span>) <span class="keyword">return</span> &#123;<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">    LL len = <span class="number">1ll</span> &lt;&lt; (n - <span class="number">1</span>);</span><br><span class="line">    LL size = <span class="number">1ll</span> &lt;&lt; (<span class="number">2</span> * n - <span class="number">2</span>);</span><br><span class="line">    <span class="comment">// æ±‚åœ¨ä½ä¸€çº§çš„ä½ç½®</span></span><br><span class="line">    Point p = <span class="built_in">get</span>(n - <span class="number">1</span>,a % size);</span><br><span class="line">    LL x = p.x,y = p.y;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­åœ¨æœ¬çº§ä½ç½®</span></span><br><span class="line">    <span class="type">int</span> t = a / size;</span><br><span class="line">    <span class="comment">// å››ä¸ªæ–¹å‘çš„å˜æ¢</span></span><br><span class="line">    <span class="keyword">if</span>(t == <span class="number">0</span>) <span class="keyword">return</span> &#123;y,x&#125;;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(t == <span class="number">1</span>) <span class="keyword">return</span> &#123;x,y + len&#125;;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(t == <span class="number">2</span>) <span class="keyword">return</span> &#123;x + len,y + len&#125;;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> &#123;len * <span class="number">2</span> - y - <span class="number">1</span>,len - <span class="number">1</span> - x&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t --)&#123;</span><br><span class="line">        LL n,a,b;</span><br><span class="line">        cin&gt;&gt;n&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        Point p1 = <span class="built_in">get</span>(n,a - <span class="number">1</span>);</span><br><span class="line">        Point p2 = <span class="built_in">get</span>(n,b - <span class="number">1</span>);</span><br><span class="line">        <span class="type">double</span> x = p1.x - p2.x,y = p1.y - p2.y;</span><br><span class="line">        <span class="comment">// åŠ 0.5å®ç°å››èˆäº”å…¥</span></span><br><span class="line">        cout&lt;&lt;(LL)(<span class="built_in">sqrt</span>(x * x + y * y) * <span class="number">10</span> + <span class="number">0.5</span>)&lt;&lt;endl;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™é“é¢˜è¿˜æ˜¯å¾ˆæœ‰æ„æ€çš„.è§‚å¯Ÿå›¾å½¢è·å–ä¿¡æ¯ç„¶åè§£é¢˜.</p><p>é€’å½’è¿˜æ˜¯å¾ˆæœ‰éš¾åº¦,è¿™åœ°æ–¹å¯ä»¥å‡ºå¾ˆå¤šé¢˜ç›®,è€Œä¸”è¿™äº›é¢˜ç›®éƒ½ä¸æ˜¯ç®€å•æ€è€ƒå¯ä»¥è§£å†³çš„.<br>æœ€é‡è¦çš„æ˜¯,èƒ½çœ‹å‡ºé¢˜ç›®é‡å æ€§è´¨.æ˜ç¡®é€’å½’å‡½æ•°çš„å«ä¹‰.</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwingç¬¬95åœº</title>
      <link href="/2023/03/20/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E5%91%A8%E8%B5%9B/Acwing%E7%AC%AC95%E5%9C%BA/"/>
      <url>/2023/03/20/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E5%91%A8%E8%B5%9B/Acwing%E7%AC%AC95%E5%9C%BA/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>é¢˜ç›®åˆ—è¡¨:<br><a href="https://www.acwing.com/problem/content/4876/">4873. ç®€å•è®¡ç®—</a><br><a href="https://www.acwing.com/problem/content/4877/">4874. çº¦æ•°</a><br><a href="https://www.acwing.com/problem/content/4878/">4875. æ•´æ•°æ¸¸æˆ</a></p><p>è¿™æ¬¡çš„å‘¨èµ›è¿˜æ˜¯æœ‰ç‚¹éš¾åº¦çš„.</p></div><h2 id="4873-ç®€å•è®¡ç®—"><a href="#4873-ç®€å•è®¡ç®—" class="headerlink" title="4873. ç®€å•è®¡ç®—"></a>4873. ç®€å•è®¡ç®—</h2><p>ç®€å•çš„ç­¾åˆ°é¢˜<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> x1,x2,y1,y2;</span><br><span class="line">    cin&gt;&gt;x1&gt;&gt;y1&gt;&gt;x2&gt;&gt;y2;</span><br><span class="line">    cout&lt;&lt;<span class="built_in">max</span>(<span class="built_in">abs</span>(x1 - x2),<span class="built_in">abs</span>(y1 - y2))&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="4874-çº¦æ•°"><a href="#4874-çº¦æ•°" class="headerlink" title="4874. çº¦æ•°"></a>4874. çº¦æ•°</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230320/20230320_1.jpg" alt="çº¦æ•°"></p><p>å†™å‰è§‚å¯Ÿæ•°æ®èŒƒå›´, <code>10^5</code>é€‰æ‹©å¤§æ¦‚åœ¨<code>nLgN</code>èŒƒå›´çš„ç®—æ³•.<br>åŒæ—¶åƒè¿™æ ·çš„é¢˜,æˆ‘ä»¬å¿…é¡»è¦æœ‰æ•°è®ºç›¸å¹²çš„çŸ¥è¯†:<br><div class="note success no-icon flat"><p>å¦‚æœä¸€ä¸ªæ•°çš„çº¦æ•°ä¸ªæ•°æ˜¯<font color=red>å¥‡æ•°</font> , åˆ™å®ƒä¸€å®šæ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°! å³å®ƒä¸€å®šæ˜¯å¯å¼€æ–¹çš„.</p><p>å› æ­¤,è¿™é“é¢˜ä¸æ˜¯å»ç›´æ¥æ±‚æ•°çš„çº¦æ•°ä¸ªæ•°,è€Œæ˜¯åˆ†ä¸¤æ­¥:<br>1: åˆ¤æ–­æ˜¯å¦æ˜¯å®Œå…¨å¹³æ–¹æ•° + å¼€æ ¹å·æ±‚ x<br>2: åˆ¤æ–­ x æ˜¯å¦æ˜¯è´¨æ•°.</p></div></p><p>ä¸å¾—ä¸è¯´,è¿™é“é¢˜è¿˜æ˜¯å‡ºçš„å¤ªå·§å¦™äº†.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// çº¿æ€§ç­›</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">get_prime</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    st[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span> ; i&lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!st[i]) prime[cnt ++] = i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;prime[j] * i &lt;= n;j ++)&#123;</span><br><span class="line">            st[prime[j] * i] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(i % prime[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»è¿‡ç­›é€‰å:<br>1: stæ•°ç»„æ ‡è®°äº†nä»¥å†…æ¯ä¸€ä¸ªæ•°æ®æ˜¯å¦æ˜¯è´¨æ•°.<br>2: primeæ•°ç»„å­˜å‚¨nä»¥å†…çš„æ‰€æœ‰è´¨æ•°,cntç”¨æ¥è®¡æ•°.</p><p><strong>é¢˜ç›®ä»£ç </strong>:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1000010</span>;</span><br><span class="line"><span class="type">int</span> prime[N],cnt;</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// çº¿æ€§ç­›</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">get_prime</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    st[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span> ; i&lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!st[i]) prime[cnt ++] = i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;prime[j] * i &lt;= n;j ++)&#123;</span><br><span class="line">            st[prime[j] * i] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(i % prime[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">get_prime</span>(N - <span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">while</span>(n -- )&#123;</span><br><span class="line">        ll a;</span><br><span class="line">        cin&gt;&gt;a;</span><br><span class="line">        ll x = <span class="built_in">sqrt</span>(a);</span><br><span class="line">        <span class="keyword">if</span>(x * x == a &amp;&amp; !st[x]) cout&lt;&lt;<span class="string">&quot;YES&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;NO&quot;</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><br>åœ¨è€ƒè¯•çš„æ—¶å€™,åœ¨ç–¯ç‹‚çš„å°è¯•ç”¨æ±‚ä¸ªæ•°çš„ä»£ç .åˆ°æœ€åå‡ åˆ†é’Ÿæ‰æƒ³èµ·æ²¡å‡†3æ˜¯ç‰¹åˆ«è®¾è®¡è¿‡çš„.</p><h2 id="4875-æ•´æ•°æ¸¸æˆ"><a href="#4875-æ•´æ•°æ¸¸æˆ" class="headerlink" title="4875. æ•´æ•°æ¸¸æˆ"></a>4875. æ•´æ•°æ¸¸æˆ</h2><p>çœ‹é¢˜æ„,åº”è¯¥æ˜¯åšå¼ˆè®ºç›¸å…³.<br><a href="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230320/20230320_2.jpg">æ•´æ•°æ¸¸æˆ</a></p><div class="note info no-icon flat"><p>yæ€»æç¤º:<br>å¯¹äºåšå¼ˆè®ºé¢˜ç›®: <mark>å¤§èƒ†å‡è®¾,å°å¿ƒæ±‚è¯</mark></p><p>è¯ä»€ä¹ˆ? è¯ å¿…èƒœ ä¸ å¿…è´¥ ä¹‹é—´çš„è½¬æ¢.</p><p>å¯¹äºè¿™é“é¢˜:<br>å¿…èƒœæ¡ä»¶: ç¬¬ä¸€ä¸ªæ•° ä¸æ˜¯æœ€å°çš„æ•°<br>å¿…è´¥æ¡ä»¶: ç¬¬ä¸€ä¸ªæ•° æ˜¯æœ€å°çš„æ•°<br>æœ‰äº†è¿™ä¸ª, è¿™é“é¢˜å°±å˜å¾—éå¸¸éå¸¸çš„ç®€å•äº†.</p></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> t,n;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t --)&#123;</span><br><span class="line">        cin&gt;&gt;n;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        <span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>;i ++)&#123;</span><br><span class="line">            <span class="type">int</span> y;</span><br><span class="line">            cin&gt;&gt;y;</span><br><span class="line">            <span class="keyword">if</span>(y &lt; x) flag = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag) cout&lt;&lt;<span class="string">&quot;Bob&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;Alice&quot;</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ¬¡å‘¨èµ›è€ƒçš„æ˜¯æ€ç»´å§!!</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Acwing </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwingé€’æ¨</title>
      <link href="/2023/03/18/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek1/Acwing%E9%80%92%E6%8E%A8/"/>
      <url>/2023/03/18/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek1/Acwing%E9%80%92%E6%8E%A8/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><font size=4><b>å‰è¨€ğŸ“</b></font><p>é€’æ¨,ä¸Šéš¾åº¦äº†!<br>ä¸è¿‡ä¸€èˆ¬é€’æ¨æ—¶é—´å¤æ‚åº¦éƒ½å¾ˆé«˜,ä¸€èˆ¬æ˜¯æ”¾åœ¨å¡«ç©ºé¢˜çš„æœ€åå‡ é“.</p></div><h2 id="3777-ç –å—"><a href="#3777-ç –å—" class="headerlink" title="3777. ç –å—"></a>3777. ç –å—</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230318/20230318_5.jpg" alt="ç –å—"></p><p>æ­£å¸¸æƒ³æ˜¯æœ‰ç‚¹å›°éš¾çš„.è¿™ä¸ªæ—¶å€™å°±è¦å­¦ä¼šç›´æ¥æš´åŠ›.<br>(æ­£å¥½æ•°æ®èŒƒå›´å¾ˆå°)</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">string str;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">update</span><span class="params">(<span class="type">char</span>&amp; c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(c == <span class="string">&#x27;W&#x27;</span>) c = <span class="string">&#x27;B&#x27;</span>;</span><br><span class="line">    <span class="keyword">else</span> c = <span class="string">&#x27;W&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">char</span> c)</span></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">    string s = str;</span><br><span class="line">    <span class="comment">// ç›´æ¥å°è¯•ä¿®æ”¹</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n - <span class="number">1</span>;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i] != c)&#123;</span><br><span class="line">            <span class="built_in">update</span>(s[i]);</span><br><span class="line">            <span class="built_in">update</span>(s[i + <span class="number">1</span>]);</span><br><span class="line">            <span class="comment">// i + 1 å› ä¸ºé¢˜ç›®æ•°ç»„ä»1å¼€å§‹</span></span><br><span class="line">            res.<span class="built_in">push_back</span>(i + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æœ€åä¸€ä½ä¸åŒ =&gt; ä¿®æ”¹å¤±è´¥</span></span><br><span class="line">    <span class="keyword">if</span>(s.<span class="built_in">back</span>() != c) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    cout&lt;&lt;res.<span class="built_in">size</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; i : res) cout&lt;&lt;i&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="comment">// åªæœ‰ä¸Šé¢æœ‰è¾“å‡ºæ‰èƒ½æ¢è¡Œ</span></span><br><span class="line">    <span class="keyword">if</span>(res.<span class="built_in">size</span>())cout&lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t --)&#123;</span><br><span class="line">        cin&gt;&gt;n&gt;&gt;str;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">check</span>(<span class="string">&#x27;B&#x27;</span>) &amp;&amp; !<span class="built_in">check</span>(<span class="string">&#x27;W&#x27;</span>)) cout&lt;&lt;<span class="number">-1</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="1208-ç¿»ç¡¬å¸"><a href="#1208-ç¿»ç¡¬å¸" class="headerlink" title="1208. ç¿»ç¡¬å¸"></a>1208. ç¿»ç¡¬å¸</h2><p>è“æ¡¥æ¯ä¸Šçš„é¢˜(ä¹Ÿæ˜¯ç»´è§†è“æ¡¥æ¯è¢«ç§°ä¸ºæš´åŠ›æ¯çš„åŸå› )<br>å…¨æ˜¯å¥—è·¯,æ²¡æœ‰æŠ€å·§!</p><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230318/20230318_6.jpg" alt="ç¿»ç¡¬å¸"></p><p>å’Œä¸Šé¢ä¸€æ‘¸ä¸€æ ·çš„å¥—è·¯<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">string start,e;</span><br><span class="line"><span class="type">int</span> res = <span class="number">110</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">update</span><span class="params">(<span class="type">char</span>&amp; c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(c == <span class="string">&#x27;o&#x27;</span>) c = <span class="string">&#x27;*&#x27;</span>;</span><br><span class="line">    <span class="keyword">else</span> c = <span class="string">&#x27;o&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">check</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n = start.<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    string s = start;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n - <span class="number">1</span>;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i] != e[i])&#123;</span><br><span class="line">            <span class="built_in">update</span>(s[i]);</span><br><span class="line">            <span class="built_in">update</span>(s[i + <span class="number">1</span>]);</span><br><span class="line">            ans ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(s[n - <span class="number">1</span>] == e[n - <span class="number">1</span>])&#123;</span><br><span class="line">        res = <span class="built_in">min</span>(res,ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;start&gt;&gt;e;</span><br><span class="line">    <span class="built_in">check</span>();</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p><h2 id="95-è´¹è§£çš„å¼€å…³"><a href="#95-è´¹è§£çš„å¼€å…³" class="headerlink" title="95. è´¹è§£çš„å¼€å…³"></a>95. è´¹è§£çš„å¼€å…³</h2><p>è¿™é“é¢˜è¿˜æ˜¯æœ‰ç‚¹ä¸åŒçš„!<br><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230318/20230318_7.jpg" alt="è´¹è§£çš„å¼€å…³"></p><p>è¿™é“é¢˜å¯èƒ½ä¼šæƒ³åˆ°å’Œä¸Šé¢ç›¸ä¼¼çš„æ€è·¯.ä½†ä¸æ˜¯é‚£æ ·æ˜¯å®ç°çš„.å› ä¸ºå…·ä½“çš„é€»è¾‘æ˜¯ä¸å¤ªä¸€æ ·çš„.</p><p>æ‰€ä»¥åˆæ²¡æœ‰æ€è·¯äº†,è¿™æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>æœ€å°‘</code> æƒ³åˆ°bfs.</p><h3 id="BFSå†™æ³•"><a href="#BFSå†™æ³•" class="headerlink" title="BFSå†™æ³•"></a>BFSå†™æ³•</h3><p>bfså†™æ³•å¤æ‚åº¦é«˜è¾¾O(2^25) å¤§æ¦‚<code>3 * 10^7</code>,åªèƒ½è¯´å‹‰å¼ºèƒ½è¿‡.<br>å¯¹äºä¸å¿…è¦çš„,å¿…é¡»å‰ªæ.<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">unordered_map&lt;<span class="type">int</span>,<span class="type">int</span>&gt; vis;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">change</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> i)</span></span>&#123;</span><br><span class="line">    <span class="comment">// æ”¹å˜é€‰å®šä½ç½®</span></span><br><span class="line">    x ^= (<span class="number">1</span> &lt;&lt; i);</span><br><span class="line">    <span class="comment">// å·¦ éæœ€å·¦è¾¹</span></span><br><span class="line">    <span class="keyword">if</span>(i % <span class="number">5</span>) x ^= (<span class="number">1</span> &lt;&lt; (i - <span class="number">1</span>));  </span><br><span class="line">    <span class="comment">// ä¸Š éç¬¬ä¸€æ’</span></span><br><span class="line">    <span class="keyword">if</span>(i &gt;= <span class="number">5</span>) x ^= (<span class="number">1</span> &lt;&lt; (i - <span class="number">5</span>));</span><br><span class="line">    <span class="comment">// ä¸‹ éæœ€åä¸€æ’</span></span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">20</span>) x ^= (<span class="number">1</span> &lt;&lt; (i + <span class="number">5</span>));</span><br><span class="line">    <span class="comment">// ç‰¹åˆ¤ç¬¬ä¸€æ’</span></span><br><span class="line">    <span class="keyword">if</span>(i % <span class="number">5</span> &lt; <span class="number">4</span>) x ^= (<span class="number">1</span> &lt;&lt; (i + <span class="number">1</span>));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bfs</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> statue = (<span class="number">1</span> &lt;&lt; <span class="number">25</span>) - <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// è®¾ä¸º1 æ–¹ä¾¿å°†æ— è§£-1ç»Ÿä¸€åˆ°ä¸€èµ·.</span></span><br><span class="line">    vis[statue] = <span class="number">1</span>;</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(statue);</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="type">int</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="comment">// å¤§äº6æ­¥,ç«‹é©¬å‰ªæ</span></span><br><span class="line">        <span class="keyword">if</span>(vis[t] == <span class="number">7</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">// ä»0å¼€å§‹,æ–¹ä¾¿å–æ¨¡</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">25</span>;i ++)&#123;</span><br><span class="line">            <span class="type">int</span> c = <span class="built_in">change</span>(t,i);</span><br><span class="line">            <span class="keyword">if</span>(!vis.<span class="built_in">count</span>(c))&#123;</span><br><span class="line">                vis[c] = vis[t] + <span class="number">1</span>;</span><br><span class="line">                q.<span class="built_in">push</span>(c);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">bfs</span>();</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t -- )&#123;</span><br><span class="line">        <span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">25</span>;i ++)&#123;</span><br><span class="line">            <span class="type">char</span> x;</span><br><span class="line">            cin&gt;&gt;x;</span><br><span class="line">            num += ((x - <span class="string">&#x27;0&#x27;</span>) &lt;&lt; i);</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;(vis[num] - <span class="number">1</span>)&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åœ¨æ²¡æœ‰æ€è·¯æ—¶,åƒè¿™æ ·æš´åŠ›çš„æ–¹æ³•è¿˜æ˜¯éœ€è¦ä¼šçš„.</p><h3 id="é€’æ¨è§£æ³•"><a href="#é€’æ¨è§£æ³•" class="headerlink" title="é€’æ¨è§£æ³•"></a>é€’æ¨è§£æ³•</h3><p>é€šè¿‡è§‚å¯Ÿå‘ç°,å¦‚æœæˆ‘ä»¬å¯ä»¥å›ºå®šç¬¬ä¸€è¡Œ,åˆ™å¯¹äºç¬¬ä¸€è¡Œä¸­çš„0,æˆ‘ä»¬åªèƒ½é€šè¿‡æ”¹å˜ä¸‹ä¸€è¡Œçš„ç¯ä½¿å…¶å˜1.<br>å› æ­¤,æˆ‘ä»¬å…ˆæšä¸¾ç¬¬1è¡Œæ‰€æœ‰æ”¹å˜æƒ…å†µ,ç„¶åé€’æ¨2,3,4è¡Œ,ç¬¬5è¡Œç”¨æ¥åˆ¤æ–­æ˜¯å¦æˆåŠŸ.</p><div class="note info no-icon flat"><p>è‡³äºä¸ºå•¥å¯¹ç¬¬1è¡Œè¿›è¡Œç‰¹æ®Šå¤„ç†,è¿™å°±æ˜¯å’Œå‰ä¸¤é“é¢˜ä¸åŒçš„åœ°æ–¹äº†.<br>è¦å¤šæƒ³.</p></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> g[<span class="number">5</span>][<span class="number">5</span>],bg[<span class="number">5</span>][<span class="number">5</span>];</span><br><span class="line"><span class="type">int</span> dir[<span class="number">5</span>][<span class="number">2</span>] = &#123;&#123;<span class="number">0</span>,<span class="number">0</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">change</span><span class="params">(<span class="type">int</span> i,<span class="type">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>;k &lt; <span class="number">5</span>;k ++)&#123;</span><br><span class="line">        <span class="type">int</span> di = i + dir[k][<span class="number">0</span>],dj = j + dir[k][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span>(di &lt; <span class="number">0</span> || di &gt;= <span class="number">5</span> || dj &lt; <span class="number">0</span> || dj &gt;= <span class="number">5</span>) <span class="keyword">continue</span>;</span><br><span class="line">        g[di][dj] ^= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t --)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>;i ++) cin&gt;&gt; bg[i];</span><br><span class="line">        <span class="type">int</span> res = <span class="number">7</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> op = <span class="number">0</span>;op &lt; <span class="number">32</span>;op ++)&#123;</span><br><span class="line">            <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">            <span class="built_in">memcpy</span>(g,bg,<span class="keyword">sizeof</span> bg);</span><br><span class="line">            <span class="comment">// å¤„ç†ç¬¬ä¸€è¡Œ</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; <span class="number">5</span>;j ++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(op &gt;&gt; j &amp; <span class="number">1</span>)&#123;</span><br><span class="line">                    <span class="built_in">change</span>(<span class="number">0</span>,j);</span><br><span class="line">                    cnt ++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">4</span>;i ++)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; <span class="number">5</span>;j ++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(g[i][j] == <span class="string">&#x27;0&#x27;</span>)&#123;</span><br><span class="line">                        <span class="built_in">change</span>(i + <span class="number">1</span>,j);</span><br><span class="line">                        cnt ++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// åˆ¤æ–­</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i ++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(g[<span class="number">4</span>][i] == <span class="string">&#x27;0&#x27;</span>)&#123;</span><br><span class="line">                    cnt = <span class="number">8</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            res = <span class="built_in">min</span>(res,cnt);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(res &gt; <span class="number">6</span>) cout&lt;&lt;<span class="number">-1</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">else</span> cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç ä¸Šæ¯”ä¸Šé¢å°‘å¾ˆå¤š,ä¸è¿‡è¿™äº›éƒ½æ˜¯å»ºç«‹åœ¨å¯¹é¢˜æ„æŠŠæ¡çš„ä»½ä¸Š.</p><p>é€’æ¨è¯†åˆ«èµ·æ¥ä¸éš¾,éš¾çš„æ˜¯æƒ³æœ€åè¿™é“é¢˜ä¸€æ ·éœ€è¦é¢å¤–çš„å¤„ç†.</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AcwingåŒæŒ‡é’ˆ</title>
      <link href="/2023/03/18/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek1/Acwing%E5%8F%8C%E6%8C%87%E9%92%88/"/>
      <url>/2023/03/18/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek1/Acwing%E5%8F%8C%E6%8C%87%E9%92%88/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>åŒæŒ‡é’ˆç®—çš„ä¸Šæ˜¯ä¸€ä¸ªå¾ˆæœ‰æŠ€å·§çš„ç®—æ³•.<br>åŒæŒ‡é’ˆåˆ†ä¸¤ç§: å¿«æ…¢æŒ‡é’ˆ, ç›¸åæŒ‡é’ˆ.<br>å…¶ä¸­å¿«æ…¢æŒ‡é’ˆéå¸¸çš„å¸¸è§, ç›¸åæŒ‡é’ˆæˆ‘åªç”¨è¿‡ä¸€æ¬¡(è¿˜æ˜¯æ¨¡æ¿é¢˜).</p></div><h2 id="799-æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—"><a href="#799-æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—" class="headerlink" title="799. æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—"></a>799. æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—</h2><p><mark>éå¸¸ç»å…¸çš„åŒæŒ‡é’ˆä¾‹é¢˜</mark><br><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230318/20230318_1.jpg" alt="æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—"></p><p>è¿™é“é¢˜çš„æ•°æ®èŒƒå›´ç»™çš„éå¸¸å¥½,ç±»ä¼¼çš„æƒ…å†µæˆ‘ä»¬å¯ä»¥ç”¨<code>set</code>æ¥ä»£æ›¿<code>sæ•°ç»„</code>.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"><span class="type">int</span> s[N];</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i ++) cin&gt;&gt;a[i];</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>,j = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="comment">// å°†è¦æ·»åŠ çš„å·²ç»å­˜åœ¨,å»æ‰</span></span><br><span class="line">        <span class="keyword">while</span>(s[a[i]])&#123;</span><br><span class="line">            s[a[j ++]] --;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ·»åŠ </span></span><br><span class="line">        s[a[i]] ++;</span><br><span class="line">        <span class="comment">// è®¡ç®—æœ€å¤§é•¿åº¦</span></span><br><span class="line">        res = <span class="built_in">max</span>(res,i - j + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ”¾yæ€»çš„:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> q[N], s[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ ) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;q[i]);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        s[q[i]] ++ ;</span><br><span class="line">        <span class="keyword">while</span> (j &lt; i &amp;&amp; s[q[i]] &gt; <span class="number">1</span>) s[q[j ++ ]] -- ;</span><br><span class="line">        res = <span class="built_in">max</span>(res, i - j + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>è‡ªæˆ‘æ„Ÿè§‰<code>j &lt; i</code>å¯ä»¥å»æ‰.æ€»ä½“æ€è·¯æ˜¯ä¸€æ ·çš„.</p><h2 id="2816-åˆ¤æ–­å­åºåˆ—"><a href="#2816-åˆ¤æ–­å­åºåˆ—" class="headerlink" title="2816. åˆ¤æ–­å­åºåˆ—"></a>2816. åˆ¤æ–­å­åºåˆ—</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230318/20230318_2.jpg" alt="åˆ¤æ–­å­åºåˆ—"></p><p><strong>ç®€å•ä½†å®¹æ˜“çŠ¯é”™</strong></p><p>è¿™é¢˜çš„æ•°æ®å¾ˆæœ‰æ„æ€,å¦‚æœä¸åŠ ä»¥åˆ¤æ–­åˆ™å¾ˆå®¹æ˜“å‡ºé”™.<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[N],b[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n;i ++) cin&gt;&gt;a[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; m;i ++) cin&gt;&gt;b[i];</span><br><span class="line">    <span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; m;i ++)&#123;</span><br><span class="line">        <span class="comment">// å¿…é¡»åŠ ä¸Šåˆ¤æ–­ j &lt; n</span></span><br><span class="line">        <span class="keyword">if</span>(b[i] == a[j] &amp;&amp; j &lt; n) j ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(j == n) cout&lt;&lt;<span class="string">&quot;Yes&quot;</span>&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;No&quot;</span>&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>è¦ä¹ˆå°±åƒyæ€»è¿™æ ·å†™:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i &lt; n &amp;&amp; j &lt; m)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (a[i] == b[j]) i ++ ;</span><br><span class="line">    j ++ ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>ä¿è¯ä¸ä¼šç¿»è½¦.</p><h2 id="1238-æ—¥å¿—ç»Ÿè®¡"><a href="#1238-æ—¥å¿—ç»Ÿè®¡" class="headerlink" title="1238. æ—¥å¿—ç»Ÿè®¡"></a>1238. æ—¥å¿—ç»Ÿè®¡</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230318/20230318_3.jpg" alt="æ—¥å¿—ç»Ÿè®¡"></p><p>éå¸¸å¥½çš„ä¸€é“é¢˜.(å½“ç„¶ä¹Ÿæ˜¯è“æ¡¥æ¯åŸé¢˜)<br>ç†Ÿç»ƒä½¿ç”¨<code>pair</code>å’Œ <code>åŒæŒ‡é’ˆ</code>ç®—æ³•.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> x first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> y second</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; pii;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> cnt[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"></span><br><span class="line">pii logs[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,d,k;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;d&gt;&gt;k;</span><br><span class="line">    <span class="type">int</span> a,b;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n;i ++)&#123;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        logs[i] = &#123;a,b&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(logs,logs + n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>,j = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> id = logs[i].y;</span><br><span class="line">        cnt[id] ++;</span><br><span class="line">        <span class="comment">// å»é™¤å¤±æ•ˆçš„èµ</span></span><br><span class="line">        <span class="keyword">while</span>(logs[i].x - logs[j].x &gt;= d)&#123;</span><br><span class="line">            cnt[logs[j].y] --;</span><br><span class="line">            j ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è‚¯å®šæ˜¯åˆ¤æ–­å½“å‰</span></span><br><span class="line">        <span class="keyword">if</span>(cnt[id] &gt;= k)&#123;</span><br><span class="line">            st[id] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; N;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(st[i])&#123;</span><br><span class="line">            cout&lt;&lt;i&lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¹Ÿç®—æ˜¯æœ€åå‡ é“é¢˜,å…¶å®ç®—æ³•å¹¶ä¸æ˜¯å¾ˆå¤æ‚.å…³é”®æ˜¯è¦å¯¹è‡ªå·±æœ‰ä¿¡å¿ƒ!!!</p><h2 id="1240-å®Œå…¨äºŒå‰æ ‘çš„æƒå€¼"><a href="#1240-å®Œå…¨äºŒå‰æ ‘çš„æƒå€¼" class="headerlink" title="1240. å®Œå…¨äºŒå‰æ ‘çš„æƒå€¼"></a>1240. å®Œå…¨äºŒå‰æ ‘çš„æƒå€¼</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230318/20230318_4.jpg" alt="å®Œå…¨äºŒå‰æ ‘çš„æƒå€¼"></p><p>å†™è¿™é“é¢˜ä¹‹å‰å¿…é¡»äº†è§£å®Œå…¨äºŒå‰æ•°çš„å®šä¹‰.<br>ç®€å•çš„æ¥è¯´,å®Œå…¨äºŒå‰æ•°æ˜¯æŒ‡é™¤äº†æœ€åä¸€è¡Œ,å…¶ä»–è¡Œéƒ½æ˜¯æ»¡çš„äºŒå‰æ ‘.</p><p>è™½ç„¶yæ€»æŠŠè¿™é“é¢˜ä¹Ÿæ”¾åœ¨åŒæŒ‡é’ˆè¿™é‡Œ,ä½†æˆ‘ç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„å´ä¸æ˜¯åŒæŒ‡é’ˆ.<br>è€Œæ˜¯ä¸€ç§æ›´ç®€å•çš„æ–¹å¼.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"><span class="comment">// ç›¸åŠ å’Œä¼šçˆ†int</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="comment">// 2çš„18æ¬¡æ–¹è¶…è¿‡10^5</span></span><br><span class="line">ll cnt[<span class="number">18</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="comment">// æ±‚æœ€é«˜å±‚æ•°</span></span><br><span class="line">    <span class="type">int</span> t = (<span class="type">int</span>)<span class="built_in">log2</span>(n) + <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        <span class="comment">// (int)log2(i) + 1 ç›´æ¥æ±‚å¯¹åº”çš„å±‚æ•°</span></span><br><span class="line">        cnt[(<span class="type">int</span>)<span class="built_in">log2</span>(i) + <span class="number">1</span>] += x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å…ˆèµ‹å€¼ä¸ºæœ€å°å€¼</span></span><br><span class="line">    ll res = <span class="number">-1e18</span>;</span><br><span class="line">    <span class="type">int</span> h = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= t;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(res &lt; cnt[i])&#123;</span><br><span class="line">            h = i;</span><br><span class="line">            res = cnt[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;h&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘æ˜¯åˆ©ç”¨<code>(int)log2(i) + 1</code> ç›´æ¥æ±‚å‡ºæ‰€åœ¨å±‚æ•°.åœ¨è¾“å…¥é˜¶æ®µå³å¯å®Œæˆç´¯åŠ .</p><p>ä¸è¿‡è¿™é“é¢˜å…¶ä»–åœ°æ–¹è¿˜æ˜¯å¾ˆæ¶å¿ƒçš„.(çˆ†int, æ•°æ®æœ‰æ­£æœ‰è´Ÿ)</p><p>yæ€»ä½¿ç”¨åŒæŒ‡é’ˆ:<br>ä¸€ä¸ªæ§åˆ¶æ¯å±‚æœ€å¤§å‡ ä¸ªæ•°,<br>å¦ä¸€ä¸ªå°†å®é™…çš„æ•°æ®ç´¯åŠ èµ·æ¥.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ ) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line"></span><br><span class="line">    LL maxs = <span class="number">-1e18</span>;</span><br><span class="line">    <span class="type">int</span> depth = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> d = <span class="number">1</span>, i = <span class="number">1</span>; i &lt;= n; i *= <span class="number">2</span>, d ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        LL s = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i; j &lt; i + (<span class="number">1</span> &lt;&lt; d - <span class="number">1</span>) &amp;&amp; j &lt;= n; j ++ )</span><br><span class="line">            s += a[j];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (s &gt; maxs)</span><br><span class="line">        &#123;</span><br><span class="line">            maxs = s;</span><br><span class="line">            depth = d;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, depth);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒæŒ‡é’ˆåœ¨è“æ¡¥æ¯ä¸­è¿˜æ˜¯æŒºå¸¸è§çš„.</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AcwingäºŒåˆ†æŸ¥æ‰¾</title>
      <link href="/2023/03/17/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek1/Acwing%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"/>
      <url>/2023/03/17/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek1/Acwing%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><font size=4><b>å‰è¨€ğŸ“</b></font><p>äºŒåˆ†æŸ¥æ‰¾è™½ç„¶æ€æƒ³ç®€å•,ä½†èƒ½åšåˆ°æŸ¥æ‰¾æ— é”™è¿˜æ˜¯éå¸¸å›°éš¾çš„.<br>å› æ­¤éœ€è¦ç»å¸¸å¤ä¹ .</p><p>å£è¯€:<br><mark>whileä¸­åªå†™<code>l &lt; r</code>,r = mid midä¸å˜, l = mid mid + 1.åˆ¤æ–­å¥½æƒ…å†µå†åŠ¨æ‰‹</mark></p><p>ç”¨äºŒåˆ†æ³•è§£å†³çš„é—®é¢˜å¿…é¡»æ˜¯æœ‰äºŒåˆ†æ€§è´¨çš„.</p></div><h2 id="1460-æˆ‘åœ¨å“ªï¼Ÿ"><a href="#1460-æˆ‘åœ¨å“ªï¼Ÿ" class="headerlink" title="1460. æˆ‘åœ¨å“ªï¼Ÿ"></a>1460. æˆ‘åœ¨å“ªï¼Ÿ</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230317/20230317_1.jpg" alt="æˆ‘åœ¨å“ªï¼Ÿ"></p><p>è¿™é“é¢˜æ²¡å†™å‡ºæ¥,æˆ‘åªèƒ½è¯´æ˜¯å¤ªä¹…æ²¡å†™é¢˜ç›®äº†.å¾ˆå¤šä¸œè¥¿ååº”éƒ½æ²¡äº†.<br>è¿™é“é¢˜çš„ç‰¹ç‚¹è¿˜æ˜¯éå¸¸çš„æ˜æ˜¾çš„:<br>æœ€å°çš„K =&gt; äºŒåˆ†<br>å­—ç¬¦å­—ä¸²æ¯”è¾ƒ =&gt; å­—ç¬¦å“ˆå¸Œ</p><p>ææ¸…æ¥šäº†è¿™ä¸¤ç‚¹,è¿™é“é¢˜å°±éå¸¸çš„ç®€å•äº†.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;unordered_set&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">string str;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">unordered_set&lt;string&gt; S;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    S.<span class="built_in">clear</span>();</span><br><span class="line">    <span class="comment">// i + x - 1 ?</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i + x - <span class="number">1</span> &lt; n;i ++)&#123;</span><br><span class="line">        string t = str.<span class="built_in">substr</span>(i,x);</span><br><span class="line">        <span class="keyword">if</span>(S.<span class="built_in">count</span>(t)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        S.<span class="built_in">insert</span>(t);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;str;</span><br><span class="line">    <span class="type">int</span> l = <span class="number">1</span>,r = n;</span><br><span class="line">    <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">        <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) r = mid;</span><br><span class="line">        <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;l&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸å¾—ä¸è¯´,è¿™é“é¢˜è¿˜æ˜¯å¾ˆå¥½çš„.</p><p>ä¸è¿‡å‘¢,è¿™é“é¢˜ä¹Ÿå¯ä»¥é€šè¿‡æš´åŠ›è§£å†³.5555<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">string str;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;str;</span><br><span class="line">    <span class="comment">// éå†kå€¼</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">1</span>;k &lt;= n;k ++)&#123;</span><br><span class="line">        <span class="type">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­i jå¼€å¤´çš„å­—ä¸²æ˜¯å¦ç›¸ç­‰</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i + k - <span class="number">1</span> &lt; n;i ++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = i + <span class="number">1</span>;j + k - <span class="number">1</span> &lt; n;j ++)&#123;</span><br><span class="line">                <span class="type">bool</span> same = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> u = <span class="number">0</span>;u &lt; k;u ++)&#123;</span><br><span class="line">                    <span class="comment">// å­˜åœ¨ä¸ç­‰</span></span><br><span class="line">                    <span class="keyword">if</span>(str[i + u] != str[j + u])&#123;</span><br><span class="line">                        same = <span class="literal">false</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// æœ‰ç›¸åŒçš„ kå€¼æ— æ•ˆ</span></span><br><span class="line">                <span class="keyword">if</span>(same)&#123;</span><br><span class="line">                    flag = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ— æ•ˆç›´æ¥å»ä¸‹ä¸€ä¸ªk</span></span><br><span class="line">            <span class="keyword">if</span>(flag) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!flag)&#123;</span><br><span class="line">            cout&lt;&lt;k&lt;&lt;endl;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>è¿™é‡Œè´´ä¸Šæš´åŠ›å†™æ³•,å› ä¸ºæ¯”èµ›åœºä¸Š,å†™å‡ºæš´åŠ›ä¹Ÿç®—æ˜¯ä¸€ç§èƒœåˆ©!</p><h2 id="1221-å››å¹³æ–¹å’Œ"><a href="#1221-å››å¹³æ–¹å’Œ" class="headerlink" title="1221. å››å¹³æ–¹å’Œ"></a>1221. å››å¹³æ–¹å’Œ</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230317/20230317_2.jpg" alt="å››å¹³æ–¹å’Œ"></p><p>åœ¨è€ƒåœºä¸Š,å¦‚æœæš‚æ—¶æƒ³ä¸åˆ°æ€ä¹ˆå†™.é¦–å…ˆå¿…é¡»è¦ä¼šæš´åŠ›è§£é¢˜.<br><strong>æš´åŠ›è§£</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n</span><br><span class="line">;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> a = <span class="number">0</span>;a * a &lt;= n;a ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> b = a;b * b + a * a &lt;= n;b ++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> c = b;c * c + b * b + a * a &lt;= n;c ++)&#123;</span><br><span class="line">                <span class="type">int</span> t = n - (c * c + b * b + a * a);</span><br><span class="line">                <span class="type">int</span> d = <span class="built_in">sqrt</span>(t);</span><br><span class="line">                <span class="keyword">if</span>(d * d == t)&#123;</span><br><span class="line">                    cout&lt;&lt;a&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;b&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;c&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;d&lt;&lt;endl;</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬é€šè¿‡æ•°æ®èŒƒå›´<code>5 * 10^6</code> å¯ä»¥ç®—å‡ºæœ€åå¯ä»¥è·‘åˆ°<code>10^10</code>å·¦å³.è‚¯å®šæ˜¯ä¼šè¶…æ—¶çš„.<br>ä½†æ˜¯,æ²¡æœ‰æ€è·¯ä¸€å®šè¦å…ˆè¿™æ ·å†™.æ€è·¯å¯ä»¥æ…¢æ…¢æ‰¾,é¢˜ç›®å…ˆå†™å‡ºæ¥å†è¯´.</p><p>è¿™é“é¢˜,æˆ‘ä¹Ÿæƒ³è¿‡é€šè¿‡äºŒåˆ†,ä½†è¿™ä¸€å…±æœ‰4ä¸ªæ•°,æ€ä¹ˆä½¿ç”¨äºŒåˆ†?<br>çœŸæ˜¯å¤´ç–¼!</p><p>yæ€»è¡¨ç¤º: å¼ºè¡Œ<mark>å°†å››ä¸ªåˆ†æˆä¸¤ç»„</mark>.<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…ˆè·‘ä¸€éç®—å‡ºæ¥</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1965411</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Num</span>&#123;</span><br><span class="line">    <span class="type">int</span> s;</span><br><span class="line">    <span class="type">int</span> c,d;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// é‡è½½ &lt;</span></span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span> &lt; (<span class="type">const</span> Num &amp; w) <span class="type">const</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(s != w.s) <span class="keyword">return</span> s &lt; w.s;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(c != w.c) <span class="keyword">return</span> c &lt; w.c;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> d &lt; w.d;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;Nums[N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> a = <span class="number">0</span>;a * a &lt;= n;a ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> b = a;b * b + a * a &lt;= n;b ++)</span><br><span class="line">            Nums[m ++] = &#123;a * a + b * b,a,b&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">sort</span>(Nums,Nums + m);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> a = <span class="number">0</span>;a * a &lt;= n;a ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> b = a;b * b + a * a &lt;= n;b ++)&#123;</span><br><span class="line">            <span class="type">int</span> t = n - a * a - b * b;</span><br><span class="line">            <span class="type">int</span> l = <span class="number">0</span>,r = m - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">                <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span>(Nums[mid].s &gt;= t) r = mid;</span><br><span class="line">                <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(Nums[l].s == t)&#123;</span><br><span class="line">                cout&lt;&lt;a&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;b&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;Nums[l].c&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;Nums[l].d&lt;&lt;endl;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="1227-åˆ†å·§å…‹åŠ›"><a href="#1227-åˆ†å·§å…‹åŠ›" class="headerlink" title="1227. åˆ†å·§å…‹åŠ›"></a>1227. åˆ†å·§å…‹åŠ›</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230317/20230317_3.jpg" alt="åˆ†å·§å…‹åŠ›"></p><p>é¢˜ç›®é€éœ²ä¸€ä¸ªå¾ˆé‡è¦çš„ç‚¹:  æˆ‘ä»¬åªèƒ½å»æ‹†åˆ†æ–¹å—.ä¸èƒ½å°†æ–¹å—æ‹¼èµ·æ¥.</p><p>æ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥ç”¨O(n)æ—¶é—´<code>check</code>.<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"><span class="type">int</span> h[N],w[N];</span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> mid)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        ans += (h[i] / mid) * (w[i] / mid);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(ans &gt;= m) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="type">int</span> r = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        cin&gt;&gt;h[i]&gt;&gt;w[i];</span><br><span class="line">        r = <span class="built_in">max</span>(h[i],r);</span><br><span class="line">        r = <span class="built_in">max</span>(w[i],r);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> l = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">        <span class="type">int</span> mid = l + r + <span class="number">1</span> &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) l = mid;</span><br><span class="line">        <span class="keyword">else</span> r = mid - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;l&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="113-ç‰¹æ®Šæ’åº"><a href="#113-ç‰¹æ®Šæ’åº" class="headerlink" title="113. ç‰¹æ®Šæ’åº"></a>113. ç‰¹æ®Šæ’åº</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230317/20230317_4.jpg" alt="ç‰¹æ®Šæ’åº"></p><p>ä¸€é“äº¤äº’é¢˜,é€šè¿‡è¿™é“é¢˜æ¥è¯´æ˜ä¸‹äºŒåˆ†é€‰æ‹©ä¸åŒå½¢æˆçš„ç»“æœä¸åŒ.</p><p><strong>äºŒåˆ†æ‰¾ &lt;i çš„æœ€åä¸€ä¸ªä½ç½®r</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">specialSort</span><span class="params">(<span class="type">int</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">res</span><span class="params">(<span class="number">1</span>,<span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= N;i ++)&#123;</span><br><span class="line">            <span class="type">int</span> l = <span class="number">0</span>,r = res.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">            <span class="comment">// æ‰¾åˆ°æœ€åä¸€ä¸ª &lt; içš„ä½ç½®r</span></span><br><span class="line">            <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">                <span class="type">int</span> mid = l + r + <span class="number">1</span> &gt;&gt; <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">compare</span>(res[mid],i)) l = mid;</span><br><span class="line">                <span class="keyword">else</span> r = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            res.<span class="built_in">push_back</span>(i);</span><br><span class="line">            <span class="comment">// å°è¯•å°†iç§»åŠ¨åˆ°r+1ä½ç½®å¤„.</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = res.<span class="built_in">size</span>() - <span class="number">2</span>;j &gt; r;j --) <span class="built_in">swap</span>(res[j],res[j + <span class="number">1</span>]);</span><br><span class="line">            <span class="comment">// ç‰¹å†µ: å¦‚æœ i&lt;res[r] è¯´æ˜iæ˜¯æœ€å°çš„å…ƒç´ </span></span><br><span class="line">            <span class="comment">// æ­¤æ—¶ i åº”è¯¥æ’å…¥åˆ°ç»“æœæ•°ç»„resçš„ç¬¬ä¸€ä¸ªä½ç½®</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">compare</span>(i,res[r])) <span class="built_in">swap</span>(res[r],res[r + <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p><strong>äºŒåˆ†æŸ¥æ‰¾ &gt;i çš„ç¬¬ä¸€ä¸ªä½ç½®r</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">specialSort</span><span class="params">(<span class="type">int</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">res</span><span class="params">(<span class="number">1</span>,<span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= N;i ++)&#123;</span><br><span class="line">            <span class="comment">// å…ˆæ”¾è¿›æ¥ å ä¸ªä½ç½®</span></span><br><span class="line">            res.<span class="built_in">push_back</span>(i);</span><br><span class="line">            <span class="type">int</span> l = <span class="number">0</span>,r = res.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">            <span class="comment">// äºŒåˆ†æ‰¾ &gt;içš„ç¬¬ä¸€ä¸ªä½ç½®</span></span><br><span class="line">            <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">                <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">compare</span>(i,res[mid])) r = mid;</span><br><span class="line">                <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å°†iæ”¾åœ¨rè¿™ä¸ªä½ç½®ä¸Š</span></span><br><span class="line">            <span class="comment">// æ­¤æ—¶ç‰¹å†µ: iä¸ºæœ€å¤§å€¼, æ­£å¥½æ”¾åœ¨æœ€å,æ— éœ€ç§»åŠ¨</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = res.<span class="built_in">size</span>() - <span class="number">2</span>;j &gt;= r;j --) <span class="built_in">swap</span>(res[j],res[j + <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥ç»†ç»†æ¯”è¾ƒä¸¤ç§æ–¹å¼åœ¨ç»†èŠ‚ä¸Šçš„ä¸åŒ.<br>æ€ä¹ˆè¯´å‘¢,å®¢è§‚çš„æ¥è®²,ä¸¤è€…ä¹‹é—´æ²¡æœ‰ä»»ä½•å¤æ‚åº¦çš„å·®è·,åªæ˜¯ç‰¹æ®Šæƒ…å†µçš„ä¸åŒ.<br>åœ¨å®æˆ˜ä¸­,æˆ‘ä»¬è¦å°½é‡çš„é¿å…è¿‡å¤šè€ƒè™‘ç‰¹æ®Šæƒ…å†µ.(<mark>ç™¾è™‘å¿…æœ‰ä¸€å¤±</mark>)</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwingç¬¬92åœº</title>
      <link href="/2023/03/15/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E5%91%A8%E8%B5%9B/Acwing%E7%AC%AC92%E5%9C%BA/"/>
      <url>/2023/03/15/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E5%91%A8%E8%B5%9B/Acwing%E7%AC%AC92%E5%9C%BA/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>é¢˜ç›®é“¾æ¥:<br><a href="https://www.acwing.com/problem/content/4867/">4864. å¤šè¾¹å½¢</a><br><a href="https://www.acwing.com/problem/content/4868/">4865. æœ‰æ•ˆç±»å‹</a><br><a href="https://www.acwing.com/problem/content/4869/">4866. æœ€å¤§æ•°é‡</a></p></div><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="4864-å¤šè¾¹å½¢"><a href="#4864-å¤šè¾¹å½¢" class="headerlink" title="4864. å¤šè¾¹å½¢"></a>4864. å¤šè¾¹å½¢</h3><p>ç­¾åˆ°é¢˜.<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">while</span>(n --)&#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        <span class="keyword">if</span>(x % <span class="number">4</span>)&#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;NO&quot;</span>&lt;&lt;endl;</span><br><span class="line">        &#125;<span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;YES&quot;</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="4865-æœ‰æ•ˆç±»å‹"><a href="#4865-æœ‰æ•ˆç±»å‹" class="headerlink" title="4865. æœ‰æ•ˆç±»å‹"></a>4865. æœ‰æ•ˆç±»å‹</h3><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230315/20230315_3.jpg" alt="æœ‰æ•ˆç±»å‹"></p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Acwing </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwingå·®åˆ†æ•°ç»„</title>
      <link href="/2023/03/15/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek1/Acwing%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84/"/>
      <url>/2023/03/15/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek1/Acwing%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><font size=4><b>å‰è¨€ğŸ“</b></font><p>å·®åˆ†æ•°ç»„:<br>  å¤„ç†å¤§é‡åŒºé—´æ“ä½œ.</p><p>ä¸€ç»´å·®åˆ†: <code>p[l] += c; p[r + 1] -= c</code>.</p><p>å·®åˆ†å¸¸å¸¸ä¸å‰ç¼€å’Œé…åˆä½¿ç”¨.</p></div><h2 id="3729-æ”¹å˜æ•°ç»„å…ƒç´ "><a href="#3729-æ”¹å˜æ•°ç»„å…ƒç´ " class="headerlink" title="3729. æ”¹å˜æ•°ç»„å…ƒç´ "></a>3729. æ”¹å˜æ•°ç»„å…ƒç´ </h2><p>å…¸å‹çš„å·®åˆ†æ•°ç»„åº”ç”¨.</p><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230315/20230315_1.jpg" alt="æ”¹å˜æ•°ç»„å…ƒç´ "></p><p><u>å’Œå‰ç¼€å’Œä¸€æ ·,å¿…é¡»è®¡ç®—å¥½ä¸‹æ ‡</u></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">200010</span>;</span><br><span class="line"><span class="type">int</span> s[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    s[l] += <span class="number">1</span>;</span><br><span class="line">    s[r + <span class="number">1</span>] -= <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> t,n,x;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t --)&#123;</span><br><span class="line">        <span class="built_in">memset</span>(s,<span class="number">0</span>,<span class="keyword">sizeof</span> s);</span><br><span class="line">        <span class="built_in">memset</span>(st,<span class="number">0</span>,<span class="keyword">sizeof</span> st);</span><br><span class="line">        cin&gt;&gt;n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">            cin&gt;&gt;x;</span><br><span class="line">            <span class="keyword">if</span>(x &gt;= i)&#123;</span><br><span class="line">                <span class="built_in">insert</span>(<span class="number">1</span>,i);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="built_in">insert</span>(i - x + <span class="number">1</span>,i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¾“å‡ºç­”æ¡ˆ</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">            s[i] += s[i - <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span>(s[i]) cout&lt;&lt;<span class="number">1</span>&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">            <span class="keyword">else</span> cout&lt;&lt;<span class="number">0</span>&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="100-å¢å‡åºåˆ—"><a href="#100-å¢å‡åºåˆ—" class="headerlink" title="100. å¢å‡åºåˆ—"></a>100. å¢å‡åºåˆ—</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230315/20230315_2.jpg" alt="å¢å‡åºåˆ—"></p><div class="note info no-icon flat"><p>éå¸¸å¥½çš„ä¸€é“é¢˜, å¯¹å·®åˆ†æ•°ç»„çš„è€ƒå¯Ÿå¾ˆé€å½»!!</p></div><p>åˆ†æ:<br>çœ‹å®Œé¢˜ç›®å,å¾ˆå®¹æ˜“æƒ³åˆ°ç”¨å·®åˆ†æ¥å†™.(å·®åˆ†å°±æ˜¯æ¥å†™è¿™ç§åŒºé—´ä¸Šæ“ä½œ)<br>ä¼—æ‰€å‘¨çŸ¥:<br>é¢˜ç›®è¦æ±‚çš„æ“ä½œç­‰ä»·äº åœ¨å·®åˆ†æ•°ç»„ä¸­é€‰æ‹©ä¸¤ä½,ä¸€ä½+1,å¦ä¸€ä½-1.<br>é¢˜ç›®æ“ä½œç»“æœæ‰€æœ‰æ•°æ®ç›¸ç­‰,è€Œè¿™æ ·åºåˆ—çš„å·®åˆ†æ•°ç»„åœ¨<code>2~n</code>ä¸Šå…¨ä¸ºé›¶.<br>é¢˜ç›®è¦æ±‚æ¯æ¬¡åªæ“ä½œä¸€ä¸‹,è®¡ç®—å·®åˆ†æ•°ç»„ä¸­æ­£æ•°å’Œ,è´Ÿæ•°ç»å¯¹å€¼å’Œ,äºŒè€…æœ€å¤§æ•°å°±æ˜¯æ“ä½œæ¬¡æ•°.<br>é¢˜ç›®è¦æ±‚æ±‚å‡ºç»“æœç§æ•°,åœ¨å·®åˆ†è§†è§’ä¸‹å³æœ€ç»ˆ1å·ä½ä¸Šå˜åŒ–çš„æ¬¡æ•°.<br>è¿™é‡Œä¸å¾—ä¸æä¸€ä¸‹ç¬¬<code>n + 1</code>ä½.<br>å› ä¸ºå·®åˆ†æ’å…¥æ—¶æœ‰ä¸€æ­¥æ“ä½œä¸º<code>s[r + 1] -= c</code>.<br>æ‰€ä»¥åœ¨é€‰æ‹©æ“ä½œä¸¤ä½ä¸Šæˆ‘ä»¬å¯ä»¥é€‰æ‹©:<br>ä¸¤ä½éƒ½æ˜¯åœ¨[2~n]ä¸­(ä¼˜å…ˆ)<br>ä¸€ä½æ˜¯1,å¦ä¸€ä½åœ¨[2~n].<br>æˆ–è€…ä¸€ä½æ˜¯n+1,å¦ä¸€ä½åœ¨[2~n]ä¸­.<br>å› æ­¤ç§æ•°ä¸º æ­£æ•°å’Œä¸è´Ÿæ•°å’Œçš„å·® + 1.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>,INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line">ll s[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r,ll c)</span></span>&#123;</span><br><span class="line">    s[l] += c;</span><br><span class="line">    s[r + <span class="number">1</span>] -= c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    ll t;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        cin&gt;&gt;t;</span><br><span class="line">        <span class="built_in">insert</span>(i,i,t);</span><br><span class="line">    &#125;</span><br><span class="line">    ll fu = <span class="number">0</span>,ze = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i] &lt; <span class="number">0</span>) fu += -s[i];</span><br><span class="line">        <span class="keyword">else</span> ze += s[i];</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;<span class="built_in">max</span>(fu,ze)&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="built_in">abs</span>(fu - ze) + <span class="number">1</span>&lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwingå‰ç¼€å’Œ</title>
      <link href="/2023/03/14/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek1/Acwing%E5%89%8D%E7%BC%80%E5%92%8C/"/>
      <url>/2023/03/14/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/%E8%93%9DWeek1/Acwing%E5%89%8D%E7%BC%80%E5%92%8C/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><font size=4><b>å‰è¨€ğŸ“</b></font><p>å‰ç¼€å’Œ:<br>    å¤„ç†åŒºé—´å’Œä½¿ç”¨,éå¸¸çš„å¥½ç”¨.<br>ä¸€ç»´å‰ç¼€å’Œ: <code>p[l ~r] = p[r] - p[l - 1]</code>.</p></div><h2 id="3956-æˆªæ–­æ•°ç»„"><a href="#3956-æˆªæ–­æ•°ç»„" class="headerlink" title="3956. æˆªæ–­æ•°ç»„"></a>3956. æˆªæ–­æ•°ç»„</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230314/20230314_3.jpg" alt="æˆªæ–­æ•°ç»„"></p><p>éå¸¸æœ‰æ„æ€çš„ä¸€é“é¢˜.</p><p>æ€ä¹ˆæ±‚ä¸‰ç­‰åˆ†ç‚¹?ç”šè‡³åªé€šè¿‡ä¸€æ¬¡éå†æ‰¾åˆ°æ‰€æœ‰ä¸‰ç­‰åˆ†ç‚¹çš„æ–¹æ¡ˆ.<br>è¿™é“é¢˜å®Œç¾çš„ä½“ç°.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"><span class="type">int</span> p[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;=n;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin&gt;&gt; x;</span><br><span class="line">        p[i] = p[i - <span class="number">1</span>] + x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ¤å®šèƒ½å¦ä¸‰ç­‰åˆ†</span></span><br><span class="line">    <span class="keyword">if</span>(p[n] %  <span class="number">3</span>)&#123;</span><br><span class="line">        cout&lt;&lt;<span class="number">0</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//æ‰€æœ‰æ•°çš„æ€»å’Œ</span></span><br><span class="line">    <span class="type">int</span> sum = p[n];</span><br><span class="line">    <span class="comment">// æ–¹æ¡ˆæ•°éœ€è¦ll</span></span><br><span class="line">    ll cnt = <span class="number">0</span>,res = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// éå†æ±‚ç¬¬äºŒä¸ªä¸‰ç­‰åˆ†ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        <span class="comment">// åˆ¤å®šæ˜¯å¦æ˜¯ç¬¬ä¸€ä¸ªä¸‰ç­‰åˆ†ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span>(p[i - <span class="number">1</span>] == sum / <span class="number">3</span>) cnt ++;</span><br><span class="line">        <span class="keyword">if</span>(p[i] == sum / <span class="number">3</span> * <span class="number">2</span>) res += cnt; </span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1230-Kå€åŒºé—´"><a href="#1230-Kå€åŒºé—´" class="headerlink" title="1230. Kå€åŒºé—´"></a>1230. Kå€åŒºé—´</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230314/20230314_4.jpg" alt="Kå€åŒºé—´"></p><p>éå¸¸å¥½çš„ä¸€é“é¢˜.</p><p>å¦‚ä½•åœ¨ä¸€æ¬¡éå†ä¸­å®Œæˆå…¨éƒ¨è®¡æ•°,åŒæ—¶èƒ½åšåˆ°ä¸é‡ä¸æ¼?</p><p>è¿™é‡Œæœ‰é¢˜ç›®å¾—åˆ°ä¸€ä¸ªéå¸¸é‡è¦çš„ç»“è®º: <mark>åªæœ‰ <code>å‰ç¼€å’Œ%k ç›¸ç­‰</code>çš„i,jæ˜¯ä¹‹é—´åŒºé—´å’Œä¸ºkå€åŒºé—´</mark>.<br>å› æ­¤,æˆ‘ä»¬å¯ä»¥åœ¨å¤„ç†æˆå‰ç¼€å’Œæ—¶,åŒæ—¶å°†%kæ“ä½œä¹Ÿå¤„ç†ä¸‹.<br>ä¹‹åå¯ä»¥ç”¨å…¬å¼æ±‚è®¡æ•°ä¸ªæ•°,ä¹Ÿå¯ä»¥åƒæˆ‘è¿™æ ·æ¨¡æ‹Ÿè®¡æ•°è¿‡ç¨‹.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line">ll p[N];</span><br><span class="line"><span class="type">int</span> cnt[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,k;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;k;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    ll res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        cin&gt;&gt; x;</span><br><span class="line">        <span class="comment">// å‰ç¼€å’Œ</span></span><br><span class="line">        p[i] = p[i - <span class="number">1</span>] + x;</span><br><span class="line">        <span class="comment">// %kæ“ä½œ</span></span><br><span class="line">        x = p[i] % k;</span><br><span class="line">        <span class="comment">// è®¡æ•°</span></span><br><span class="line">        <span class="keyword">if</span>(cnt[x]) res += cnt[x];</span><br><span class="line">        cnt[x] ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä¸è¦å¿˜è®° %k = 0çš„å…¨éƒ¨éƒ½ç‹¬è‡ªæ»¡è¶³æ¡ä»¶</span></span><br><span class="line">    res += cnt[<span class="number">0</span>];</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="99-æ¿€å…‰ç‚¸å¼¹"><a href="#99-æ¿€å…‰ç‚¸å¼¹" class="headerlink" title="99. æ¿€å…‰ç‚¸å¼¹"></a>99. æ¿€å…‰ç‚¸å¼¹</h2><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230314/20230314_5.jpg" alt="æ¿€å…‰ç‚¸å¼¹"></p><div class="note info no-icon flat"><p>è¿™é¢˜æ•°æ®èŒƒå›´éå¸¸çš„æ¶å¿ƒ.<br>ä½†æ€è·¯ç®€å•.å°±æ˜¯å‰ç¼€å’Œ</p></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">5010</span>;</span><br><span class="line"><span class="type">int</span> p[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    m = <span class="built_in">min</span>(m,<span class="number">5001</span>);</span><br><span class="line">    <span class="type">int</span> x,y,w;</span><br><span class="line">    <span class="keyword">while</span>(n --)&#123;</span><br><span class="line">        cin&gt;&gt;x&gt;&gt;y&gt;&gt;w;</span><br><span class="line">        p[++x][++y] += w;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">5001</span>;i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= <span class="number">5001</span>;j ++)</span><br><span class="line">            p[i][j] += p[i - <span class="number">1</span>][j] + p[i][j - <span class="number">1</span>] - p[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = m;i &lt;= <span class="number">5001</span>;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = m;j &lt;= <span class="number">5001</span>;j ++)&#123;</span><br><span class="line">            res = <span class="built_in">max</span>(res,p[i][j] - p[i - m][j] - p[i][j - m] + p[i - m][j - m]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¿™é‡Œä¸ºäº†é˜²æ­¢é™·å…¥è¾¹ç•Œæƒ…å†µ,++x,++y</strong>.<br><div class="note success no-icon flat"><p>æ ¹æ®æ•°æ®èŒƒå›´,çŸ©é˜µæœ€å¤§ä¸º<code>5001 * 5001</code>.<br>ä½†æ‰“å‡»èŒƒå›´Rå¯ä»¥åˆ°<code>10^9</code>.å› æ­¤å¿…é¡»åˆ¤æ–­Ræ˜¯å¦å¤§äº5001.</p></div></p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwingç¬¬93åœº</title>
      <link href="/2023/03/14/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E5%91%A8%E8%B5%9B/Acwing%E7%AC%AC93%E5%9C%BA/"/>
      <url>/2023/03/14/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E5%91%A8%E8%B5%9B/Acwing%E7%AC%AC93%E5%9C%BA/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>é¢˜ç›®é“¾æ¥:<br><a href="https://www.acwing.com/problem/content/4870/">4867. æ•´é™¤æ•°</a><br><a href="https://www.acwing.com/problem/content/4871/">4868. æ•°å­—æ›¿æ¢</a><br><a href="https://www.acwing.com/problem/content/4872/">4869. å¼‚æˆ–å€¼</a></p></div><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="4867-æ•´é™¤æ•°"><a href="#4867-æ•´é™¤æ•°" class="headerlink" title="4867. æ•´é™¤æ•°"></a>4867. æ•´é™¤æ•°</h3><p>ç­¾åˆ°é¢˜å—? ç¡®å®</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="type">int</span> k = n / m;</span><br><span class="line">    cout&lt;&lt; (k + <span class="number">1</span>) * m&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ‰æ—¶å€™ä¸éœ€è¦æƒ³çš„é‚£ä¹ˆå¤æ‚.</p><h3 id="4868-æ•°å­—æ›¿æ¢"><a href="#4868-æ•°å­—æ›¿æ¢" class="headerlink" title="4868. æ•°å­—æ›¿æ¢"></a>4868. æ•°å­—æ›¿æ¢</h3><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230314/20230314_1.jpg" alt="æ•°å­—æ›¿æ¢"></p><p>æ€è·¯ä¸Š: ç¬¬ä¸€æ„Ÿè§‰ä¸Š,æ¯æ¬¡ä¹˜ä»¥æœ€å¤§çš„ä½æ•°å³å¯.ä½†ç›´æ¥æ‰“è„¸.<br>æ¯”å¦‚<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">43 3 =&gt; 129 9 =&gt; 1161 6 =&gt; 6966</span><br><span class="line">43 4 =&gt; 172 7 =&gt; 1204 4 =&gt; 4816</span><br></pre></td></tr></table></figure><br><mark>æ¯æ¬¡åªä¹˜æœ€å¤§çš„æ•°,å¯èƒ½ä¼šå‡ºç°ç»“æœéƒ½æ˜¯å¾ˆå°çš„æ•°å­—ç»„æˆ.</mark></p><p>å½“ç„¶è¿™é“é¢˜,yæ€»å¾ˆå–„è‰¯çš„ç»™äº†ä¸€ä¸ªæ ·ä¾‹æé†’æˆ‘ä»¬.</p><p>ç„¶å,ç¬¬äºŒæ„Ÿè§‰ä¸Šæ˜¯ä½¿ç”¨<code>bfs</code>.<br>æ€ä¹ˆè¯´å‘¢,ä½¿ç”¨äº†å¾ˆå¤šè¾…åŠ©å‡½æ•°,å¯¼è‡´é¡ºåˆ©é€šè¿‡äº†è¿™é“é¢˜.</p><h4 id="bfs-to-string-stoll"><a href="#bfs-to-string-stoll" class="headerlink" title="bfs + to_string + stoll"></a>bfs + to_string + stoll</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">ll m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bfs</span><span class="params">()</span></span>&#123;</span><br><span class="line">    queue&lt;ll&gt; q;</span><br><span class="line">    unordered_map&lt;ll,<span class="type">int</span>&gt; d;</span><br><span class="line">    q.<span class="built_in">push</span>(m);</span><br><span class="line">    d[m] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="keyword">auto</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        string s = <span class="built_in">to_string</span>(t);</span><br><span class="line">        <span class="keyword">if</span>(s.<span class="built_in">size</span>() == n)&#123;</span><br><span class="line">            <span class="keyword">return</span> d[t];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> &amp; x : s)&#123;</span><br><span class="line">            ll num = t * (x - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">            <span class="keyword">if</span>(!d.<span class="built_in">count</span>(num))&#123;</span><br><span class="line">                d[num] = d[t] + <span class="number">1</span>;</span><br><span class="line">                q.<span class="built_in">push</span>(num);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    cout&lt;&lt;<span class="built_in">bfs</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œæ—¶é—´:    765 ms</p><p><mark>åæ¥å‘ç°,è¿˜æ˜¯è‡ªå·±æ‰‹å†™çš„æ›´å¿«ä¸€ç‚¹</mark></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">ll m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bfs</span><span class="params">()</span></span>&#123;</span><br><span class="line">    queue&lt;ll&gt; q;</span><br><span class="line">    unordered_map&lt;ll,<span class="type">int</span>&gt; d;</span><br><span class="line">    q.<span class="built_in">push</span>(m);</span><br><span class="line">    d[m] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        ll t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="comment">// æ‰‹åŠ¨è·å–æ¯ä¸€ä½</span></span><br><span class="line">        <span class="type">bool</span> st[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">        <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        ll y = t;</span><br><span class="line">        <span class="keyword">while</span>(y)&#123;</span><br><span class="line">            cnt ++;</span><br><span class="line">            st[y % <span class="number">10</span>] = <span class="literal">true</span>;</span><br><span class="line">            y /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆ¤å®š</span></span><br><span class="line">        <span class="keyword">if</span>(cnt == n) <span class="keyword">return</span> d[t];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä¼˜åŒ–æŸ¥è¯¢</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">9</span>;i &gt; <span class="number">1</span>;i --)&#123;</span><br><span class="line">            <span class="keyword">if</span>(st[i])&#123;</span><br><span class="line">                y = t * i;</span><br><span class="line">                <span class="keyword">if</span>(!d.<span class="built_in">count</span>(y))&#123;</span><br><span class="line">                    d[y] = d[t] + <span class="number">1</span>;</span><br><span class="line">                    q.<span class="built_in">push</span>(y);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    cout&lt;&lt;<span class="built_in">bfs</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œæ—¶é—´:    403 ms</p><p>æœ¬æ¥æˆ‘ä»¥ä¸ºå·²ç»å¤Ÿå¿«äº†.ç›´åˆ°çœ‹åˆ°äº†yæ€»çš„å†™æ³•???!!!<br>çœŸæ˜¯æƒŠä¸ºå¤©äºº.</p><h4 id="dfs-æœ€ä¼˜åŒ–å‰ªæ"><a href="#dfs-æœ€ä¼˜åŒ–å‰ªæ" class="headerlink" title="dfs + æœ€ä¼˜åŒ–å‰ªæ"></a>dfs + æœ€ä¼˜åŒ–å‰ªæ</h4><p>dfsçš„æœ€å¤§æ–¹ä¾¿çš„åœ°æ–¹å°±æ˜¯å®ƒéå¸¸æ–¹ä¾¿çš„è¿›è¡Œå‰ªæ.(yæ€»æ¨è).</p><p><strong>å‡æç­–ç•¥</strong>:<br>1: å½“å‰æ­¥æ•°å¦‚æœè¶…è¿‡æœ€ä¼˜è§£. ç›´æ¥å‰ª.<br>2: ä»å½“å‰æ­¥åˆ°æœ€ä¼˜è§£æ¯æ¬¡éƒ½ä¹˜10ä¹Ÿæœªèƒ½è¾¾åˆ°è¦æ±‚, ç›´æ¥å‰ª.(æœªä½¿ç”¨)</p><p><strong>ä¼˜åŒ–æœç´¢</strong>:</p><p>ä½¿ç”¨ä»å¤§åˆ°å°æšä¸¾. æœ‰æ›´å¤§çš„æ¦‚ç‡æ¥è¿‘æœ€ä¼˜è§£.</p><p>yæ€»ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF = <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">ll x;</span><br><span class="line"><span class="type">int</span> res = INF;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(ll x,<span class="type">int</span> d)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="type">bool</span> st[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    ll y = x;</span><br><span class="line">    <span class="keyword">while</span>(y)&#123;</span><br><span class="line">        cnt ++;</span><br><span class="line">        st[y % <span class="number">10</span>] = <span class="literal">true</span>;</span><br><span class="line">        y /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å‰ªæ</span></span><br><span class="line">    <span class="keyword">if</span>(d + n - cnt &gt;= res) <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// ç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">    <span class="keyword">if</span>(cnt == n)&#123;</span><br><span class="line">        res = d;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">9</span>;i &gt; <span class="number">1</span>;i --)&#123;</span><br><span class="line">        <span class="keyword">if</span>(st[i])&#123;</span><br><span class="line">            <span class="built_in">dfs</span>(x * i,d + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;x;</span><br><span class="line">    <span class="built_in">dfs</span>(x,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span>(res == INF) res = <span class="number">-1</span>;</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>è¿è¡Œæ—¶é—´: 46 ms !!!!</p><p>è¿˜æœ‰ä¸€ç‚¹:<a href="https://www.acwing.com/solution/content/173853/">è¿™ä½å¤§ä½¬åˆ—å‡ºäº†å„ç§ç”¨æ¥ä¼˜åŒ–çš„æ–¹æ³•</a>.<br>ä½†ä¼˜åŒ–çš„å¤ªè¿‡äº†,è¿è¡Œæ—¶é—´åˆä¸Šå»äº†.</p><h3 id="4869-å¼‚æˆ–å€¼"><a href="#4869-å¼‚æˆ–å€¼" class="headerlink" title="4869. å¼‚æˆ–å€¼"></a>4869. å¼‚æˆ–å€¼</h3><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230314/20230314_2.jpg" alt="å¼‚æˆ–å€¼"></p><p>çœ‹å®Œé¢˜ç›®å,æ„Ÿè§‰ä¸Šæ˜¯è¦ç”¨Trie.ä¸è¿‡è¿™ä¸ªä¸œè¥¿å¤ªé¥è¿œäº†.å¿˜è®°äº†!!!!</p><p><strong>åŸºæœ¬ä¸Šæ˜¯Trieçš„æ¨¡æ¿é¢˜</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">3000010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> tr[N][<span class="number">2</span>],idx;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ„é€ trieæ ‘</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> p = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">29</span>;~i;i --)&#123;</span><br><span class="line">        <span class="type">int</span> u = x &gt;&gt; i &amp; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(!tr[p][u]) tr[p][u] = ++ idx;</span><br><span class="line">        p = tr[p][u];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// p èŠ‚ç‚¹ k ä½æ•°</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query</span><span class="params">(<span class="type">int</span> p,<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = k;~i;i--)&#123;</span><br><span class="line">        <span class="comment">// 0 1éƒ½å­˜åœ¨ æœ€å°å€¼åœ¨è¯¥ä½ä¸Šå¿…ä¸º1 </span></span><br><span class="line">        <span class="keyword">if</span>(tr[p][<span class="number">1</span>] &amp;&amp; tr[p][<span class="number">0</span>])&#123;</span><br><span class="line">            res += <span class="number">1</span> &lt;&lt; i;</span><br><span class="line">            <span class="comment">// æ‰¾ä¸‹ä¸€ä½ç»“æœæœ€å°å€¼</span></span><br><span class="line">            res += <span class="built_in">min</span>(<span class="built_in">query</span>(tr[p][<span class="number">0</span>],i- <span class="number">1</span>),<span class="built_in">query</span>(tr[p][<span class="number">1</span>],i - <span class="number">1</span>));</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åªå­˜åœ¨ä¸€ä¸ª æœ€å°å€¼åœ¨è¯¥ä½å¿…æ˜¯0</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(tr[p][<span class="number">1</span>]) p = tr[p][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">else</span> p = tr[p][<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="keyword">while</span>(n --)&#123;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        <span class="built_in">insert</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;<span class="built_in">query</span>(<span class="number">0</span>,<span class="number">29</span>)&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>yæ€»ä»£ç :<br>æ›´æœ‰æ˜¯ä¸ºè¿™é“é¢˜è®¾è®¡çš„æ„å‘³.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">3000010</span>, INF = <span class="number">2e9</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> tr[N][<span class="number">2</span>], idx;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> p = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">29</span>; i &gt;= <span class="number">0</span>; i -- )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> u = x &gt;&gt; i &amp; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (!tr[p][u]) tr[p][u] = ++ idx;</span><br><span class="line">        p = tr[p][u];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (d == <span class="number">-1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> f[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> p = tr[u][i];</span><br><span class="line">        <span class="keyword">if</span> (p) f[i] = <span class="built_in">dfs</span>(p, d - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span> f[i] = <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> res = INF;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">2</span>; j ++ )</span><br><span class="line">            <span class="keyword">if</span> (f[j] != <span class="number">-1</span>)</span><br><span class="line">                t = <span class="built_in">max</span>(t, f[j] + ((i ^ j) &lt;&lt; d));</span><br><span class="line">        res = <span class="built_in">min</span>(res, t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">    <span class="keyword">while</span> (n -- )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">        <span class="built_in">insert</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">dfs</span>(<span class="number">0</span>, <span class="number">29</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Acwing </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¯æ—¥ä¸€é¢˜ç›®å½•</title>
      <link href="/2023/03/13/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E7%9B%AE%E5%BD%95/"/>
      <url>/2023/03/13/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E7%9B%AE%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>å½’çº³ä¸‹å„ä¸ªç½‘å€ä¸‹å†™è¿‡çš„æ¯æ—¥ä¸€é¢˜.</p></div><h2 id="Acwingä¸‹"><a href="#Acwingä¸‹" class="headerlink" title="Acwingä¸‹"></a>Acwingä¸‹</h2>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acwingç¬¬94åœº</title>
      <link href="/2023/03/13/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E5%91%A8%E8%B5%9B/Acwing%E7%AC%AC94%E5%9C%BA/"/>
      <url>/2023/03/13/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E5%91%A8%E8%B5%9B/Acwing%E7%AC%AC94%E5%9C%BA/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>é¢˜ç›®é“¾æ¥:<br><a href="https://www.acwing.com/activity/content/problem/content/8146/">AcWing 4870. è£…ç‰©å“</a><br><a href="https://www.acwing.com/activity/content/problem/content/8147/">AcWing 4871. æœ€æ—©æ—¶åˆ»</a><br><a href="https://www.acwing.com/activity/content/problem/content/8148/">AcWing 4872. æœ€çŸ­è·¯ä¹‹å’Œ</a></p></div><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="4870-è£…ç‰©å“"><a href="#4870-è£…ç‰©å“" class="headerlink" title="4870. è£…ç‰©å“"></a>4870. è£…ç‰©å“</h3><p>ç­¾åˆ°é¢˜:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">if</span>(n % <span class="number">5</span>)&#123;</span><br><span class="line">        cout&lt;&lt;n / <span class="number">5</span> + <span class="number">1</span> &lt;&lt;endl;</span><br><span class="line">    &#125;<span class="keyword">else</span> cout&lt;&lt;n / <span class="number">5</span> &lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>è¿˜æœ‰ä¸€ç§æ›´å¿«çš„å†™æ³•: <code>(n + 4) / 5</code>.</p><h3 id="4871-æœ€æ—©æ—¶åˆ»"><a href="#4871-æœ€æ—©æ—¶åˆ»" class="headerlink" title="4871. æœ€æ—©æ—¶åˆ»"></a>4871. æœ€æ—©æ—¶åˆ»</h3><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230313/20230313_1.jpg" alt="æœ€æ—©æ—¶åˆ»"></p><div class="note success no-icon flat"><p>å¾ˆå®¹æ˜“è¾¨åˆ«å‡º,è¿™é“é¢˜æ˜¯ å•æºæœ€çŸ­è·¯çš„å˜ç§.<br>ç”±äºæ²¡æœ‰è´Ÿè¾¹,ç­‰å¾…æ—¶é—´ä¹Ÿä¸å¯èƒ½ä¸ºè´Ÿ, æ‰€ä»¥å¯ä»¥ä½¿ç”¨<code>dijkstra</code>æˆ–<code>spfa</code>ç®—æ³•.<br>ä¸è¿‡yæ€»è¯´: <code>10^5</code>å¾ˆå¯èƒ½ä¼šå¡spfa.</p></div><h4 id="dijkstraè§£æ³•"><a href="#dijkstraè§£æ³•" class="headerlink" title="dijkstraè§£æ³•"></a>dijkstraè§£æ³•</h4><p>ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>,M = <span class="number">2</span> * N,INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> h[N],e[M],w[M],ne[M],idx;</span><br><span class="line"><span class="type">int</span> d[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; stop[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b,<span class="type">int</span> c)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    w[idx] = c;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dijkstra</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(d,INF,<span class="keyword">sizeof</span> d);</span><br><span class="line">    priority_queue&lt;PII,vector&lt;PII&gt;,greater&lt;PII&gt;&gt; p;</span><br><span class="line">    d[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    p.<span class="built_in">push</span>(&#123;<span class="number">0</span>,<span class="number">1</span>&#125;);</span><br><span class="line">    <span class="keyword">while</span>(!p.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="keyword">auto</span> t = p.<span class="built_in">top</span>();</span><br><span class="line">        p.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="type">int</span> var = t.second;</span><br><span class="line">        <span class="keyword">if</span>(st[var]) <span class="keyword">continue</span>;</span><br><span class="line">        st[var] = <span class="literal">true</span>;</span><br><span class="line">        <span class="type">int</span> d_var = d[var];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>,len = stop[var].<span class="built_in">size</span>();i &lt; len;i ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(d_var == stop[var][i]) d_var ++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(stop[var][i] &gt; d_var) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = h[var];i != <span class="number">-1</span>;i = ne[i])&#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span>(d[j] &gt; d_var + w[i])&#123;</span><br><span class="line">                d[j] = d_var + w[i];</span><br><span class="line">                p.<span class="built_in">push</span>(&#123;d[j],j&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(d[n] ==  INF) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> d[n];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="type">int</span> a,b,c;</span><br><span class="line">    <span class="keyword">while</span>(m --)&#123;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class="line">        <span class="built_in">add</span>(a,b,c);</span><br><span class="line">        <span class="built_in">add</span>(b,a,c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> t,x;</span><br><span class="line">        cin&gt;&gt;t;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; t;j ++)&#123;</span><br><span class="line">            cin&gt;&gt;x;</span><br><span class="line">            stop[i].<span class="built_in">push_back</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    cout&lt;&lt;<span class="built_in">dijkstra</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><div class="note info no-icon flat"><p>dijkstraç‰¹ç‚¹:<br>æ¯æ¬¡åªæ›´æ–°ä¸€ç‚¹,æ¯ç‚¹åªæ›´æ–°ä¸€æ¬¡.<br>åŸç†: è´ªå¿ƒ.æ¯æ¬¡åªç”¨æœªç¡®å®šæœ€çŸ­è·¯ä¸­æœ€è¿‘çš„ä¸€ç‚¹è¿›è¡Œæ›´æ–°.</p><p><mark>dijkstraæ˜¯ç«™åœ¨ <strong>ç‚¹</strong> çš„è§’åº¦æ±‚æœ€çŸ­è·¯ </mark></p></div></p><p>å…³äº åœé¡¿æ—¶é—´æ±‚è§£ çš„è¯¯åŒº:<br>å†™æ³•1:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ›´æ–°æœªæ›´æ–°çš„ç‚¹</span></span><br><span class="line"><span class="keyword">if</span>(st[var]) <span class="keyword">continue</span>;</span><br><span class="line">st[var] = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">// åœé¡¿æ—¶é—´æ±‚è§£</span></span><br><span class="line"><span class="type">int</span> d_var = d[var];</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>,len = stop[var].<span class="built_in">size</span>();i &lt; len;i ++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(d_var == stop[var][i]) d_var ++;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(stop[var][i] &gt; d_var) <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>å¦‚æœä¸è¿™æ ·å†™,åˆ™éœ€è¦è¿™æ ·å†™.<br>å†™æ³•2:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(st[var]) <span class="keyword">continue</span>;</span><br><span class="line"><span class="keyword">if</span>(var == n) <span class="keyword">break</span>;</span><br><span class="line">st[var] = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>,len = stop[var].<span class="built_in">size</span>();i &lt; len;i ++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(d[var] == stop[var][i]) d[var] ++;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(stop[var][i] &gt; d[var]) <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>å…¸å‹æ•°æ®:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">2 1</span><br><span class="line">1 2 3</span><br><span class="line">0</span><br><span class="line">1 3</span><br><span class="line">ç­”æ¡ˆ: 3</span><br><span class="line"></span><br></pre></td></tr></table></figure></p><p>å¾ˆå®¹æ˜“å¯ä»¥å¯¹æ¯”å‡ºæ¥: <font color=red>è¦ä¹ˆç”¨æ–°å˜é‡<code>d_var</code>æ›´æ–°.è¦ä¹ˆç‰¹åˆ¤ç¬¬nç‚¹ä¸è¦æœ‰ç­‰å¾…æ—¶é—´</font>.</p><p>åŒæ—¶,è¿™éƒ¨åˆ†ä¹Ÿå¯ä»¥é€šè¿‡äºŒåˆ†ä¼˜åŒ–.ä¸è¿‡ç”±äºæ•°é‡å¾ˆå°‘,è¿™é‡Œå°±ä¸åšå¯¹åº”çš„ä¼˜åŒ–äº†!</p><h4 id="spfaè§£æ³•"><a href="#spfaè§£æ³•" class="headerlink" title="spfaè§£æ³•"></a>spfaè§£æ³•</h4><p>æ€è·¯åŸºæœ¬ç›¸åŒ.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>,M = <span class="number">2</span> * N,INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> h[N],e[M],w[M],ne[M],idx;</span><br><span class="line"><span class="type">int</span> d[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; stop[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b,<span class="type">int</span> c)</span></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    w[idx] = c;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">spfa</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(d,INF,<span class="keyword">sizeof</span> d);</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    d[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    q.<span class="built_in">push</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="comment">// å…¥é˜Ÿæ ‡è®°</span></span><br><span class="line">    st[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="type">int</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="comment">// å‡ºé˜Ÿæ ‡è®°</span></span><br><span class="line">        st[t] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ±‚åœé¡¿æ—¶é—´</span></span><br><span class="line">        <span class="type">int</span> t_dist = d[t];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>,len = stop[t].<span class="built_in">size</span>();i &lt; len;i ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(t_dist == stop[t][i]) t_dist ++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(stop[t][i] &gt; t_dist) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = h[t];i != <span class="number">-1</span>;i = ne[i])&#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span>(d[j] &gt; t_dist + w[i])&#123;</span><br><span class="line">                d[j] = t_dist + w[i];</span><br><span class="line">                <span class="keyword">if</span>(!st[j])&#123;</span><br><span class="line">                    q.<span class="built_in">push</span>(j);</span><br><span class="line">                    st[j] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(d[n] == INF) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> d[n];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="type">int</span> a,b,c;</span><br><span class="line">    <span class="keyword">while</span>(m --)&#123;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class="line">        <span class="built_in">add</span>(a,b,c);</span><br><span class="line">        <span class="built_in">add</span>(b,a,c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">        <span class="type">int</span> t,x;</span><br><span class="line">        cin&gt;&gt;t;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; t;j ++)&#123;</span><br><span class="line">            cin&gt;&gt;x;</span><br><span class="line">            stop[i].<span class="built_in">push_back</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    cout&lt;&lt;<span class="built_in">spfa</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note info no-icon flat"><p>spfaç‰¹ç‚¹:<br>spfaæ˜¯ä»Bellman_foldé˜Ÿåˆ—ä¼˜åŒ–è€Œæ¥çš„,ä¸è¿‡spfaä¸èƒ½å¤„ç†æœ‰è´Ÿç¯çš„å›¾.<br>spfaå¸¸å¸¸ç”¨æ¥åˆ¤æ–­å›¾ä¸­æ˜¯å¦æœ‰è´Ÿç¯.</p><p><mark>spfaæ˜¯ç«™åœ¨ <strong>è¾¹</strong> çš„è§’åº¦æ±‚è§£æœ€çŸ­è·¯</mark></p></div><p>å…³äº åœé¡¿æ—¶é—´æ±‚è§£ çš„è¯¯åŒº:</p><p>å¦‚æœä½¿ç”¨spfa,åˆ™æˆ‘ä»¬ä¸èƒ½é€šè¿‡ æŒ‡å®šæŸä¸ªç‚¹ä¸æ›´æ–°çš„æ–¹å¼ æ¥æ±‚åœé¡¿æ—¶é—´.<br>åªèƒ½ä½¿ç”¨æ–°å˜é‡ä¿å­˜çš„æ–¹å¼ æ¥æ±‚åœé¡¿æ—¶é—´.<br>åŸå› : spfaæ˜¯é¢å‘è¾¹çš„. å› æ­¤spfaæ±‚è§£è¿‡ç¨‹ä¸­,ç‚¹å¯èƒ½å¤šæ¬¡å…¥é˜Ÿ.</p><p>å…¸å‹çš„æ•°æ®:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">4 6</span><br><span class="line">1 2 2</span><br><span class="line">1 3 3</span><br><span class="line">1 4 8</span><br><span class="line">2 3 4</span><br><span class="line">2 4 5</span><br><span class="line">3 4 3</span><br><span class="line">0</span><br><span class="line">1 3</span><br><span class="line">2 3 4</span><br><span class="line">0</span><br><span class="line">ç­”æ¡ˆ: 7</span><br></pre></td></tr></table></figure></p><h3 id="4872-æœ€çŸ­è·¯ä¹‹å’Œ"><a href="#4872-æœ€çŸ­è·¯ä¹‹å’Œ" class="headerlink" title="4872. æœ€çŸ­è·¯ä¹‹å’Œ"></a>4872. æœ€çŸ­è·¯ä¹‹å’Œ</h3><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230313/20230313_2.jpg" alt="4872. æœ€çŸ­è·¯ä¹‹å’Œ"></p><div class="note success no-icon flat"><p>ä¸éš¾ä»é¢˜ç›®æè¿°ä¸­å¾—çŸ¥:<br>æœ¬é¢˜ä½¿ç”¨Floyd ç®—æ³•.Floydæ˜¯å½“å‰å­¦åˆ°çš„å”¯ä¸€ä¸€ä¸ªå¯ä»¥è§£å†³å¤šæºæœ€çŸ­è·¯é—®é¢˜çš„ç®—æ³•.</p></div><p>è¿™é“é¢˜å¦‚æœä»æ­£é¢è§£,ä¸ä»…æ¯æ¬¡åˆ é™¤æ•°æ®å¾ˆéº»çƒ¦,è¿˜éœ€è¦å¤šæ¬¡è°ƒåŠ¨Floydç®—æ³•.<br>éå¸¸çš„è´¹æ—¶é—´,åŒæ—¶ä¹Ÿå®¹æ˜“å‡ºé”™.<br><wavy>ä½†å¦‚æœæˆ‘ä»¬åè¿‡æ¥è€ƒè™‘: æ¯æ¬¡åŠ å…¥ä¸€ä¸ªç‚¹å‘¢</wavy>.</p><div class="note info no-icon flat"><p>å¦‚æœæ¯æ¬¡å¤šåŠ ä¸€ä¸ªç‚¹.<br>åœ¨Floydç®—æ³•çš„æ¨å¯¼è¿‡ç¨‹ä¸­çŸ¥é“:<br><code>dp[k][i][j]</code>è¡¨ç¤ºä» i åˆ° j åªç»è¿‡ ä¸è¶…è¿‡ kçš„ç‚¹ çš„æœ€çŸ­è·¯</p><p>å®Œç¾çš„å¥‘åˆFloydçš„æ¨å¯¼. </p></div><p>ä»£ç :<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">510</span>;</span><br><span class="line"></span><br><span class="line">ll d[N][N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> x[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line">ll ans[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)</span><br><span class="line">            cin&gt;&gt;d[i][j];</span><br><span class="line">            </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) cin&gt;&gt;x[i];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// floydçš„å˜ç§</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> u = n;u;u --)&#123;</span><br><span class="line">        <span class="type">int</span> k = x[u];</span><br><span class="line">        st[k] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i ++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)</span><br><span class="line">                d[i][j] = <span class="built_in">min</span>(d[i][j],d[i][k] + d[k][j]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n;j ++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(st[i] &amp;&amp; st[j])&#123;</span><br><span class="line">                    ans[u] += d[i][j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i ++) cout&lt;&lt;ans[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p><div class="note success no-icon flat"><p>è¿™é“é¢˜å¯ä»¥çœ‹ä½œä¸º è„‘ç­‹æ€¥è½¬å¼¯.<br>åŒæ—¶éœ€è¦å¯¹ floydç®—æ³• çš„æ¨å¯¼è¿‡ç¨‹ç†Ÿæ‚‰æŒæ¡.</p></div>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Acwing </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼€ä¸ªæ–°å‘</title>
      <link href="/2023/03/13/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/%E5%BC%80%E4%B8%AA%E6%96%B0%E5%9D%91%E5%86%99%E5%91%A8%E8%B5%9B/"/>
      <url>/2023/03/13/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/%E5%BC%80%E4%B8%AA%E6%96%B0%E5%9D%91%E5%86%99%E5%91%A8%E8%B5%9B/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>å¼€å§‹å†™å‘¨èµ›äº†,è¿™é‡Œæ”¾ä¸ªæ€»ç›®å½•å§!</p></div><h2 id="Acwingéƒ¨åˆ†"><a href="#Acwingéƒ¨åˆ†" class="headerlink" title="Acwingéƒ¨åˆ†"></a>Acwingéƒ¨åˆ†</h2><p><a href="https://qvq-ovo.github.io/2023/03/13/%E7%AE%97%E6%B3%95%E9%A2%98%E5%BA%93/Acwing%E5%91%A8%E8%B5%9B/Acwing%E7%AC%AC94%E5%9C%BA/">Acwingç¬¬94åœº</a></p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¢˜é›† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonä½¿ç”¨seleniumçˆ¬å–è‡ªä¹ æ—¶é—´</title>
      <link href="/2023/03/06/%E8%87%AA%E5%8A%A8%E5%8C%96/python%E4%BD%BF%E7%94%A8selenium%E7%88%AC%E5%8F%96%E8%87%AA%E4%B9%A0%E6%97%B6%E9%97%B4/"/>
      <url>/2023/03/06/%E8%87%AA%E5%8A%A8%E5%8C%96/python%E4%BD%BF%E7%94%A8selenium%E7%88%AC%E5%8F%96%E8%87%AA%E4%B9%A0%E6%97%B6%E9%97%B4/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>å­¦æ ¡æ›´æ–°äº†è‡ªä¹ ç³»ç»Ÿ,æ–°çš„è‡ªä¹ ç³»ç»Ÿæ²¡æœ‰å­¦ä¹ æ—¶é—´è‡ªåŠ¨ç»Ÿè®¡åŠŸèƒ½.<br>ä¸è¿‡ç½‘ç«™ä¸Šç™»å½•åå¯ä»¥è·å–æ¯æ¬¡è‡ªä¹ æ—¶é—´ä¸Šçš„ç»†èŠ‚.<br>æ‰€ä»¥,ä½¿ç”¨seleniumçˆ¬å–å¯¹åº”æ•°æ®,è‡ªå·±åœ¨æœ¬åœ°å®ç°ç»Ÿè®¡.å˜»å˜»</p></div><h2 id="seleniumæ¨¡æ‹Ÿæµè§ˆå™¨æ“ä½œ"><a href="#seleniumæ¨¡æ‹Ÿæµè§ˆå™¨æ“ä½œ" class="headerlink" title="seleniumæ¨¡æ‹Ÿæµè§ˆå™¨æ“ä½œ"></a>seleniumæ¨¡æ‹Ÿæµè§ˆå™¨æ“ä½œ</h2><div class="note info no-icon flat"><p>æœ¬æ¥æ‰“ç®—ä½¿ç”¨<code>requests</code>æ¥çˆ¬å–çš„,å¥ˆä½•æœ¬äººå¤ªåºŸ.æ ¹æœ¬åˆ†æä¸è¿‡æ¥.<br>ä¸å¾—ä¸è¯´,seleniumæ˜¯çœŸçš„å¼º.</p></div><h3 id="å®‰è£…selenium"><a href="#å®‰è£…selenium" class="headerlink" title="å®‰è£…selenium"></a>å®‰è£…selenium</h3><p>python:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install selenium</span><br></pre></td></tr></table></figure><br>å¿…é¡»ç»™æœ¬åœ°æµè§ˆå™¨å®‰è£…å¯¹åº”çš„é©±åŠ¨å™¨:</p><p>1: è°·æ­Œæµè§ˆå™¨é©±åŠ¨: <a href="http://chromedriver.storage.googleapis.com/index.html">http://chromedriver.storage.googleapis.com/index.html</a><br>2: ç«ç‹æµè§ˆå™¨é©±åŠ¨: <a href="https://github.com/mozilla/geckodriver/releases">https://github.com/mozilla/geckodriver/releases</a></p><p><u>è®°å¾—ä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬,è‡³å°‘æ˜¯èƒ½ç›¸äº’å…¼å®¹çš„.</u></p><h3 id="æ¨¡æ‹Ÿç™»å½•"><a href="#æ¨¡æ‹Ÿç™»å½•" class="headerlink" title="æ¨¡æ‹Ÿç™»å½•"></a>æ¨¡æ‹Ÿç™»å½•</h3><p>ä½¿ç”¨<code>selenium</code>æ¨¡æ‹Ÿç”¨æˆ·æ“ä½œ,çœŸçš„æ˜¯ç›´æ¥æ¨¡ä»¿ç”¨æˆ·æ“ä½œ.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç™»å½•ç½‘å€</span></span><br><span class="line">first_url = <span class="string">&#x27;xxxx&#x27;</span></span><br><span class="line"><span class="comment"># æ•°æ®æ‰€åœ¨é¡µé¢</span></span><br><span class="line">target_url = <span class="string">&#x27;xxxx&#x27;</span></span><br><span class="line"></span><br><span class="line">user = <span class="string">&quot;xxx&quot;</span></span><br><span class="line">password = <span class="string">&quot;xxxx&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç™»å½•ç½‘ç«™</span></span><br><span class="line">browser.get(first_url)</span><br><span class="line"><span class="comment">#  ç­‰å¾…</span></span><br><span class="line">time.sleep(<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¨¡æ‹Ÿç™»å½•</span></span><br><span class="line">browser.find_element(By.ID,<span class="string">&quot;username&quot;</span>).send_keys(user)</span><br><span class="line">browser.find_element(By.ID,<span class="string">&quot;password&quot;</span>).send_keys(password)</span><br><span class="line">browser.find_element(By.ID,<span class="string">&quot;login_submit&quot;</span>).click()</span><br><span class="line"><span class="comment">#  ç­‰å¾…</span></span><br><span class="line">time.sleep(<span class="number">2.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ¤æ–­æ˜¯å¦ç™»å½•æˆåŠŸ</span></span><br><span class="line">element_existance = <span class="literal">True</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    browser.find_element(By.XPATH,<span class="string">&quot;//div[@role=&#x27;tab&#x27; and @class=&#x27;van-tabbar-item&#x27;]&quot;</span>).click()</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    element_existance = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> element_existance == <span class="literal">False</span> :</span><br><span class="line">    browser.close()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;No&quot;</span>)</span><br><span class="line">    exit()</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note success no-icon flat"><p>æ³¨æ„:<br>ä»£ç ä¸­ç±»ä¼¼äº<code>By.ID</code>,<code>By.XPATH</code>ç”¨äºå®šä½æ“ä½œå…ƒç´ .<br>å¦‚æœç½‘é¡µæ›´æ–°æˆ–æ›´æ¢ä¸åŒçš„ç½‘å€,éƒ½éœ€è¦é‡æ–°é…ç½®.</p></div><h3 id="é€šè¿‡æ—¥å¿—è·å–æ•°æ®"><a href="#é€šè¿‡æ—¥å¿—è·å–æ•°æ®" class="headerlink" title="é€šè¿‡æ—¥å¿—è·å–æ•°æ®"></a>é€šè¿‡æ—¥å¿—è·å–æ•°æ®</h3><div class="note info no-icon flat"><p>æƒ³è¦æ›´ç®€å•æœ‰æ•ˆçš„è·å–æ•°æ®,å•å•æ¨¡æ‹Ÿç‚¹å‡»ä¹‹ç±»è‚¯å®šæ˜¯ä¸å¤Ÿç”¨çš„.<br>å¿…é¡»è¦æ‹¿åˆ°å…³é”®çš„xhråŒ….</p></div><p>è¿™ä¸€æ­¥ç½‘ä¸Šæœ‰å¾ˆå¤šæ“ä½œæ–¹æ³•.<br>æˆ‘é€‰æ‹©è¿™ä¸€ç§: <a href="https://blog.csdn.net/weixin_45081575/article/details/126551260">ã€Seleniumã€‘Seleniumè·å–Networkæ•°æ®ï¼ˆé«˜çº§ç‰ˆï¼‰</a></p><p>å†™çš„æ˜¯çœŸçš„å¥½,æˆ‘ç°åœ¨ä¹Ÿæ²¡æ—¶é—´ä¼˜åŒ–å®ƒ.</p><p>å¼€å¯å¯¹åº”é…ç½®:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">caps = &#123;</span><br><span class="line">    <span class="string">&quot;browserName&quot;</span>: <span class="string">&quot;chrome&quot;</span>,</span><br><span class="line">    <span class="string">&#x27;goog:loggingPrefs&#x27;</span>: &#123;<span class="string">&#x27;performance&#x27;</span>: <span class="string">&#x27;ALL&#x27;</span>&#125;  <span class="comment"># å¼€å¯æ—¥å¿—æ€§èƒ½ç›‘å¬</span></span><br><span class="line">&#125;</span><br><span class="line">chrome_options = Options()</span><br><span class="line"><span class="comment"># å¼€å¯æ— å¤´æ¨¡å¼</span></span><br><span class="line">chrome_options.add_argument(<span class="string">&#x27;--headless&#x27;</span>)</span><br><span class="line">chrome_options.add_argument(<span class="string">&#x27;--no-sandbox&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨æµè§ˆå™¨</span></span><br><span class="line">browser = webdriver.Chrome(desired_capabilities=caps,options=chrome_options)</span><br><span class="line"><span class="comment"># è®¿é—®url</span></span><br><span class="line">browser.get(first_url)</span><br></pre></td></tr></table></figure><br><div class="note success no-icon flat"><p>æ— å¤´æµè§ˆå™¨: ä¸æ˜¾ç¤ºçª—å£.ç›´æ¥åœ¨å†…å­˜ä¸­å¤„ç†æµè§ˆæ•°æ®.</p></div></p><p>æœ‰äº†æ—¥å¿—ç›‘å¬,å¾ˆå®¹æ˜“å°±èƒ½å®šä½æˆ‘è¦è®¿é—®çš„ç½‘å€è¿”å›çš„æ•°æ®:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># è¿‡æ»¤èµ„æº</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">filter_type</span>(<span class="params">_<span class="built_in">type</span>: <span class="built_in">str</span></span>):</span><br><span class="line">    types = [</span><br><span class="line">        <span class="string">&#x27;application/javascript&#x27;</span>, <span class="string">&#x27;application/x-javascript&#x27;</span>, <span class="string">&#x27;text/css&#x27;</span>, <span class="string">&#x27;webp&#x27;</span>, <span class="string">&#x27;image/png&#x27;</span>, <span class="string">&#x27;image/gif&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;image/jpeg&#x27;</span>, <span class="string">&#x27;image/x-icon&#x27;</span>, <span class="string">&#x27;application/octet-stream&#x27;</span></span><br><span class="line">    ]</span><br><span class="line">    <span class="keyword">if</span> _<span class="built_in">type</span> <span class="keyword">not</span> <span class="keyword">in</span> types:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–åç§°ä¸º performance çš„æ—¥å¿—</span></span><br><span class="line">performance_log = browser.get_log(<span class="string">&#x27;performance&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> packet <span class="keyword">in</span> performance_log:</span><br><span class="line">    message = json.loads(packet.get(<span class="string">&#x27;message&#x27;</span>)).get(<span class="string">&#x27;message&#x27;</span>)  <span class="comment"># è·å–messageçš„æ•°æ®</span></span><br><span class="line">    <span class="keyword">if</span> message.get(<span class="string">&#x27;method&#x27;</span>) != <span class="string">&#x27;Network.responseReceived&#x27;</span>:  <span class="comment"># å¦‚æœmethod ä¸æ˜¯ responseReceived ç±»å‹å°±ä¸å¾€ä¸‹æ‰§è¡Œ</span></span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    packet_type = message.get(<span class="string">&#x27;params&#x27;</span>).get(<span class="string">&#x27;response&#x27;</span>).get(<span class="string">&#x27;mimeType&#x27;</span>)  <span class="comment"># è·å–è¯¥è¯·æ±‚è¿”å›çš„type</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> filter_type(_<span class="built_in">type</span>=packet_type):  <span class="comment"># è¿‡æ»¤type</span></span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    requestId = message.get(<span class="string">&#x27;params&#x27;</span>).get(<span class="string">&#x27;requestId&#x27;</span>)  <span class="comment"># å”¯ä¸€çš„è¯·æ±‚æ ‡è¯†ç¬¦ã€‚ç›¸å½“äºè¯¥è¯·æ±‚çš„èº«ä»½è¯</span></span><br><span class="line">    url = message.get(<span class="string">&#x27;params&#x27;</span>).get(<span class="string">&#x27;response&#x27;</span>).get(<span class="string">&#x27;url&#x27;</span>)  <span class="comment"># è·å– è¯¥è¯·æ±‚  url</span></span><br><span class="line">    <span class="comment"># åˆ¤æ–­æ˜¯å¦æ˜¯æˆ‘ä»¬æƒ³è¦çš„</span></span><br><span class="line">    <span class="keyword">if</span> url == target_url :</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># seleniumè°ƒç”¨ cdp</span></span><br><span class="line">            resp = browser.execute_cdp_cmd(<span class="string">&#x27;Network.getResponseBody&#x27;</span>, &#123;<span class="string">&#x27;requestId&#x27;</span>: requestId&#125;)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;type: <span class="subst">&#123;packet_type&#125;</span> url: <span class="subst">&#123;url&#125;</span>&#x27;</span>)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;resp[<span class="string">&quot;body&quot;</span>]&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># è¿™é‡Œå¯ä»¥ç¼–å†™å¤„ç†æ•°æ®ä»£ç </span></span><br><span class="line"></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;Success&quot;</span>)</span><br><span class="line">        <span class="keyword">except</span> WebDriverException:  <span class="comment"># å¿½ç•¥å¼‚å¸¸</span></span><br><span class="line">            <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><h2 id="å…¶ä»–æ“ä½œ-ä¿å­˜ä¸è‡ªåŠ¨åŒ–"><a href="#å…¶ä»–æ“ä½œ-ä¿å­˜ä¸è‡ªåŠ¨åŒ–" class="headerlink" title="å…¶ä»–æ“ä½œ: ä¿å­˜ä¸è‡ªåŠ¨åŒ–"></a>å…¶ä»–æ“ä½œ: ä¿å­˜ä¸è‡ªåŠ¨åŒ–</h2><h3 id="æ•°æ®çš„ä¿å­˜"><a href="#æ•°æ®çš„ä¿å­˜" class="headerlink" title="æ•°æ®çš„ä¿å­˜"></a>æ•°æ®çš„ä¿å­˜</h3><p>å› ä¸ºéœ€è¦è·å–: å½“å¤©æ—¥æœŸ, æ¯å¤©è‡ªä¹ æ—¶é•¿.<br>æ‰€ä»¥è¿™é‡Œé€‰æ‹©ä¿å­˜ä¸º<code>csv</code>æ–‡ä»¶æ ¼å¼.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¿å­˜ä¿¡æ¯ csv</span></span><br><span class="line">csv_file = <span class="built_in">open</span>(<span class="string">&#x27;./Alldata.csv&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,newline=<span class="string">&#x27;&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">writer = csv.writer(csv_file)</span><br><span class="line"><span class="comment"># æ ‡é¢˜</span></span><br><span class="line">writer.writerow([<span class="string">&#x27;æ—¥æœŸ&#x27;</span>,<span class="string">&#x27;ä½¿ç”¨æ—¶é—´&#x27;</span>])</span><br></pre></td></tr></table></figure><p>å‰©ä¸‹çš„åªéœ€è¦æŠŠ<code>print(...)</code>æ¢æˆ<code>writer.writerow([..,..])</code>.</p><h3 id="è‡ªåŠ¨åŒ–"><a href="#è‡ªåŠ¨åŒ–" class="headerlink" title="è‡ªåŠ¨åŒ–"></a>è‡ªåŠ¨åŒ–</h3><p>æ¬¸,æ²¡å‡†æˆ‘å¯ä»¥å°†è¿™äº›éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Š,å…¨éƒ¨è‡ªåŠ¨åŒ–æ“ä½œ.<br>ä¸‹æ¬¡å†è¯•,å¯èƒ½éœ€è¦é…åˆå‰é¢çš„ <strong>springé¡¹ç›®æ•´åˆ</strong> .</p><p>æœªå®Œå¾…ç»­â€¦</p>]]></content>
      
      
      <categories>
          
          <category> è‡ªåŠ¨åŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SSMæ¡†æ¶æ•´åˆ</title>
      <link href="/2023/01/25/SSM%E5%AD%A6%E4%B9%A0/SSM%E6%A1%86%E6%9E%B6%E6%95%B4%E5%90%88/"/>
      <url>/2023/01/25/SSM%E5%AD%A6%E4%B9%A0/SSM%E6%A1%86%E6%9E%B6%E6%95%B4%E5%90%88/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>è™½ç„¶é›¶é›¶æ•£æ•£çš„å­¦äº†äº›SSMç›¸å¹²çš„çŸ¥è¯†,ä½†è¿‡äº†å¤ªä¹…ä¹Ÿå¿˜å¾—å·®ä¸å¤šäº†.<br>è¿™é‡Œå†è·Ÿç€ç‹‚ç¥å­¦ä¹ ä¸‹SSMæ•´åˆæ¡†æ¶çš„åŸºæœ¬æ­å»ºæµç¨‹.<br>åŒæ—¶å®ç°é¡¹ç›®ä¸€äº›ç®€å•æ“ä½œ.</p><p>å‚è€ƒèµ„æ–™:<br><a href="https://mp.weixin.qq.com/s/SDxqGu_il3MUCTcN1EYrng">ç‹‚ç¥è¯´SpringMVC05ï¼šæ•´åˆSSMæ¡†æ¶</a><br><a href="https://www.bilibili.com/video/BV1RE41127rv?p=1">ç‹‚ç¥è¯´Java SSMæ¡†æ¶æœ€æ–°æ•´åˆæ•™å­¦IDEAç‰ˆ</a></p><p>ç›¸å…³ç¯å¢ƒ:</p><ul><li>IDEA2021.2.1</li><li>MySQL8.0+</li><li>Tomcat9.0</li><li>Maven3.8</li><li>Jdk8</li></ul></div><h2 id="ä¸€-iæ­å»ºé¡¹ç›®æ•°æ®åº“"><a href="#ä¸€-iæ­å»ºé¡¹ç›®æ•°æ®åº“" class="headerlink" title="ä¸€. iæ­å»ºé¡¹ç›®æ•°æ®åº“"></a>ä¸€. iæ­å»ºé¡¹ç›®æ•°æ®åº“</h2><p>æœ¬é¡¹ç›®åˆ›å»ºä¸€ä¸ªå­˜æ”¾ä¹¦ç±ä¿¡æ¯çš„ä¹¦ç±åº“:</p><p>åˆ›å»ºæ•°æ®è¡¨+æ’å…¥ä¿¡æ¯:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE `ssmbuild`;</span><br><span class="line"></span><br><span class="line">USE `ssmbuild`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `books`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `books` (</span><br><span class="line">`bookID` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ä¹¦id&#x27;</span>,</span><br><span class="line">`bookName` <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;ä¹¦å&#x27;</span>,</span><br><span class="line">`bookCounts` <span class="type">INT</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;æ•°é‡&#x27;</span>,</span><br><span class="line">`detail` <span class="type">VARCHAR</span>(<span class="number">200</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;æè¿°&#x27;</span>,</span><br><span class="line">KEY `bookID` (`bookID`)</span><br><span class="line">) ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span>  <span class="keyword">INTO</span> `books`(`bookID`,`bookName`,`bookCounts`,`detail`)<span class="keyword">VALUES</span></span><br><span class="line">(<span class="number">1</span>,<span class="string">&#x27;Java&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;ä»å…¥é—¨åˆ°æ”¾å¼ƒ&#x27;</span>),</span><br><span class="line">(<span class="number">2</span>,<span class="string">&#x27;MySQL&#x27;</span>,<span class="number">10</span>,<span class="string">&#x27;ä»åˆ åº“åˆ°è·‘è·¯&#x27;</span>),</span><br><span class="line">(<span class="number">3</span>,<span class="string">&#x27;Linux&#x27;</span>,<span class="number">5</span>,<span class="string">&#x27;ä»è¿›é—¨åˆ°è¿›ç‰¢&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure></p><h2 id="äºŒ-ideaæ­å»ºåŸºæœ¬ç¯å¢ƒ"><a href="#äºŒ-ideaæ­å»ºåŸºæœ¬ç¯å¢ƒ" class="headerlink" title="äºŒ. ideaæ­å»ºåŸºæœ¬ç¯å¢ƒ"></a>äºŒ. ideaæ­å»ºåŸºæœ¬ç¯å¢ƒ</h2><p>é¦–å…ˆæ­å»ºMavenç©ºé¡¹ç›®<br><div class="note success no-icon flat"><p>Mavenä¸­æœ‰å¾ˆå¤šé¡¹ç›®éª¨æ¶.<br>é€‰æ‹©åå¯ä»¥ç›´æ¥ç”Ÿæˆé¡¹ç›®æ¡†æ¶.<br>è¿™é‡Œä¸ºäº†å­¦ä¹ ,é€‰æ‹©ä»ç©ºé¡¹ç›®æ­å»º.</p></div></p><p>é¡¹ç›®å:<code>BookProject</code></p><h3 id="2-1-é…ç½®pom-xml"><a href="#2-1-é…ç½®pom-xml" class="headerlink" title="2.1 é…ç½®pom.xml"></a>2.1 é…ç½®pom.xml</h3><p>é…ç½®é¡¹ç›®æ‰€éœ€è¦çš„ä¾èµ–åŒ…å’Œè§£å†³é™æ€èµ„æºå¯¼å‡ºé—®é¢˜.</p><p>ä¾èµ–é…ç½®:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Junit--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ•°æ®åº“é©±åŠ¨--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.25<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ•°æ®åº“è¿æ¥æ± : c3p0å¾ˆè€äº† --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mchange<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--Servlet - JSP --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--Mybatis--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--Spring--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.9.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.9.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>é…ç½®é™æ€èµ„æºå¯¼å‡ºè§£å†³åŠæ³•:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é™æ€èµ„æºå¯¼å‡º--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨Mavenå°±æ˜¯æ–¹ä¾¿å¯¼åŒ…,åŒæ—¶ä¹Ÿæ–¹ä¾¿çœ‹æ¸…æ¥šåŒ…ä¹‹é—´çš„å…³ç³»:</p><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230125/20230125_1.jpg" alt="jaråŒ…å…³ç³»å›¾" style="zoom:80%;" /></p><h3 id="2-2-åˆ›å»ºåŒ…å’Œé…ç½®xmlæ–‡ä»¶"><a href="#2-2-åˆ›å»ºåŒ…å’Œé…ç½®xmlæ–‡ä»¶" class="headerlink" title="2.2 åˆ›å»ºåŒ…å’Œé…ç½®xmlæ–‡ä»¶"></a>2.2 åˆ›å»ºåŒ…å’Œé…ç½®xmlæ–‡ä»¶</h3><p>åˆ›å»ºæˆåŠŸåé¡¹ç›®ç»“æ„:<br><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230125/20230125_2.jpg" alt="jaråŒ…å…³ç³»å›¾" style="zoom:60%;" /></p><p>applicationContext.xmlé…ç½®:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><br>mybatis-config.xmlé…ç½®:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><br><div class="note success no-icon flat"><p>ä¸¤ä¸ªåŸºæœ¬æ¨¡æ¿:<br>applicationContext.xmlåŸºæœ¬æ¨¡æ¿<br>mybatis-config.xmlåŸºæœ¬æ¨¡æ¿<br>(å†™è¿™ä¸ªæ–¹ä¾¿æ£€ç´¢)</p></div></p><h2 id="ä¸‰-Mybatisæ•´åˆé…ç½®"><a href="#ä¸‰-Mybatisæ•´åˆé…ç½®" class="headerlink" title="ä¸‰. Mybatisæ•´åˆé…ç½®"></a>ä¸‰. Mybatisæ•´åˆé…ç½®</h2><p>å¯¹åº”è§†é¢‘1: æ•´åˆMybatiså±‚</p><h3 id="3-1-é…ç½®æ•°æ®åº“è¿æ¥æ–‡ä»¶"><a href="#3-1-é…ç½®æ•°æ®åº“è¿æ¥æ–‡ä»¶" class="headerlink" title="3.1 é…ç½®æ•°æ®åº“è¿æ¥æ–‡ä»¶"></a>3.1 é…ç½®æ•°æ®åº“è¿æ¥æ–‡ä»¶</h3><p>æ–‡ä»¶å: <code>database.properties</code><br>å†…å®¹:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jdbc.driver=com.mysql.cj.jdbc.Driver</span><br><span class="line">jdbc.url=jdbc:mysql://localhost:3306/ssmbuild?useSSL=true&amp;useUnicode=true&amp;characterEncoding=utf8&amp;serverTimezone=Asia/Shanghai</span><br><span class="line">jdbc.username=root</span><br><span class="line">jdbc.password=1123@.com</span><br></pre></td></tr></table></figure><br>è¿™é‡Œæˆ‘ä½¿ç”¨çš„MySQL8.0+,æ‰€ä»¥jdbc.urlå¿…é¡»é…ç½®æ—¶åŒº.</p><h3 id="3-2-ideaå¯¼å…¥Lombok"><a href="#3-2-ideaå¯¼å…¥Lombok" class="headerlink" title="3.2 ideaå¯¼å…¥Lombok"></a>3.2 ideaå¯¼å…¥Lombok</h3><p><strong>Lombokä½œç”¨</strong>: é€šè¿‡ç®€å•çš„æ³¨è§£çš„å½¢å¼æ¥å¸®åŠ©æˆ‘ä»¬ç®€åŒ–æ¶ˆé™¤ä¸€äº›å¿…é¡»æœ‰ä½†æ˜¾å¾—å¾ˆè‡ƒè‚¿çš„Javaä»£ç çš„å·¥å…·.<br>ç®€å•æ¥è¯´:<br>å½“æˆ‘ä»¬æ–°å»ºäº†ä¸€ä¸ªç±»,ç„¶ååœ¨å…¶ä¸­å†™äº†å‡ ä¸ªå­—æ®µ,é€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å»å»ºç«‹getterå’Œsetteræ–¹æ³•,æ„é€ å‡½æ•°å•Šä¹‹ç±»çš„.<br>è€Œlombokçš„ä½œç”¨å°±æ˜¯ä¸ºäº†çœå»æˆ‘ä»¬æ‰‹åŠ¨åˆ›å»ºè¿™äº›ä»£ç çš„éº»çƒ¦,å®ƒèƒ½å¤Ÿåœ¨æˆ‘ä»¬ç¼–è¯‘æºç çš„æ—¶å€™è‡ªåŠ¨å¸®æˆ‘ä»¬ç”Ÿæˆè¿™äº›æ–¹æ³•.</p><p><strong>å¯¼å…¥è¿‡ç¨‹:</strong><br>ä¸ä»…éœ€è¦<u>é¡¹ç›®ä¸­å¯¼å…¥Lombokä¾èµ–</u>,<u>ideaä¹Ÿéœ€è¦å®‰è£…Lombokæ’ä»¶</u>.</p><p>é¡¹ç›®å¯¼å…¥Lombokä¾èµ–:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.22<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h3 id="3-3-ç¼–å†™pojoç±»"><a href="#3-3-ç¼–å†™pojoç±»" class="headerlink" title="3.3 ç¼–å†™pojoç±»"></a>3.3 ç¼–å†™pojoç±»</h3><p>æœ‰äº†Lombokçš„æ”¯æŒ,pojoç±»å¯ä»¥æ‘†è„±è‡ƒè‚¿çš„ç±»æ–¹æ³•:</p><p>Booksç±»<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Books</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> bookID;</span><br><span class="line">    <span class="keyword">private</span> String bookName;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> bookCounts;</span><br><span class="line">    <span class="keyword">private</span> String detail;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>æ·»åŠ å®Œä¸‰ä¸ªLombokçš„æ³¨é‡Šå,å¯ä»¥åœ¨Structure(ideaå·¦ä¸‹è§’)çœ‹åˆ°æ·»åŠ çš„æ–¹æ³•:<br><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230125/20230125_3.jpg" alt="æœªåŠ è½½å›¾ç‰‡" style="zoom:80%;" /></p><div class="note success no-icon flat"><p><strong>Lombokå…³äºjavaBeanå¸¸ç”¨æ³¨è§£</strong>:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span> <span class="comment">// ToString,get/set...æ–¹æ³•</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span> <span class="comment">// å…¨å‚æ„é€ </span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span> <span class="comment">// æ— å‚æ„é€ </span></span><br></pre></td></tr></table></figure><br>ç½‘ä¸Šå¯ä»¥æœç´¢åˆ°æ›´å¤šå…¶ä»–æ–¹æ³•.</p></div><h3 id="3-4-ç¼–å†™daoå±‚æ¥å£-xmlé…ç½®"><a href="#3-4-ç¼–å†™daoå±‚æ¥å£-xmlé…ç½®" class="headerlink" title="3.4 ç¼–å†™daoå±‚æ¥å£ + xmlé…ç½®"></a>3.4 ç¼–å†™daoå±‚æ¥å£ + xmlé…ç½®</h3><p>daoå±‚ä¸€èˆ¬åªæä¾›å¯¹pojoçš„åŸºæœ¬æ“ä½œ: å¢åˆ æ”¹æŸ¥.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BookMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¢</span></span><br><span class="line">    <span class="comment">// æ·»åŠ ä¸€æœ¬ä¹¦</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">addBook</span><span class="params">(Books books)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ </span></span><br><span class="line">    <span class="comment">// åˆ é™¤ä¸€æœ¬ä¹¦</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">delBookById</span><span class="params">(<span class="type">int</span> id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ”¹</span></span><br><span class="line">    <span class="comment">// æ›´æ–°ä¸€æœ¬ä¹¦</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">updateBookById</span><span class="params">(Books books)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥</span></span><br><span class="line">    <span class="comment">// æŸ¥è¯¢ä¸€æœ¬ä¹¦</span></span><br><span class="line">    Books <span class="title function_">queryBookById</span><span class="params">(<span class="type">int</span> id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥è¯¢æ‰€æœ‰ä¹¦</span></span><br><span class="line">    List&lt;Books&gt; <span class="title function_">queryAllBook</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒæ—¶åœ¨daoåŒ…ä¸‹ç¼–å†™å¯¹åº”çš„xmlé…ç½®æ–‡ä»¶.</p><p>BookMapperæ¥å£å¯¹åº”çš„<code>BookMapper.xml</code>:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.li.dao.BookMapper&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--å¢--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ·»åŠ ä¸€æœ¬ä¹¦--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;addBook&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;Books&quot;</span>&gt;</span></span><br><span class="line">        insert into ssmbuild.books (bookName, bookCounts, detail)</span><br><span class="line">        values (#&#123;bookName&#125;,#&#123;bookCounts&#125;,#&#123;detail&#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--åˆ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--åˆ é™¤ä¸€æœ¬ä¹¦--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;delBookById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;int&quot;</span>&gt;</span></span><br><span class="line">        delete from ssmbuild.books where bookID = #&#123;bookId&#125;;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--æ”¹--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ›´æ–°ä¸€æœ¬ä¹¦--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateBookById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;Books&quot;</span>&gt;</span></span><br><span class="line">        update ssmbuild.books</span><br><span class="line">        set bookName = #&#123;bookName&#125;, bookCounts=#&#123;bookCounts&#125;,detail=#&#123;detail&#125;</span><br><span class="line">        where bookID=#&#123;bookID&#125;;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--æŸ¥--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æŸ¥è¯¢ä¸€æœ¬ä¹¦--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryBookById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Books&quot;</span>&gt;</span></span><br><span class="line">        select * from ssmbuild.books where bookID=#&#123;bookId&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æŸ¥è¯¢æ‰€æœ‰ä¹¦--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryAllBook&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Books&quot;</span>&gt;</span></span><br><span class="line">        select * from ssmbuild.books;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œç”±äº<code>BookMapper.xml</code>ä¸­å‚æ•°å’Œ<code>BookMapper</code>ä¸­ä¸ä¸€è‡´.æ‰€ä»¥å¯¹<code>BookMapper</code>ä¸­å‚æ•°æ·»åŠ æ³¨é‡Š:<br>ä¸»è¦å°±æ˜¯è¿™ä¸¤ä¸ª.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ </span></span><br><span class="line"><span class="comment">// åˆ é™¤ä¸€æœ¬ä¹¦</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">delBookById</span><span class="params">(<span class="meta">@Param(&quot;bookId&quot;)</span> <span class="type">int</span> id)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸ¥</span></span><br><span class="line"><span class="comment">// æŸ¥è¯¢ä¸€æœ¬ä¹¦</span></span><br><span class="line">Books <span class="title function_">queryBookById</span><span class="params">(<span class="meta">@Param(&quot;bookId&quot;)</span> <span class="type">int</span> id)</span>;</span><br></pre></td></tr></table></figure></p><p>åŒæ—¶,<code>BookMapper.xml</code>ä¸­ä½¿ç”¨çš„æ˜¯<code>Books</code>çš„åˆ«å,æˆ‘ä»¬åœ¨Mybatisçš„ä¸»é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ç›¸å…³æ”¯æŒ:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.li.pojo&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br></pre></td></tr></table></figure><br><div class="note info no-icon flat"><p>å¦‚æœä¸é…ç½®åˆ«å,é‚£ä¹ˆåœ¨<code>BookMapper.xml</code>ä¸­éœ€è¦å°†æ‰€æœ‰çš„<code>resultType=&quot;Books&quot;</code>æ”¹ä¸ºå…¨è·¯å¾„å.</p></div></p><p>Mapper.xmlåŸºæœ¬æ¨¡æ¿å’ŒMabatis-config.xmlåŸºæœ¬æ¨¡æ¿å¾ˆç›¸ä¼¼.ä½†è¿™é‡Œæˆ‘åˆ†å¼€è®°å¿†!<br><strong>Mapper.xmlåŸºæœ¬æ¨¡æ¿:</strong><br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure></p><div class="note success no-icon flat"><p>ä¸å¤ªé‡è¦çš„æ¨¡æ¿:<br>Mapper.xmlåŸºæœ¬æ¨¡æ¿</p></div><h3 id="3-5-serviceå±‚æ¥å£-åŠŸèƒ½å®ç°ç±»"><a href="#3-5-serviceå±‚æ¥å£-åŠŸèƒ½å®ç°ç±»" class="headerlink" title="3.5 serviceå±‚æ¥å£ + åŠŸèƒ½å®ç°ç±»"></a>3.5 serviceå±‚æ¥å£ + åŠŸèƒ½å®ç°ç±»</h3><p>serviceå±‚ä½¿ç”¨daoå±‚çš„æ–¹æ³•è¿›è¡Œç»„åˆå½¢æˆæš´éœ²åœ¨å¤–çš„åŠŸèƒ½.</p><p>æˆ‘ä»¬è¿™é‡Œåªæ˜¯å­¦ä¹ å°±ä¸ç¼–å†™å¤æ‚çš„åŠŸèƒ½,å°±ç®€å•çš„å°†daoå±‚åŸºæœ¬åŠŸèƒ½éƒ½å®ç°ä¸‹.</p><p><strong>æ¥å£</strong>:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BookService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¢</span></span><br><span class="line">    <span class="comment">// æ·»åŠ ä¸€æœ¬ä¹¦</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">addBook</span><span class="params">(Books books)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ </span></span><br><span class="line">    <span class="comment">// åˆ é™¤ä¸€æœ¬ä¹¦</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">delBookById</span><span class="params">(<span class="type">int</span> id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ”¹</span></span><br><span class="line">    <span class="comment">// æ›´æ–°ä¸€æœ¬ä¹¦</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">updateBookById</span><span class="params">(Books books)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥</span></span><br><span class="line">    <span class="comment">// æŸ¥è¯¢ä¸€æœ¬ä¹¦</span></span><br><span class="line">    Books <span class="title function_">queryBookById</span><span class="params">(<span class="type">int</span> id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥è¯¢æ‰€æœ‰ä¹¦</span></span><br><span class="line">    List&lt;Books&gt; <span class="title function_">queryAllBook</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p><p><strong>åŠŸèƒ½å®ç°ç±»</strong>:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">BookService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è°ƒç”¨daoå±‚çš„æ“ä½œï¼Œè®¾ç½®ä¸€ä¸ªsetæ¥å£ï¼Œæ–¹ä¾¿Springç®¡ç†</span></span><br><span class="line">    <span class="keyword">private</span> BookMapper bookMapper;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBookMapper</span><span class="params">(BookMapper bookMapper)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.bookMapper = bookMapper;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">addBook</span><span class="params">(Books book)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span>  bookMapper.addBook(book);</span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">delBookById</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> bookMapper.delBookById(id);</span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">updateBookById</span><span class="params">(Books books)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> bookMapper.updateBookById(books);</span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Books <span class="title function_">queryBookById</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookMapper.queryBookById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;Books&gt; <span class="title function_">queryAllBook</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookMapper.queryAllBook();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p><div class="note danger no-icon flat"><p>serviceå±‚å®ç°ç±»<strong>æ˜“å¿˜ç‚¹</strong>:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// serviceå±‚è°ƒç”¨deoå±‚: ç»„åˆdao</span></span><br><span class="line"><span class="keyword">private</span> BookMapper bookMapper;</span><br><span class="line"><span class="comment">// ç”¨äºsetæ³¨å…¥</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBookMapper</span><span class="params">(BookMapper bookMapper)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.bookMapper = bookMapper;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>è¿™ä¸€æ­¥,å³æ–¹ä¾¿ä¹‹åé¡¹ç›®çš„åŠŸèƒ½æ‰©å±•,ä¹Ÿä½¿å¾—å½“å‰é¡¹ç›®åŠŸèƒ½å¤šæ ·åŒ–å¾—åˆ°ä¿è¯.</p></div><h2 id="å››-Springæ•´åˆé…ç½®"><a href="#å››-Springæ•´åˆé…ç½®" class="headerlink" title="å››. Springæ•´åˆé…ç½®"></a>å››. Springæ•´åˆé…ç½®</h2><p>springç”¨æ¥ç®¡ç†daoå±‚,serviceå±‚.</p><h3 id="4-1-é…ç½®å¯¹daoå±‚ç®¡ç†çš„xmlæ–‡ä»¶"><a href="#4-1-é…ç½®å¯¹daoå±‚ç®¡ç†çš„xmlæ–‡ä»¶" class="headerlink" title="4.1 é…ç½®å¯¹daoå±‚ç®¡ç†çš„xmlæ–‡ä»¶"></a>4.1 é…ç½®å¯¹daoå±‚ç®¡ç†çš„xmlæ–‡ä»¶</h3><p>Springå¯¹daoå±‚ç®¡ç†<strong>æ“ä½œæ­¥éª¤</strong>:</p><div class='checkbox cyan checked'><input type="radio" checked="checked"/>            <p>å…³è”æ•°æ®åº“æ–‡ä»¶</p>            </div><div class='checkbox cyan checked'><input type="radio" checked="checked"/>            <p>é…ç½®æ•°æ®åº“è¿æ¥æ± </p>            </div><div class='checkbox cyan checked'><input type="radio" checked="checked"/>            <p>é…ç½®SqlSessionFactoryå¯¹è±¡</p>            </div><div class='checkbox cyan checked'><input type="radio" checked="checked"/>            <p>é…ç½®æ‰«æDaoæ¥å£åŒ…ï¼ŒåŠ¨æ€å®ç°Daoæ¥å£æ³¨å…¥åˆ°springå®¹å™¨ä¸­</p>            </div><p>æ–‡ä»¶å:<code>spring-dao.xml</code>.(æ–¹ä¾¿åŒºåˆ†)</p><div class="note success no-icon flat"><p>ideaå¯ä»¥é€‰æ‹©springæ¨¡æ¿åˆ›å»º,ä¸è¿‡è¦è®°å¾—æ·»åŠ åˆ°applicationContext.xmlä¸»é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œå…³è”.</p></div><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">       https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--1. å…³è”æ•°æ®åº“æ–‡ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:database.properties&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--2. é…ç½®è¿æ¥æ± --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--è¿™é‡Œæˆ‘ä»¬é…ç½®c3p0æ•°æ®æ±  (druid,hikariè¿™ä¸¤ä¸ªæ± å­æ˜¯å¸¸ç”¨çš„)--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--æ‰€æœ‰æ± å­çš„å…¬å…±æ“ä½œ--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClass&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driver&#125;&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;jdbcUrl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--c3p0ç‹¬æœ‰é…ç½®--&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxPoolSize&quot;</span> <span class="attr">value</span>=<span class="string">&quot;30&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;minPoolSize&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å…³é—­è¿æ¥åä¸è‡ªåŠ¨commit --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;autoCommitOnClose&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- è·å–è¿æ¥è¶…æ—¶æ—¶é—´ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;checkoutTimeout&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10000&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å½“è·å–è¿æ¥å¤±è´¥é‡è¯•æ¬¡æ•° --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;acquireRetryAttempts&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--3. sqlSessionFactoryå¯¹è±¡--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;sqlSessionFactory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--ç»‘å®šmybatisé…ç½®æ–‡ä»¶--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;configLocation&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:mybatis-config.xml&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--4. é…ç½®daoæ¥å£æ‰«æåŒ…--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--1.æ³¨å…¥ sqlSessionFactory --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sqlSessionFactoryBeanName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;sqlSessionFactory&quot;</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--2.æ‰«æ å¯¹åº”daoåŒ…--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;basePackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.li.dao&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="note info no-icon flat"><p><strong>è¿æ¥æ± ç›¸å…³çŸ¥è¯†</strong>:<br>dbcp: åŠè‡ªåŠ¨åŒ–æ“ä½œ ä¸èƒ½è‡ªåŠ¨è¿æ¥<br>c3p0: è‡ªåŠ¨åŒ–æ“ä½œ(è‡ªåŠ¨çš„åŠ è½½é…ç½®æ–‡ä»¶ å¹¶ä¸”è®¾ç½®åˆ°å¯¹è±¡é‡Œé¢)<br>druid,hikari å¤§å…¬å¸ç”¨çš„</p></div><h3 id="4-2-é…ç½®å¯¹serviceå±‚ç®¡ç†çš„xmlæ–‡ä»¶"><a href="#4-2-é…ç½®å¯¹serviceå±‚ç®¡ç†çš„xmlæ–‡ä»¶" class="headerlink" title="4.2 é…ç½®å¯¹serviceå±‚ç®¡ç†çš„xmlæ–‡ä»¶"></a>4.2 é…ç½®å¯¹serviceå±‚ç®¡ç†çš„xmlæ–‡ä»¶</h3><div class='checkbox blue checked'><input type="radio" checked="checked"/>            <p>æ‰«æserviceä¸‹çš„åŒ…</p>            </div><div class='checkbox blue checked'><input type="radio" checked="checked"/>            <p>å°†ä¸šåŠ¡å®ç°ç±»æ³¨å…¥åˆ°Springå®¹å™¨(è¿™é‡Œé‡‡ç”¨é…ç½®æ³¨å…¥)</p>            </div><div class='checkbox blue checked'><input type="radio" checked="checked"/>            <p>å£°æ˜å¼äº‹åŠ¡é…ç½®</p>            </div><div class='checkbox blue'><input type="radio" />            <p>å¼€å¯aopäº‹åŠ¡æ”¯æŒ</p>            </div><p>æ–‡ä»¶å: <code>spring-service.xml</code>.(æ–¹ä¾¿åŒºåˆ†)</p><p>åŒæ ·ä¹Ÿéœ€è¦å…³è”applicationContext.xmlä¸»é…ç½®.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">       https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--1. æ‰«æserviceä¸‹çš„åŒ…--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.li.service&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--2. å°†ä¸šåŠ¡ç±»æ³¨å…¥åˆ°Spring, è¿™é‡Œé‡‡ç”¨é…ç½®æ³¨å…¥--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;BookServiceImpl&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.li.service.impl.BookServiceImpl&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bookMapper&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;bookMapper&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--3. å£°æ˜å¼äº‹åŠ¡é…ç½®--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSourceTransactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--æ³¨å…¥æ•°æ®æº--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœå•å•è¿™æ ·é…ç½®æ˜¯ä¼šçˆ†çº¢çš„:<br><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230125/20230125_4.jpg" alt="æœªåŠ è½½å±•ç¤ºçš„å†…å®¹" style="zoom:80%;" /></p><p>è¿™æ˜¯ç”±äº<code>spring-dao.xml</code>å’Œ<code>spring-service.xml</code>ä¸¤è€…ä¹‹é—´æ²¡æœ‰å…³è”åˆ°ä¸€èµ·.</p><p>è¿™é‡Œä½¿ç”¨ä¸»é…ç½®æ–‡ä»¶è¿›è¡Œå…³è”:</p><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230125/20230125_5.jpg" alt="ä¸»é…ç½®æ–‡ä»¶å…³è”" style="zoom:80%;" /></p><p>å¦‚æœä¸ç”¨ä¸»é…ç½®,å¯ä»¥é‡‡å–æ³¨è§£çš„æ–¹æ³•ä»£æ›¿é…ç½®æ³¨å…¥:</p><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230125/20230125_6.jpg" alt="æ³¨è§£å…³è”" /></p><h2 id="äº”-SpringMVCæ•´åˆé…ç½®"><a href="#äº”-SpringMVCæ•´åˆé…ç½®" class="headerlink" title="äº”. SpringMVCæ•´åˆé…ç½®"></a>äº”. SpringMVCæ•´åˆé…ç½®</h2><p>SpringMVCæ˜¯Springä¸­ä¸€ä¸ªæ¡†æ¶,ç”¨äºè§£å†³WEBç›¸å…³é—®é¢˜.</p><h3 id="5-1-æ·»åŠ webæ”¯æŒ"><a href="#5-1-æ·»åŠ webæ”¯æŒ" class="headerlink" title="5.1 æ·»åŠ webæ”¯æŒ"></a>5.1 æ·»åŠ webæ”¯æŒ</h3><p><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230125/20230125_8.jpg" alt="æ·»åŠ è¿‡ç¨‹" style="zoom:80%;" /></p><p>æ·»åŠ ååœ¨æ ¹ç›®å½•ä¸‹å¤šäº†ä¸ªwebæ–‡ä»¶å¤¹,å¹¶æ ‡è®°ä¸ºweb.</p><div class="note info no-icon flat"><p><strong>ä¸åŒåˆ›å»ºåŒºåˆ«:</strong><br>å¦‚æœåœ¨å»ºç«‹Mavené¡¹ç›®æ—¶,ç›´æ¥æ ‡è®°ä¸ºwebé¡¹ç›®æ—¶,webæ–‡ä»¶å¤¹æ˜¯åœ¨src/mainä¸‹ä¸javaåŒçº§.<br>è€Œåƒè¿™æ ·å»ºç«‹ç©ºé¡¹ç›®åæ ‡è®°ä¸ºwebé¡¹ç›®,webæ–‡ä»¶å¤¹æ˜¯å’ŒsrcåŒçº§.</p></div><h3 id="5-2-springMVCé…ç½®çš„xmlæ–‡ä»¶"><a href="#5-2-springMVCé…ç½®çš„xmlæ–‡ä»¶" class="headerlink" title="5.2 springMVCé…ç½®çš„xmlæ–‡ä»¶"></a>5.2 springMVCé…ç½®çš„xmlæ–‡ä»¶</h3><p>æ–‡ä»¶å: <code>springMVC.xml</code></p><p>springMVCé…ç½®æ­¥éª¤:<br><div class='checkbox cyan checked'><input type="radio" checked="checked"/>            <p>æ³¨è§£é©±åŠ¨</p>            </div><br><div class='checkbox cyan checked'><input type="radio" checked="checked"/>            <p>é™æ€èµ„æºè¿‡æ»¤</p>            </div><br><div class='checkbox cyan checked'><input type="radio" checked="checked"/>            <p>æ‰«æcontrollerå±‚</p>            </div><br><div class='checkbox cyan checked'><input type="radio" checked="checked"/>            <p>è§†å›¾è§£æå™¨</p>            </div></p><p>å…·ä½“é…ç½®:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/mvc</span></span></span><br><span class="line"><span class="string"><span class="tag">       https://www.springframework.org/schema/mvc/spring-mvc.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">       https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--1.æ³¨è§£é©±åŠ¨--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--2.é™æ€èµ„æºè¿‡æ»¤--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--3.æ‰«æcontrollerå±‚--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.li.controller&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--4.è§†å›¾è§£æå™¨--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å‰ç¼€--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--åç¼€--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>è¿™é‡ŒåŒæ ·è¦å°†<code>springMVC.xml</code>ä¸ä¹‹å‰çš„é…ç½®è¿›è¡Œç›¸å…³è”.<br>é‡‡å–ä¸»é…ç½®å…³è”æ–¹å¼:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">import</span> resource=<span class="string">&quot;classpath:springMVC.xml&quot;</span> /&gt;</span><br></pre></td></tr></table></figure></p><p>è‡³æ­¤,ç›¸å…³xmlä¾èµ–å·²ç»å†™å®Œäº†:<br><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230125/20230125_7.jpg" alt="é¡¹ç›®ä¸­ä¾èµ–å…³ç³»" style="zoom:80%;" /></p><h3 id="5-3-åœ¨web-xmlä¸­æ·»åŠ ç›¸å…³é…ç½®"><a href="#5-3-åœ¨web-xmlä¸­æ·»åŠ ç›¸å…³é…ç½®" class="headerlink" title="5.3 åœ¨web.xmlä¸­æ·»åŠ ç›¸å…³é…ç½®"></a>5.3 åœ¨web.xmlä¸­æ·»åŠ ç›¸å…³é…ç½®</h3><p>å‡ ä¸ªåŸºæœ¬çš„é…ç½®:  DispatchServlet, ä¹±ç è¿‡æ»¤, Session.</p><p>é…ç½®æƒ…å†µ:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--DispatchServlet--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>SpringMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springMVC.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>SpringMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--ä¹±ç è¿‡æ»¤--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--Session--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">session-config</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">session-timeout</span>&gt;</span>15<span class="tag">&lt;/<span class="name">session-timeout</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">session-config</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5-4-åŠŸèƒ½å®ç°"><a href="#5-4-åŠŸèƒ½å®ç°" class="headerlink" title="5.4 åŠŸèƒ½å®ç°"></a>5.4 åŠŸèƒ½å®ç°</h3><h2 id="å…­-iæ•´åˆæ„Ÿæƒ³"><a href="#å…­-iæ•´åˆæ„Ÿæƒ³" class="headerlink" title="å…­. iæ•´åˆæ„Ÿæƒ³"></a>å…­. iæ•´åˆæ„Ÿæƒ³</h2><p><strong><font color=#FF0000>è¯¥é¡¹ç›®éå¸¸å€¼å¾—æ”¶è—èµ·æ¥</font></strong>.</p>]]></content>
      
      
      <categories>
          
          <category> SSM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ssmæ•´åˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¼–å†™è„šæœ¬ååŠ©ä¸Šä¼ å›¾ç‰‡</title>
      <link href="/2023/01/15/%E8%87%AA%E5%8A%A8%E5%8C%96/%E7%BC%96%E5%86%99%E8%84%9A%E6%9C%AC%E5%8D%8F%E5%8A%A9%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87/"/>
      <url>/2023/01/15/%E8%87%AA%E5%8A%A8%E5%8C%96/%E7%BC%96%E5%86%99%E8%84%9A%E6%9C%AC%E5%8D%8F%E5%8A%A9%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size=4><b>å‰è¨€ğŸ“</b></font><br>ç”±äºè²Œä¼¼PicGoä¸èƒ½å…¼å®¹vs code,ä½¿ç”¨PicGoæ–¹æ³•å¹¶æ²¡æœ‰å¤ªæ–¹ä¾¿.(è‡ªæˆ‘æ„Ÿè§‰)<br>å› æ­¤,æˆ‘æƒ³åˆ°ä½¿ç”¨batå‘½ä»¤æ¥å®ç°gitæäº¤åŠŸèƒ½.</p></div><h2 id="1-batå®ç°è‡ªåŠ¨ç”Ÿæˆç›®å½•"><a href="#1-batå®ç°è‡ªåŠ¨ç”Ÿæˆç›®å½•" class="headerlink" title="1. batå®ç°è‡ªåŠ¨ç”Ÿæˆç›®å½•"></a>1. batå®ç°è‡ªåŠ¨ç”Ÿæˆç›®å½•</h2><p>ä¸ºäº†æ–¹ä¾¿å›¾ç‰‡å¤„ç†, æˆ‘ä¼šå°†å½“å¤©çš„å›¾ç‰‡éƒ½æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­, è€Œç°åœ¨ä½¿ç”¨batå‘½ä»¤æ¥å®ç°è¯¥åŠŸèƒ½.</p><h3 id="1-1-åŸºç¡€åŠŸèƒ½"><a href="#1-1-åŸºç¡€åŠŸèƒ½" class="headerlink" title="1.1 åŸºç¡€åŠŸèƒ½"></a>1.1 åŸºç¡€åŠŸèƒ½</h3><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">::å…³é—­æ˜¾ç¤º</span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line">::æ˜¾ç¤ºæœ¬åœ°æ—¶é—´æ ¼å¼</span><br><span class="line">::<span class="built_in">echo</span> <span class="variable">%date%</span></span><br><span class="line">::å‘¨æ—¥ <span class="number">2023</span>/<span class="number">01</span>/<span class="number">15</span></span><br><span class="line"></span><br><span class="line">::dd=æ—¥æœŸ</span><br><span class="line"><span class="built_in">set</span> dd=<span class="variable">%date:~11,2%</span>  </span><br><span class="line">::mm=æœˆä»½</span><br><span class="line"><span class="built_in">set</span> mm=<span class="variable">%date:~8,2%</span></span><br><span class="line">::yy=å¹´ä»½</span><br><span class="line"><span class="built_in">set</span> yy=<span class="variable">%date:~3,4%</span></span><br><span class="line">::folder=å¹´æœˆæ—¥</span><br><span class="line"><span class="built_in">set</span> folder=&quot;<span class="variable">%yy%</span><span class="variable">%mm%</span><span class="variable">%dd%</span>&quot;</span><br><span class="line"></span><br><span class="line">::åˆ›å»ºæ–‡ä»¶å¤¹</span><br><span class="line"><span class="built_in">md</span>  <span class="variable">%folder%</span></span><br><span class="line"></span><br><span class="line">::æš‚åœï¼Œä¿æŒ<span class="built_in">cmd</span>çª—å£ï¼Œè°ƒè¯•æ—¶æ–¹ä¾¿ä¿¡æ¯æŸ¥çœ‹ï¼Œæ­£å¸¸ä½¿ç”¨æ—¶å¯åˆ é™¤</span><br><span class="line">::<span class="built_in">pause</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="1-2-è¿›ä¸€æ­¥å·æ‡’"><a href="#1-2-è¿›ä¸€æ­¥å·æ‡’" class="headerlink" title="1.2 è¿›ä¸€æ­¥å·æ‡’"></a>1.2 è¿›ä¸€æ­¥å·æ‡’</h3><p>ä¸ºäº†è¿›ä¸€æ­¥æ–¹ä¾¿å›¾ç‰‡é‡å‘½å,å¯ä»¥è¿›ä¸€æ­¥æ”¹é€ ä»£ç :æ–°å¢ä¿å­˜ä¿¡æ¯è‡³å‰ªåˆ‡æ¿åŠŸèƒ½!<br>åœ¨ä¸Šè¿°ä»£ç åè¿½åŠ :<br><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">::æ–°å¢ä¿å­˜åˆ°å‰ªåˆ‡æ¿</span><br><span class="line"><span class="built_in">cd</span> D:\Blog_my\blog_img\blogImg\img\<span class="variable">%folder%</span></span><br><span class="line"></span><br><span class="line">::è¯»å–å½“å‰æ–‡ä»¶å¤¹çš„æ–‡ä»¶ä¸ªæ•°</span><br><span class="line"><span class="keyword">for</span> /f &quot;delims=&quot; <span class="variable">%%a</span> <span class="keyword">in</span> (&#x27;<span class="built_in">dir</span> /b ^| <span class="built_in">find</span> /v /c &quot;&amp;#@&quot;&#x27;) <span class="keyword">do</span> (</span><br><span class="line">  <span class="built_in">set</span> count=<span class="variable">%%a</span></span><br><span class="line">)</span><br><span class="line">::ä¸ªæ•°åŠ <span class="number">1</span></span><br><span class="line"><span class="built_in">set</span>/a count+=<span class="number">1</span></span><br><span class="line">::<span class="built_in">echo</span> <span class="variable">%count%</span></span><br><span class="line"></span><br><span class="line">::æ–‡ä»¶é‡å‘½åæ ¼å¼</span><br><span class="line"><span class="built_in">set</span> file=&quot;<span class="variable">%yy%</span><span class="variable">%mm%</span><span class="variable">%dd%</span>_<span class="variable">%count%</span>&quot;</span><br><span class="line">::æ–‡ä»¶å»é™¤ç©ºæ ¼</span><br><span class="line"><span class="built_in">set</span> &quot;file=%file: =%&quot;</span><br><span class="line">::<span class="built_in">echo</span> <span class="variable">%file%</span></span><br><span class="line"></span><br><span class="line">:: ä¿å­˜åˆ°å‰ªåˆ‡æ¿ä¸­</span><br><span class="line"><span class="built_in">set</span>/p=<span class="variable">%file%</span>&lt;<span class="built_in">nul</span> | clip</span><br><span class="line"></span><br><span class="line">::æš‚åœï¼Œä¿æŒ<span class="built_in">cmd</span>çª—å£ï¼Œè°ƒè¯•æ—¶æ–¹ä¾¿ä¿¡æ¯æŸ¥çœ‹ï¼Œæ­£å¸¸ä½¿ç”¨æ—¶å¯åˆ é™¤</span><br><span class="line">::<span class="built_in">pause</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></p><h3 id="1-3-å…¨éƒ¨ä»£ç å’Œæ€»ç»“"><a href="#1-3-å…¨éƒ¨ä»£ç å’Œæ€»ç»“" class="headerlink" title="1.3 å…¨éƒ¨ä»£ç å’Œæ€»ç»“"></a>1.3 å…¨éƒ¨ä»£ç å’Œæ€»ç»“</h3><p>å…¨éƒ¨ä»£ç :<br><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">::å…³é—­æ˜¾ç¤º</span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line">::æ˜¾ç¤ºæœ¬åœ°æ—¶é—´æ ¼å¼</span><br><span class="line">::<span class="built_in">echo</span> <span class="variable">%date%</span></span><br><span class="line">::å‘¨æ—¥ <span class="number">2023</span>/<span class="number">01</span>/<span class="number">15</span></span><br><span class="line"></span><br><span class="line">::dd=æ—¥æœŸ</span><br><span class="line"><span class="built_in">set</span> dd=<span class="variable">%date:~11,2%</span>  </span><br><span class="line">::mm=æœˆä»½</span><br><span class="line"><span class="built_in">set</span> mm=<span class="variable">%date:~8,2%</span></span><br><span class="line">::yy=å¹´ä»½</span><br><span class="line"><span class="built_in">set</span> yy=<span class="variable">%date:~3,4%</span></span><br><span class="line">::folder=å¹´æœˆæ—¥</span><br><span class="line"><span class="built_in">set</span> folder=&quot;<span class="variable">%yy%</span><span class="variable">%mm%</span><span class="variable">%dd%</span>&quot;</span><br><span class="line"><span class="built_in">set</span> &quot;folder=%folder: =%&quot;</span><br><span class="line"></span><br><span class="line">::åˆ›å»ºæ–‡ä»¶å¤¹</span><br><span class="line"><span class="built_in">md</span>  <span class="variable">%folder%</span></span><br><span class="line"></span><br><span class="line">::æ–°å¢ä¿å­˜åˆ°å‰ªåˆ‡æ¿</span><br><span class="line"><span class="built_in">cd</span> D:\Blog_my\blog_img\blogImg\img\<span class="variable">%folder%</span></span><br><span class="line"></span><br><span class="line">::è¯»å–å½“å‰æ–‡ä»¶å¤¹çš„æ–‡ä»¶ä¸ªæ•°</span><br><span class="line"><span class="keyword">for</span> /f &quot;delims=&quot; <span class="variable">%%a</span> <span class="keyword">in</span> (&#x27;<span class="built_in">dir</span> /b ^| <span class="built_in">find</span> /v /c &quot;&amp;#@&quot;&#x27;) <span class="keyword">do</span> (</span><br><span class="line">  <span class="built_in">set</span> count=<span class="variable">%%a</span></span><br><span class="line">)</span><br><span class="line">::ä¸ªæ•°åŠ <span class="number">1</span></span><br><span class="line"><span class="built_in">set</span>/a count+=<span class="number">1</span></span><br><span class="line">::<span class="built_in">echo</span> <span class="variable">%count%</span></span><br><span class="line"></span><br><span class="line">::æ–‡ä»¶é‡å‘½åæ ¼å¼</span><br><span class="line"><span class="built_in">set</span> file=&quot;<span class="variable">%yy%</span><span class="variable">%mm%</span><span class="variable">%dd%</span>_<span class="variable">%count%</span>&quot;</span><br><span class="line">::æ–‡ä»¶å»é™¤ç©ºæ ¼</span><br><span class="line"><span class="built_in">set</span> &quot;file=%file: =%&quot;</span><br><span class="line">::<span class="built_in">echo</span> <span class="variable">%file%</span></span><br><span class="line"></span><br><span class="line">:: ä¿å­˜åˆ°å‰ªåˆ‡æ¿ä¸­</span><br><span class="line"><span class="built_in">set</span>/p=<span class="variable">%file%</span>&lt;<span class="built_in">nul</span> | clip</span><br><span class="line"></span><br><span class="line">::æš‚åœï¼Œä¿æŒ<span class="built_in">cmd</span>çª—å£ï¼Œè°ƒè¯•æ—¶æ–¹ä¾¿ä¿¡æ¯æŸ¥çœ‹ï¼Œæ­£å¸¸ä½¿ç”¨æ—¶å¯åˆ é™¤</span><br><span class="line">::<span class="built_in">pause</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><br><strong>æ€»ç»“</strong>:<br>ä¸åŒç”µè„‘ä¸­æ—¶é—´æ ¼å¼æœ‰æ‰€ä¸åŒ,éœ€è¦è‡ªå·±å¾®è°ƒä¸€ä¸‹.</p><p>ç›¸å…³é“¾æ¥:<br><a href="https://blog.csdn.net/weixin_42985452/article/details/113789487">Windowsæ‰¹å¤„ç†(cmd/bat)å¿«é€Ÿæ–°å»ºæ–‡ä»¶å¤¹</a>.<br><a href="https://blog.51cto.com/lexsaints/5094214">Bat å»æ‰å˜é‡å­—ç¬¦ä¸²ä¸­çš„ç©ºæ ¼</a>.<br><a href="https://blog.csdn.net/x_iya/article/details/51794178">æ‰¹å¤„ç†å°†å­—ç¬¦ä¸²è¾“å‡ºåˆ°Windowså‰ªè´´æ¿</a>.</p><h2 id="2-batå®ç°gitè‡ªåŠ¨æäº¤"><a href="#2-batå®ç°gitè‡ªåŠ¨æäº¤" class="headerlink" title="2. batå®ç°gitè‡ªåŠ¨æäº¤"></a>2. batå®ç°gitè‡ªåŠ¨æäº¤</h2><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">cd</span> D:\Blog_my\blog_img\blogImg</span><br><span class="line"></span><br><span class="line">:: gitå‘½ä»¤</span><br><span class="line">git add . </span><br><span class="line">git commit -m &quot;æ›´æ–°å›¾ç‰‡&quot;</span><br><span class="line">git push </span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure><p>ç›¸æ¯”ä¸Šä¸€ä¸ª,éå¸¸ç®€å•.</p><h2 id="3-batå®ç°hexoä¸‰è¿"><a href="#3-batå®ç°hexoä¸‰è¿" class="headerlink" title="3. batå®ç°hexoä¸‰è¿"></a>3. batå®ç°hexoä¸‰è¿</h2><p>æœ¬åœ°ä¸‰è¿:<br><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">cd</span> D:\Blog_my\blog_hexo</span><br><span class="line"></span><br><span class="line">:: hexoä¸‰è¿</span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure><br>ä¸Šä¼ ä¸‰è¿:<br><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">cd</span> D:\Blog_my\blog_hexo</span><br><span class="line"></span><br><span class="line">:: hexoä¸‰è¿</span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure></p><h2 id="4-ä½¿ç”¨"><a href="#4-ä½¿ç”¨" class="headerlink" title="4. ä½¿ç”¨"></a>4. ä½¿ç”¨</h2><p>ä¸€èˆ¬å…ˆä½¿ç”¨<code>æŒ‰æ—¥æœŸæ–°å»ºæ–‡ä»¶å¤¹.bat</code>åˆ›å»ºæ–‡ä»¶å¤¹ å’Œ ç”Ÿæˆæ–°æ–‡ä»¶å.<br>åšå®¢ç¼–å†™å®Œå,ä½¿ç”¨<code>æœ¬åœ°ä¸‰è¿.bat</code>æ£€æŸ¥åšå®¢,ç„¶åä½¿ç”¨<code>ä¸Šä¼ ä¸‰è¿.bat</code>å®ç°åšå®¢ä¸Šä¼ .<br>æœ€åä½¿ç”¨<code>blogè‡ªåŠ¨æäº¤è„šæœ¬.bat</code>å®ç°gitä¸Šä¼ åˆ°githubä¸­.</p><h2 id="5-æ”¹è¿›1-batæ–‡ä»¶é›†ä¸­"><a href="#5-æ”¹è¿›1-batæ–‡ä»¶é›†ä¸­" class="headerlink" title="5. æ”¹è¿›1: batæ–‡ä»¶é›†ä¸­"></a>5. æ”¹è¿›1: batæ–‡ä»¶é›†ä¸­</h2><p>ç”±äºä¸åŒçš„batæ–‡ä»¶åœ¨ä¸åŒçš„æ–‡ä»¶å¤¹ä¸‹,ä¸ºäº†æ›´åŠ æ–¹ä¾¿çš„ä½¿ç”¨batå‘½ä»¤,æˆ‘å°†å®ƒä»¬éƒ½æ”¾å…¥åŒä¸€æ–‡ä»¶å¤¹ä¸‹äº†.</p><p>å› æ­¤,<u>batæ–‡ä»¶éœ€è¦åŠ ä¸Šåˆ‡æ¢ç›®å½•å‘½ä»¤!</u><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">:: åˆ‡æ¢ç›®å½•</span><br><span class="line">cd /d D:\Blog_my\blog_img\blogImg</span><br></pre></td></tr></table></figure></p><p>æ”¹è¿›æ•ˆæœ:<br><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230125/20230125_12.jpg" alt="æœªåŠ è½½å›¾ç‰‡" style="zoom:80%;" /></p><h2 id="6-æ”¹è¿›2-æ·»åŠ é»˜è®¤å€¼"><a href="#6-æ”¹è¿›2-æ·»åŠ é»˜è®¤å€¼" class="headerlink" title="6. æ”¹è¿›2: æ·»åŠ é»˜è®¤å€¼"></a>6. æ”¹è¿›2: æ·»åŠ é»˜è®¤å€¼</h2><p>ä¸Šä¼ å›¾ç‰‡é»˜è®¤commitä¸ºâ€æ›´æ–°å›¾ç‰‡â€.<br>å…¶ä»–æƒ…å†µè¾“å…¥ä¸ºå‡†.</p><p>ä»£ç :<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">set /p var=è¾“å…¥æè¿°:</span><br><span class="line"></span><br><span class="line">if &quot;%var%&quot;==&quot;&quot; set var=æ›´æ–°å›¾ç‰‡</span><br><span class="line">echo %var%</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> è‡ªåŠ¨åŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç ´è§£ç›¸å…³(ä¾›å­¦ä¹ ä½¿ç”¨)</title>
      <link href="/2023/01/14/%E7%A0%B4%E8%A7%A3%E7%9B%B8%E5%85%B3-%E4%BE%9B%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8/"/>
      <url>/2023/01/14/%E7%A0%B4%E8%A7%A3%E7%9B%B8%E5%85%B3-%E4%BE%9B%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><font size=4><b>å‰è¨€ğŸ“</b></font><p>è¯¥æ–¹æ³•æ¥è‡ªäºå…¬ä¼—å· <span class='p red'>ç»ˆç ä¸€ç”Ÿ</span> .<br>è¯¥å…¬ä¼—å·æä¾› ä¸´æ—¶æ¿€æ´»ç  , åŠæ°¸ä¹…æ¿€æ´»ç  ä»¥åŠæ­£ç‰ˆæˆæƒ .</p></div><h2 id="pycharmç ´è§£è¿‡ç¨‹"><a href="#pycharmç ´è§£è¿‡ç¨‹" class="headerlink" title="pycharmç ´è§£è¿‡ç¨‹"></a>pycharmç ´è§£è¿‡ç¨‹</h2><p>åœ¨å…¬ä¼—å·ä¸­ä¸‹è½½å¯¹åº”æ–‡ä»¶ <mark>jihuo-tool-2022.3.zip</mark>.</p><p>æŒ‰ç…§æ•™ç¨‹æ‰§è¡Œå¯¹åº”æ–‡ä»¶.(åœ¨sciptsæ–‡ä»¶å¤¹ä¸‹)</p><p>æ¿€æ´»æˆåŠŸç»“æœ:<br><img src="https://cdn.staticaly.com/gh/qvq-ovo/blogImg/main/img/20230114/1.jpg" title="æˆªå›¾å±•ç¤º" alt="æœªåŠ è½½æˆåŠŸ" style="zoom:80%;" /></p><p>è™½ç„¶æ²¡æœ‰åˆ°æ°¸è¿œ,è‡³å°‘èƒ½ä¸€ä¸¤å¹´å®‰å¿ƒä½¿ç”¨.</p><h2 id="ideaç ´è§£è¿‡ç¨‹"><a href="#ideaç ´è§£è¿‡ç¨‹" class="headerlink" title="ideaç ´è§£è¿‡ç¨‹"></a>ideaç ´è§£è¿‡ç¨‹</h2><p>é“¾æ¥: <a href="http://www.itzoo.net/idea/intellij-idea2021-3-latest-version-login-free-crack-patch-permanent-crack-free-tutorial-filter-agent.html">IntelliJ IDEA2021.3 æœ€æ–°ç‰ˆæœ¬ å…ç™»é™†ç ´è§£è¡¥ä¸ æ°¸ä¹…ç ´è§£ å…è´¹æ•™ç¨‹</a>.<br>ç›®å‰æ¥çœ‹,ç½‘ä¸Šæœ€å¥½çš„.</p><p><strong>1:</strong> å…ˆè¿›å…¥idea<br>ä½¿ç”¨å…è´¹æ¿€æ´»ç : <a href="http://idea.94goo.com">http://idea.94goo.com</a></p><p><strong>2:</strong> æ·»åŠ è¡¥ä¸æ–‡ä»¶<br>æ‰“å¼€èœå•æ Help -&gt; Edit Custom VM Optionsâ€¦,<br>å¼€å§‹æ·»åŠ é™„ä»¶ä¸­ä¸‹è½½çš„filter-agent.jar.</p><p>ç½‘é¡µæä¾›çš„å¤‡ç”¨æ–¹æ¡ˆ: <a href="http://blog.idejihuo.com/jetbrains/how-do-i-add-agent-configuration-if-the-activation-code-is-invalid.html">å¦ä¸€ç§æ·»åŠ è¡¥ä¸çš„æ–¹å¼</a></p><p>ç½‘ç«™å…³è”çš„å…¬ä¼—å·æ˜¯: ç»ˆç ä¸€ç”Ÿ.<br>ideaç‰ˆæœ¬æ˜¯2021.2.1</p>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç ´è§£ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonæ‰“åŒ…</title>
      <link href="/2023/01/14/%E8%87%AA%E5%8A%A8%E5%8C%96/python%E6%89%93%E5%8C%85/"/>
      <url>/2023/01/14/%E8%87%AA%E5%8A%A8%E5%8C%96/python%E6%89%93%E5%8C%85/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><font size=4><b>å‰è¨€ğŸ“</b></font><p>å…ˆè·Ÿç€bç«™<a href="">è§†é¢‘</a>å­¦ä¹ ç›¸å…³çŸ¥è¯†.</p></div><h2 id="1-exeæ‰“åŒ…"><a href="#1-exeæ‰“åŒ…" class="headerlink" title="1. exeæ‰“åŒ…"></a>1. exeæ‰“åŒ…</h2><h3 id="1-1-å®‰è£…ç¬¬ä¸‰æ–¹åº“-Pyinstaller"><a href="#1-1-å®‰è£…ç¬¬ä¸‰æ–¹åº“-Pyinstaller" class="headerlink" title="1.1 å®‰è£…ç¬¬ä¸‰æ–¹åº“ Pyinstaller"></a>1.1 å®‰è£…ç¬¬ä¸‰æ–¹åº“ Pyinstaller</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip/conda install pytinstaller</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹:</p><ul><li>ä¸å¯è·¨å¹³å°,ä½†æ”¯æŒmac win</li><li>åœ¨è™šæ‹Ÿç¯å¢ƒä¸‹æ‰“åŒ…(é¿å¼€ä¸å¿…è¦çš„ä¸‰æ–¹åº“)</li></ul><h3 id="1-2-æ‰“åŒ…æˆå¤šæ–‡ä»¶"><a href="#1-2-æ‰“åŒ…æˆå¤šæ–‡ä»¶" class="headerlink" title="1.2 æ‰“åŒ…æˆå¤šæ–‡ä»¶"></a>1.2 æ‰“åŒ…æˆå¤šæ–‡ä»¶</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyinstaller -D pyæ–‡ä»¶</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆçš„<code>dist</code>ç›®å½•ä¸‹æ˜¯æˆ‘ä»¬éœ€è¦çš„ä¸œè¥¿.è‡³äº<code>*.spec</code>,<code>build</code>æ–‡ä»¶å¤¹ éƒ½æ˜¯è¿‡ç¨‹äº§ç‰©.<br>distä¸‹.exeæ–‡ä»¶æ˜¯æˆ‘ä»¬æ‰€éœ€è¦çš„</p>]]></content>
      
      
      <categories>
          
          <category> æ‰“åŒ… </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>spring5-day2</title>
      <link href="/2023/01/13/SSM%E5%AD%A6%E4%B9%A0/spring5-day2/"/>
      <url>/2023/01/13/SSM%E5%AD%A6%E4%B9%A0/spring5-day2/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><font size=4><b>å‰è¨€ğŸ“</b></font><p>å­¦ä¹ ä»¥ä¸‹çŸ¥è¯†ç‚¹:</p><ul><li>setæ³¨å…¥</li><li>å•ä¾‹æ¨¡å¼(singleton),åŸå‹æ¨¡å¼(prototype)</li><li>è‡ªåŠ¨è£…é…</li><li>é€šè¿‡<code>@Autowired</code>æ³¨é‡Šå®ç°è‡ªåŠ¨è£…é…</li></ul></div><h3 id="ä¾èµ–æ³¨å…¥"><a href="#ä¾èµ–æ³¨å…¥" class="headerlink" title="ä¾èµ–æ³¨å…¥"></a>ä¾èµ–æ³¨å…¥</h3><h4 id="1-æ„é€ å™¨æ³¨å…¥"><a href="#1-æ„é€ å™¨æ³¨å…¥" class="headerlink" title="1.æ„é€ å™¨æ³¨å…¥"></a>1.æ„é€ å™¨æ³¨å…¥</h4><p>å‰é¢å·²ç»è¯´è¿‡äº†(é»˜è®¤æ— å‚,æœ‰å‚æœ‰ä¸‰ç§æ–¹å¼)</p><h4 id="2-setæ³¨å…¥-é‡ç‚¹"><a href="#2-setæ³¨å…¥-é‡ç‚¹" class="headerlink" title="2.setæ³¨å…¥[é‡ç‚¹]"></a>2.setæ³¨å…¥[<font color=#FF0000>é‡ç‚¹</font>]</h4><ul><li>ä¾èµ–: Beanå¯¹è±¡çš„åˆ›å»ºä¾èµ–äºå®¹å™¨</li><li>æ³¨å…¥: Beanå¯¹è±¡ä¸­çš„æ‰€æœ‰å±æ€§,æ˜¯ç”±å®¹å™¨æ¥æ³¨å…¥çš„.</li></ul><p>ç¯å¢ƒ:<br>å¤æ‚ç±»å‹Student<br>è·¯å¾„:<code>/spring-study/spring-04-di</code><br>Studentçš„ç›¸å…³å±æ€§:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤æ‚çš„å±æ€§</span></span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">private</span> Address address;</span><br><span class="line"><span class="keyword">private</span> String[] books;</span><br><span class="line"><span class="keyword">private</span> List&lt;String&gt; hobbys;</span><br><span class="line"><span class="keyword">private</span> Map&lt;String,String&gt; card;</span><br><span class="line"><span class="keyword">private</span> Set&lt;String&gt; game;</span><br><span class="line"><span class="keyword">private</span> Properties info;<span class="comment">// é…ç½®ç±»</span></span><br><span class="line"><span class="keyword">private</span> String wife; <span class="comment">//ç”¨äºnullèµ‹å€¼</span></span><br></pre></td></tr></table></figure><br>::: warning<br><strong>æç¤º</strong><br>è¿™äº›å±æ€§éƒ½è¦å†™å¯¹åº”çš„get,setæ–¹æ³•<br>(æ²¡æœ‰setæ–¹æ³•æ€ä¹ˆsetæ³¨å…¥å•Š)<br>:::</p><p>ä¸åŒç±»å‹å¯¹åº”çš„setæ³¨å…¥ä»£ç :<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;address&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.li.pojo.Address&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;address&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ä¸­å›½&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.li.pojo.Student&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ™®é€šå€¼æ³¨å…¥: value--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xx&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Beanæ³¨å…¥: ref--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;address&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;address&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- çœ‹äº†ä¸‹é¢çš„å°±çŸ¥é“,ä¸Šé¢çš„è¿™ä¸¤ä¸ªç®—æ˜¯ç®€å†™äº†æ³¨å…¥æ–¹å¼ --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--æ•°ç»„æ³¨å…¥: --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;books&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>è¥¿æ¸¸è®°<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>ä¸‰å›½æ¼”ä¹‰<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>æ°´æµ’ä¼ <span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>jojo<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Listæ³¨å…¥: --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;hobbys&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>å¬æ­Œ<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>çœ‹ç”µå½±<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Mapæ³¨å…¥: --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--mapçš„æ³¨å…¥å’Œä¸Šé¢ä¸¤ä¸ªåˆä¸åŒå“¦--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;card&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;èº«ä»½è¯&quot;</span> <span class="attr">value</span>=<span class="string">&quot;124124&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;é“¶è¡Œå¡&quot;</span> <span class="attr">value</span>=<span class="string">&quot;124125124&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Setæ³¨å…¥: --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;game&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>WeGame<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>QQ<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--ç‰¹æ®Šå€¼æ³¨å…¥--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ç©ºå€¼æ³¨å…¥--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;wife&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">null</span>&gt;</span><span class="tag">&lt;/<span class="name">null</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--ç‰¹æ®Šç±»å‹:Propertiesçš„æ³¨å…¥: --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;å­¦å·&quot;</span>&gt;</span>2352512421<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;ç”Ÿæ—¥&quot;</span>&gt;</span>2001-13-2<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;æ€§åˆ«&quot;</span>&gt;</span>ç”·æ€§<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;username&quot;</span>&gt;</span>root<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><br>å¾ˆæ˜¾ç„¶:</p><ul><li>==valueæ³¨å…¥å’Œrefæ³¨å…¥æœ€å¸¸è§==,æ‰€æœ‰å°±æœ‰ç®€å†™æ–¹å¼.</li><li>List,Array,Setéƒ½æ˜¯å†…éƒ¨å­˜ä¸€ç±»å€¼çš„,æ³¨å…¥æ–¹å¼éƒ½ç›¸åŒ</li><li>Map,Propertiesè¿™ä¸¤ç§==æœ€ç‰¹åˆ«==,æ‰€ä»¥æ³¨å…¥çš„æ–¹å¼ä¹Ÿä¸åŒ(æ³¨:è¿™ä¸¤ç§ç›¸äº’ä¹‹é—´ä¹Ÿä¸åŒ)</li><li>nullå€¼æ³¨å…¥æ¯”è¾ƒç‰¹æ®Šå“¦,æœ‰ä¸€ä¸ªä¸“é—¨çš„æ ‡ç­¾.</li></ul><p>è¿™äº›æ³¨å…¥æ–¹å¼éƒ½å¯ä»¥åœ¨å®˜ç½‘æ‰¾åˆ°ç›¸åŒçš„:<br><img src="/spring5-day2/1.jpg" alt="å®˜ç½‘éƒ¨åˆ†æˆªå›¾"></p><h4 id="på‘½åå’Œcå‘½åç©ºé—´æ³¨å…¥-æ‰©å±•æ–¹å¼æ³¨å…¥"><a href="#på‘½åå’Œcå‘½åç©ºé—´æ³¨å…¥-æ‰©å±•æ–¹å¼æ³¨å…¥" class="headerlink" title="på‘½åå’Œcå‘½åç©ºé—´æ³¨å…¥(æ‰©å±•æ–¹å¼æ³¨å…¥)"></a>på‘½åå’Œcå‘½åç©ºé—´æ³¨å…¥(æ‰©å±•æ–¹å¼æ³¨å…¥)</h4><p>è¿™ä¸¤ç§å‘½åç©ºé—´æ³¨å…¥çš„ä½¿ç”¨éœ€è¦åœ¨å‰é¢ç”¨åˆ°çš„<code>beans.xml</code>ä¸­åŠ ä¸Šå¯¹åº”çš„<strong>çº¦æŸè¯­å¥</strong>:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- på‘½åç©ºé—´ --&gt;</span></span><br><span class="line">xmlns:p=&quot;http://www.springframework.org/schema/p&quot;</span><br><span class="line"><span class="comment">&lt;!-- cå‘½åç©ºé—´ --&gt;</span></span><br><span class="line">xmlns:c=&quot;http://www.springframework.org/schema/c&quot;</span><br></pre></td></tr></table></figure><br>è¿™ä¸ªæ˜¯è¦åŠ åœ¨å¤´éƒ¨æ ‡ç­¾<code>beans</code>ä¸­çš„<br>å°±æ˜¯è¿™æ ·çš„:<br><img src="/spring5-day2/2.jpg" alt="å›¾ç‰‡"></p><p>på‘½åç©ºé—´çš„ç”¨æ³•:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--på‘½åç©ºé—´æ³¨å…¥, å¯ä»¥ç›´æ¥æ³¨å…¥å±æ€§,p: propertyçš„ç®€å†™--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å½“ç„¶è¿™ç§æ³¨å…¥æ–¹å¼åªèƒ½æ³¨å…¥ä¸€äº›ç®€å•çš„ä¸œè¥¿.å¯ä»¥è¯´æ˜¯åˆå·äº†ä¸€æ³¢æ‡’--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.li.pojo.User&quot;</span> <span class="attr">p:age</span>=<span class="string">&quot;18&quot;</span> <span class="attr">p:name</span>=<span class="string">&quot;xx&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><br>cå‘½åç©ºé—´çš„ç”¨æ³•:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--cå‘½åç©ºé—´æ³¨å…¥,é€šè¿‡æ„é€ å™¨æ³¨å…¥,c:constructs--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¿™ä¸ªæ³¨å…¥æ–¹å¼éœ€è¦å†™å¯¹åº”çš„æœ‰å‚æ„é€ å™¨.ä¹Ÿç®—æ˜¯å¯¹åº”çš„ç®€åŒ–å§--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.li.pojo.User&quot;</span> <span class="attr">c:age</span>=<span class="string">&quot;19&quot;</span> <span class="attr">c:name</span>=<span class="string">&quot;xxx&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></p><p>::: tips<br><strong>æ–°ç”¨æ³•</strong><br><code>// ä¹‹å‰æ˜¯è¿™æ ·å¼ºè½¬çš„</code><br><code>Student student = (Student) context.getBean(&quot;student&quot;);</code></p><p><code>// è¿™é‡Œå°†è¦çš„ç±»å‹ä¼ é€’è¿›å»äº†.ç”¨åˆ°äº†åå°„</code><br><code>User user = context.getBean(&quot;user&quot;,User.class);</code></p><p>:::</p><p>ä¾èµ–æ³¨å…¥å°±å…ˆè®²åˆ°è¿™é‡Œäº†.<br>çœ‹<a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-dependencies">å®˜æ–¹æ–‡æ¡£</a>å°±çŸ¥é“è¿™é‡Œä¸æ­¢è¿™ç‚¹.<br><img src="/spring5-day2/3.jpg" alt="å¦‚å›¾"></p><h3 id="beançš„ä½œç”¨åŸŸ"><a href="#beançš„ä½œç”¨åŸŸ" class="headerlink" title="beançš„ä½œç”¨åŸŸ"></a>beançš„ä½œç”¨åŸŸ</h3><p>å®˜ç½‘èµ„æ–™:<br><img src="/spring5-day2/4.jpg" alt="beanä½œç”¨åŸŸ"><br><strong>åœ¨è¿™é‡Œé‡ç‚¹æŒæ¡å‰ä¸¤ä¸ª</strong><br>åé¢å››ä¸ªä¸€çœ‹å°±çŸ¥é“æ˜¯SpringMVCä¸­çš„.</p><h4 id="singleton-å•ä¾‹æ¨¡å¼"><a href="#singleton-å•ä¾‹æ¨¡å¼" class="headerlink" title="singleton(å•ä¾‹æ¨¡å¼)"></a>singleton(å•ä¾‹æ¨¡å¼)</h4><p>å®˜ç½‘ç»™çš„æè¿°å›¾ç‰‡:<br><img src="/spring5-day2/5.jpg" alt="singleton"><br>==å•ä¾‹æ¨¡å¼æ˜¯é»˜è®¤æ¨¡å¼==.è¿™ä¸€ç‚¹ä¹‹å‰åœ¨<code>bean.xml</code>é…ç½®è®²è§£ä¸­å°±æè¿‡ä¸€æ¬¡äº†.<br>xmlé…ç½®:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;..&quot;</span> <span class="attr">class</span>=<span class="string">&quot;...&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;singleton&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h4 id="prototype-åŸå‹æ¨¡å¼"><a href="#prototype-åŸå‹æ¨¡å¼" class="headerlink" title="prototype(åŸå‹æ¨¡å¼)"></a>prototype(åŸå‹æ¨¡å¼)</h4><p>è¯´ç™½äº†å°±æ˜¯==æ¯æ¬¡ä»å®¹å™¨ä¸­getæ—¶éƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°å¯¹è±¡.==<br>è¿™ä¸€ç‚¹å’Œå•ä¾‹æ¨¡å¼æ˜¯ç›¸å¯¹çš„.<br>å®˜ç½‘ç»™çš„æè¿°å›¾ç‰‡:<br><img src="/spring5-day2/6.jpg" alt="Prototype"></p><p>xmlé…ç½®:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;..&quot;</span> <span class="attr">class</span>=<span class="string">&quot;...&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;prototype&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h4 id="å…¶ä½™çš„å‡ ä¸ªæ¨¡å¼-request-session-application"><a href="#å…¶ä½™çš„å‡ ä¸ªæ¨¡å¼-request-session-application" class="headerlink" title="å…¶ä½™çš„å‡ ä¸ªæ¨¡å¼:request,session,application"></a>å…¶ä½™çš„å‡ ä¸ªæ¨¡å¼:request,session,application</h4><p>è¿™äº›åªèƒ½åœ¨webå¼€å‘ä¸­ç”¨åˆ°.<br>æ‰€ä»¥è¿™é‡Œå°±ä¸å±•ç¤ºäº†.</p><h3 id="è‡ªåŠ¨è£…é…Bean"><a href="#è‡ªåŠ¨è£…é…Bean" class="headerlink" title="è‡ªåŠ¨è£…é…Bean"></a>è‡ªåŠ¨è£…é…Bean</h3><p><strong>è‡ªåŠ¨è£…é…æ˜¯Springæ»¡è¶³beanä¾èµ–çš„ä¸€ç§æ–¹å¼</strong><br>Springä¸­æœ‰==ä¸‰ç§è£…é…çš„æ–¹å¼==:</p><ol><li>åœ¨<code>xml</code>ä¸­æ˜¾å¼é…ç½®(å‰é¢ä¸€ç›´ç”¨çš„)</li><li>åœ¨<code>java</code>ä¸­æ˜¾å¼é…ç½®</li><li>éšå¼çš„è‡ªåŠ¨è£…é…bean[<font color=#FF0000>é‡ç‚¹</font>]</li></ol><p>è‡ªåŠ¨è£…é…çš„è·¯å¾„:<code>/spring-study/spring-05-autowired</code></p><p>å…ˆé…ç½®å¥½ç¯å¢ƒ(å’Œä¹‹å‰çš„ä¸€æ¨¡ä¸€æ ·)<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;cat&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.li.pojo.Cat&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dog&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.li.pojo.Dog&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;people&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.li.pojo.People&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span>  <span class="attr">value</span>=<span class="string">&quot;xxx&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dog&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dog&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;cat&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;cat&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h4 id="è‡ªåŠ¨è£…é…çš„ä¸¤ç§æ–¹å¼"><a href="#è‡ªåŠ¨è£…é…çš„ä¸¤ç§æ–¹å¼" class="headerlink" title="==è‡ªåŠ¨è£…é…çš„ä¸¤ç§æ–¹å¼=="></a>==è‡ªåŠ¨è£…é…çš„ä¸¤ç§æ–¹å¼==</h4><p><strong>byName</strong>:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--è‡ªåŠ¨è£…é…byName: ä¼šè‡ªåŠ¨åœ¨å®¹å™¨ä¸Šä¸‹æ–‡ä¸­æ‰¾å’Œè‡ªå·±å¯¹è±¡setæ–¹æ³•åé¢å€¼å¯¹åº”çš„bean id--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;people&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.li.pojo.People&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byName&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span>  <span class="attr">value</span>=<span class="string">&quot;xxx&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><br>byNameå°±æ˜¯æ ¹æ®beançš„idæ¥æ‰¾çš„.<br>æ‰€ä»¥è¦ä¿è¯æ‰€æœ‰çš„idå”¯ä¸€,å¹¶ä¸”è¿™ä¸ªbeanéœ€è¦å’Œè‡ªåŠ¨æ³¨å…¥çš„å±æ€§çš„setæ–¹æ³•çš„å€¼ä¸€è‡´.</p><p><strong>byType</strong>:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;people&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.li.pojo.People&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byType&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span>  <span class="attr">value</span>=<span class="string">&quot;xxx&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><br>byTypeå°±æ˜¯æ ¹æ®å¯¹è±¡å±æ€§ç±»å‹ç›¸åŒçš„è¿›è¡ŒåŒ¹é….<br>å¦‚æœç›¸åŒTypeæœ‰å¤šä¸ªå°±ä¼šæŠ¥é”™,æ‰€ä»¥è¦ä¿è¯ç±»å‹å…¨å±€å”¯ä¸€,å¹¶ä¸”è¿™ä¸ªbeanéœ€è¦å’Œè‡ªåŠ¨æ³¨å…¥çš„å±æ€§çš„ç±»å‹ä¸€è‡´.<br>ä¸è¿‡byTypeå¯ä»¥çœç•¥idè‡ªåŠ¨è£…é….(byNameå°±ä¸è¡Œ)<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.li.pojo.Cat&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.li.pojo.Dog&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;people&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.li.pojo.People&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byType&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span>  <span class="attr">value</span>=<span class="string">&quot;xxx&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h4 id="ä½¿ç”¨æ³¨è§£å®ç°è‡ªåŠ¨è£…é…"><a href="#ä½¿ç”¨æ³¨è§£å®ç°è‡ªåŠ¨è£…é…" class="headerlink" title="ä½¿ç”¨æ³¨è§£å®ç°è‡ªåŠ¨è£…é…"></a>ä½¿ç”¨æ³¨è§£å®ç°è‡ªåŠ¨è£…é…</h4><p>æ˜¯ä¸æ˜¯è§‰å¾—ä¸Šé¢ä¸¤ç§æ–¹å¼è¿˜æ˜¯æœ‰ç‚¹éº»çƒ¦.QvQ<br>ç°åœ¨åœ¨è¿›è¡Œè¿›ä¸€æ­¥ç®€åŒ–.<br><em>Springä»2.5å°±æ”¯æŒæ³¨è§£äº†.</em><br>::: tips<br><strong>ä½¿ç”¨æ³¨è§£é¡»çŸ¥:</strong></p><ol><li>å¯¼å…¥çº¦æŸ contestçº¦æŸ<br><code>xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</code></li><li>é…ç½®æ³¨è§£çš„æ”¯æŒ<br><code>&lt;context:annotation-config/&gt;</code><br>:::<br>å®˜ç½‘ç»™å‡ºçš„xml:<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">        https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¼€å¯æ³¨è§£æ”¯æŒ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>==å’Œå‰é¢çš„xmlè¿˜æ˜¯æœ‰ç‚¹å·®åˆ«çš„.==<br>åœ¨ideaä¸­å¯ä»¥åœ¨åŸå…ˆçš„åŸºç¡€ä¸Šå†™ä¸Š<code>&lt;context:annotation-config/&gt;</code>,ideaä¼šè‡ªåŠ¨å¯¼å…¥çº¦æŸ.</li></ol><p>è·¯å¾„:<code>/spring-study/spring-05-autowired</code><br>è¿™é‡Œæ˜¯ç›´æ¥ä¿®æ”¹å‰é¢çš„xml.</p><p>ç°åœ¨å‘¢,åœ¨<code>beans.xml</code>çš„é…ç½®å°±éå¸¸çš„ç®€æ´äº†<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">        https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;cat&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.li.pojo.Cat&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dog&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.li.pojo.Dog&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;people&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.li.pojo.People&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><br>ç„¶ååœ¨<code>people.class</code>ä¸­æ·»åŠ æ³¨é‡Š<code>@Autowired</code><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">People</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> Cat cat;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> Dog dog;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>==è¿™é‡Œçš„<code>@Autowired</code>æ˜¯å…ˆé€šè¿‡Typeæ³¨å…¥,åé€šè¿‡Nameæ³¨å…¥==</p><p>è¿™ä¸ª<code>@Autowired</code>éå¸¸çš„nice.å†…éƒ¨æ˜¯é€šè¿‡åå°„å®ç°çš„.æ‰€ä»¥åœ¨<code>people</code>ç±»ä¸­ç”šè‡³<code>cat,dog</code>å¯¹åº”çš„setæ–¹æ³•éƒ½å¯ä»¥çœç•¥æ‰.ä½†æ˜¯ <strong>å®˜æ–¹æ¨èè¦æœ‰setæ–¹æ³•</strong></p><h5 id="æ³¨é‡Š-Autowiredçš„ç”¨æ³•æ€»ç»“"><a href="#æ³¨é‡Š-Autowiredçš„ç”¨æ³•æ€»ç»“" class="headerlink" title="æ³¨é‡Š@Autowiredçš„ç”¨æ³•æ€»ç»“"></a>æ³¨é‡Š<code>@Autowired</code>çš„ç”¨æ³•æ€»ç»“</h5><pre><code>ç›´æ¥åœ¨å±æ€§ä¸Šä½¿ç”¨å³å¯,ä¹Ÿæ”¯æŒåœ¨å¯¹åº”çš„setæ–¹æ³•ä¸Šä½¿ç”¨ä½¿ç”¨@Autowiredåå¯ä»¥ä¸ç¼–å†™setæ–¹æ³•,ä½†å®˜æ–¹æ¨èå†™ä¸Š</code></pre><p><strong><code>@Autowired</code>å…ˆé€šè¿‡ByTypeè¿›è¡Œè£…é…,ä¸æˆåŠŸå†è¿›è¡ŒByNameè£…é…</strong></p><p>==ç§‘æ™®:==<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@Nullable è¿™ä¸ªæ³¨è§£æ ‡è®°çš„å­—æ®µå¯ä»¥ä¸ºnull</span><br><span class="line">è¿™ä¸ªæ³¨è§£å¥½åƒåªæ˜¯ä¸ºäº†ç»•è¿‡ç¼–è¯‘å™¨.åœ¨è¿è¡Œè¿‡ç¨‹ä¸­æ²¡æœ‰ä»»ä½•ç”¨å¤„</span><br></pre></td></tr></table></figure><br>è€Œåœ¨<code>@Autowired</code>æºç <br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Autowired &#123;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">required</span><span class="params">()</span> <span class="keyword">default</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>å¦‚æœæˆ‘ä»¬æ˜¾å¼çš„å®šä¹‰<code>@Autowired</code>æˆè¿™ä¸ªæ ·å­:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired(required = false)</span></span><br><span class="line"><span class="keyword">private</span> Cat cat;</span><br></pre></td></tr></table></figure><br><strong>è¿™æ ·åšå³ä½¿æ˜¯<code>@Autowired</code>æ‰¾ä¸åˆ°æ³¨å…¥çš„å¯¹è±¡ä¹Ÿä¸ä¼šæŠ›å‡ºå¼‚å¸¸</strong></p><p>æœªå®Œå¾…ç»­â€¦</p>]]></content>
      
      
      <categories>
          
          <category> SSM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>spring5-day1</title>
      <link href="/2023/01/12/SSM%E5%AD%A6%E4%B9%A0/spring5-day1/"/>
      <url>/2023/01/12/SSM%E5%AD%A6%E4%B9%A0/spring5-day1/</url>
      
        <content type="html"><![CDATA[<div class="note info simple"><p><strong>å¼€æ–°å‘äº†~</strong>.<br>è·Ÿç€ç‹‚ç¥å­¦ä¹ spring5<br><a href="https://www.bilibili.com/video/BV1WE411d7Dv?p=1">ç‹‚ç¥bç«™è§†é¢‘</a></p></div><h2 id="1-spring5"><a href="#1-spring5" class="headerlink" title="1.spring5"></a>1.spring5</h2><h3 id="1-1-IOCç†è®ºæ¨å¯¼"><a href="#1-1-IOCç†è®ºæ¨å¯¼" class="headerlink" title="1.1 IOCç†è®ºæ¨å¯¼"></a>1.1 IOCç†è®ºæ¨å¯¼</h3><p>è·¯å¾„:<code>spring-study/spring-01-ioc1</code></p><p>åœ¨UserServiceImplä¸­,æˆ‘ä»¬æ˜¯ç›´æ¥å†™æ­»äº†è¿™å¥è¯<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">UserDao</span> <span class="variable">userDao</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserDaoImpl</span>();</span><br></pre></td></tr></table></figure><br>å¾ˆæ˜¾ç„¶,å¦‚æœç”¨æˆ·éœ€æ±‚æ”¹å˜äº†,æˆ‘ä»¬å°±è¦å›åˆ°è¿™é‡Œä¿®æ”¹è¿™å¥è¯.</p><p>ç°åœ¨æˆ‘ä»¬å¤šå†™äº†ä¸€ä¸ªsetæ–¹æ³•:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ©ç”¨setæ¥å®ç°åŠ¨æ€å€¼æ³¨å…¥</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUserDao</span><span class="params">(UserDao userDao)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userDao = userDao;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><br>è¿™æ ·åœ¨ç”¨æˆ·å±‚é¢å°±å¯ä»¥è‡ªå·±åŠ¨æ€é€‰æ‹©è‡ªå·±æƒ³è¦çš„æ¥å£.</p><p><strong>è¿™ç‚¹è½¬å˜,å°±æ˜¯IOCçš„æ€æƒ³çš„ä½“ç°.</strong><br><mark>è¿™ç§æ€æƒ³,æœ¬è´¨ä¸Šè§£å†³äº†é—®é¢˜,ç¨‹åºå‘˜ä¸ç”¨å†å»ç®¡ç†å¯¹è±¡çš„åˆ›å»ºäº†.</mark><br>ç³»ç»Ÿçš„è€¦åˆæ€§å¤§å¤§é™ä½,äººå‘˜å¯ä»¥æ›´åŠ ä¸“æ³¨åœ¨ä¸šåŠ¡çš„å®ç°äº†.</p><p>::: warning<br><strong>æç¤º</strong><br>æ³¨æ„:ä¸Šé¢çš„ä¾‹å­åªæ˜¯ç”¨æ¥è¯´æ˜IOCæ€æƒ³.<br>:::</p><p>æ€æƒ³å›¾ç¤º:<br><img src="/spring5-day1/1.png" alt="IOC"></p><p>æ€»ç»“:<br>    æ§åˆ¶åè½¬æ˜¯ä¸€ç§é€šè¿‡æè¿°(XMILæˆ–æ³¨è§£)å¹¶é€šè¿‡ç¬¬ä¸‰æ–¹å»ç”Ÿäº§æˆ–è·å–ç‰¹å®šå¯¹è±¡çš„æ–¹å¼.<br>    åœ¨Springä¸­å®ç°æ§åˆ¶åè½¬çš„æ˜¯IoCå®¹å™¨,å…¶å®ç°æ–¹å¼æ˜¯ä¾èµ–æ³¨å…¥(DI).</p><h3 id="1-2-HelloSpringç¼–å†™"><a href="#1-2-HelloSpringç¼–å†™" class="headerlink" title="1.2 HelloSpringç¼–å†™"></a>1.2 HelloSpringç¼–å†™</h3><p>è·¯å¾„:<code>spring-study/spring-02-hellospring</code></p><h4 id="1-2-1å…ˆç¼–å†™ä¸€ä¸ªç®€å•çš„pojoç±»"><a href="#1-2-1å…ˆç¼–å†™ä¸€ä¸ªç®€å•çš„pojoç±»" class="headerlink" title="1.2.1å…ˆç¼–å†™ä¸€ä¸ªç®€å•çš„pojoç±»:"></a>1.2.1å…ˆç¼–å†™ä¸€ä¸ªç®€å•çš„pojoç±»:</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.li.pojo;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> IH</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/5/10 21:38</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String str;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getStr</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> str;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setStr</span><span class="params">(String str)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.str = str;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;str=&#x27;&quot;</span> + str + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-2-2-é…ç½®springç›¸å…³çš„å…ƒæ•°æ®"><a href="#1-2-2-é…ç½®springç›¸å…³çš„å…ƒæ•°æ®" class="headerlink" title="1.2.2 é…ç½®springç›¸å…³çš„å…ƒæ•°æ®"></a>1.2.2 é…ç½®springç›¸å…³çš„å…ƒæ•°æ®</h4><p>åœ¨resourcesä¸‹æ–°å»ºä¸€ä¸ª<code>beans.xml</code><br>åœ¨<a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-metadata">å®˜ç½‘</a>ä¸Šæ‹·è´ä»¥ä¸‹å†…å®¹è¿›å»<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;...&quot;</span> <span class="attr">class</span>=<span class="string">&quot;...&quot;</span>&gt;</span>  </span><br><span class="line">        <span class="comment">&lt;!-- collaborators and configuration for this bean go here --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;...&quot;</span> <span class="attr">class</span>=<span class="string">&quot;...&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- collaborators and configuration for this bean go here --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- more bean definitions go here --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><br>==å¹³æ—¶çš„æ—¶å€™å¯ä»¥ç›´æ¥è¿™æ ·åˆ›å»º:==<br><img src="/spring5-day1/2.jpg" alt="springçš„xml"></p><h4 id="3-ä¿®æ”¹beans-xml"><a href="#3-ä¿®æ”¹beans-xml" class="headerlink" title="3.ä¿®æ”¹beans.xml"></a>3.ä¿®æ”¹<code>beans.xml</code></h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ä½¿ç”¨Springæ¥åˆ›å»ºå¯¹è±¡,åœ¨Springä¸­,è¿™äº›éƒ½è¢«ç§°ä¸ºBean--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;hello&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.li.pojo.Hello&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;str&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Spring&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="4-ç¼–å†™å¯¹åº”çš„ç”¨æˆ·ä»£ç "><a href="#4-ç¼–å†™å¯¹åº”çš„ç”¨æˆ·ä»£ç " class="headerlink" title="4.ç¼–å†™å¯¹åº”çš„ç”¨æˆ·ä»£ç "></a>4.ç¼–å†™å¯¹åº”çš„ç”¨æˆ·ä»£ç </h4><p>å®˜ç½‘æä¾›äº†springå¯¹åº”çš„å®ä¾‹åŒ–å®¹å™¨çš„ä»£ç :<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;services.xml&quot;</span>, <span class="string">&quot;daos.xml&quot;</span>);</span><br></pre></td></tr></table></figure><br>å¾ˆæ˜¾ç„¶è¿™é‡Œæˆ‘ä»¬æ²¡æœ‰è¿™ä¸¤ä¸ªæ–‡ä»¶<code>&quot;services.xml&quot;, &quot;daos.xml&quot;</code>.æ‰€ä»¥æ›¿æ¢æˆ<code>beans.xml</code>å°±å¯ä»¥äº†.<br>è¿™å¥è¯çš„æ„ä¹‰: è·å–springçš„ä¸Šä¸‹æ–‡å¯¹è±¡.<br>æœ‰ä»€ä¹ˆç”¨å‘¢:å¦‚æœæˆ‘ä»¬è¦å»ä½¿ç”¨beansä¸­çš„å¯¹è±¡,ç›´æ¥ä»<code>context</code>ä¸­å–å‡ºæ¥å°±å¯ä»¥äº†.<br>å°±åƒè¿™æ ·:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Hello</span> <span class="variable">hello</span> <span class="operator">=</span> (Hello)context.getBean(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">hello.toString();</span><br></pre></td></tr></table></figure><br>è¿™é‡Œå°±å¾ˆæ˜æ˜¾å¯ä»¥çœ‹å‡º<strong>æ§åˆ¶åè½¬</strong>çš„è¿‡ç¨‹:</p><pre><code>helloå¯¹è±¡æ˜¯ç”±Springåˆ›å»º-&gt;çœ‹beans.xmlä¸­çš„beanæ ‡ç­¾å°±çŸ¥é“helloå¯¹è±¡çš„å±æ€§ä¹Ÿæ˜¯ç”±Springå®¹å™¨è®¾ç½®çš„-&gt;beanæ ‡ç­¾ä¸‹çš„property.</code></pre><blockquote><p>==æç¤º:==<br>propertyä¸­ä¸ä»…å¯ä»¥ç”¨ valueæ¥æŒ‡å®š<strong>åŸºæœ¬æ•°æ®ç±»å‹</strong><br>è¿˜å¯ä»¥é€šè¿‡refæ¥å¼•ç”¨Springå®¹å™¨ä¸­åˆ›å»ºå¥½çš„<strong>å¯¹è±¡</strong></p></blockquote><p>åœ¨è§†é¢‘5ä¸­,è¿˜å°†spring-01-ioc1ä¿®æ”¹æˆspringäº†.</p><p><strong>ç†è§£</strong>:</p><pre><code>æˆ‘ä»¬å½»åº•ä¸ç”¨å»ç¨‹åºä¸­ä¿®æ”¹ä»£ç ,è¦å®ç°ä¸åŒçš„æ“ä½œ,åªéœ€è¦åœ¨xmlé…ç½®ä¿¡æ¯ä¸­è¿›è¡Œä¿®æ”¹.æ‰€è°“çš„IoC:ä¸€å¥è¯: å¯¹è±¡ç”±Springæ¥åˆ›å»º,ç®¡ç†,è£…é…!</code></pre><h3 id="Spring-Beanå‚æ•°çš„ä¸‰ç§æ³¨å…¥æ–¹å¼"><a href="#Spring-Beanå‚æ•°çš„ä¸‰ç§æ³¨å…¥æ–¹å¼" class="headerlink" title="Spring Beanå‚æ•°çš„ä¸‰ç§æ³¨å…¥æ–¹å¼"></a>Spring Beanå‚æ•°çš„ä¸‰ç§æ³¨å…¥æ–¹å¼</h3><p>è·¯å¾„:<code>spring-study/spring-03-ioc2</code></p><p><strong>é»˜è®¤</strong>ä¸º==ä½¿ç”¨æ— å‚æ„é€ åˆ›å»ºå¯¹è±¡==.</p><p>å¦‚æœè¦æƒ³ä½¿ç”¨æœ‰å‚æ„é€ å‘¢?<br>å®˜ç½‘æä¾›äº†ä¸‰ç§æ–¹å¼:</p><ol><li><p>é€šè¿‡å‚æ•°ä¸‹æ ‡èµ‹å€¼çš„æ–¹å¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.li.pojo.User&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;0&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xx&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>:è¿™é‡Œçš„ä¸‹æ ‡æ˜¯ä»<strong>0å¼€å§‹çš„</strong>.</p></li><li><p>é€šè¿‡å‚æ•°çš„ç±»å‹è¿›è¡Œèµ‹å€¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.li.pojo.User&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">type</span>=<span class="string">&quot;java.lang.String&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xx&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>:<br>a.åŸºæœ¬ç±»å‹å¯ä»¥ç›´æ¥å†™,åƒStringè¿™æ ·çš„==å¼•ç”¨ç±»å‹å°±è¦ç”¨å…¨é™å®šå==.<br>b.å¦‚æœç±»å‹ç›¸åŒ,å°±æŒ‰ç…§é¡ºåºæ¥èµ‹å€¼.  </p></li><li><p>ç›´æ¥é€šè¿‡å‚æ•°å(ç”¨çš„æœ€çˆ½)</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.li.pojo.User&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xx&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><p>==å¦ä¸€ä¸ªçŸ¥è¯†ç‚¹:==<br>æ‰€æœ‰åœ¨<code>beans.xml</code>ä¸­æ³¨å†Œè¿‡çš„å¯¹è±¡.<br>åœ¨ä»£ç æ‰§è¡Œåˆ°<code>new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);</code>æ—¶,éƒ½<strong>åœ¨å®¹å™¨ä¸­åˆ›å»ºäº†ä¸€ä»½,ä¸”ä»…ä¸€ä»½</strong>.</p><h3 id="Spring-bean-xmlçš„é…ç½®"><a href="#Spring-bean-xmlçš„é…ç½®" class="headerlink" title="Spring bean.xmlçš„é…ç½®"></a>Spring bean.xmlçš„é…ç½®</h3><p>è·¯å¾„:<code>spring-study/spring-03-ioc2</code></p><h4 id="1-åˆ«å-alias"><a href="#1-åˆ«å-alias" class="headerlink" title="1.åˆ«å(alias)"></a>1.åˆ«å(alias)</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">alias</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span> <span class="attr">alias</span>=<span class="string">&quot;userNew&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>æ·»åŠ äº†åˆ«å,å°±ä¹Ÿå¯ä»¥é€šè¿‡åˆ«åæ¥è·å–è¿™ä¸ªå¯¹è±¡.<br>ä¸€å¯¹ä¸€çš„</p><h4 id="2-Beançš„é…ç½®"><a href="#2-Beançš„é…ç½®" class="headerlink" title="2.Beançš„é…ç½®"></a>2.Beançš„é…ç½®</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">id: bean çš„å”¯ä¸€æ ‡è¯†ç¬¦. ç›¸å½“äºæˆ‘ä»¬å­¦çš„å¯¹è±¡å</span></span><br><span class="line"><span class="comment">class: bean å¯¹è±¡æ‰€å¯¹åº”çš„å…¨é™å®šå</span></span><br><span class="line"><span class="comment">name: ä¹Ÿæ˜¯åˆ«å,è€Œä¸”å¯ä»¥å–å¤šä¸ªåˆ«å,è€Œä¸”å¯ä»¥ç”¨å¾ˆå¤šç§åˆ†å‰²ç¬¦å·(å®Œè™alias)</span></span><br><span class="line"><span class="comment">...</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.li.pojo.User&quot;</span> <span class="attr">name</span>=<span class="string">&quot;user2 u3,s3&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æè¾‰&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-import-å›¢é˜Ÿ"><a href="#3-import-å›¢é˜Ÿ" class="headerlink" title="3.import(å›¢é˜Ÿ)"></a>3.import(å›¢é˜Ÿ)</h4><p>importç”¨äº<strong>å›¢é˜Ÿå¼€å‘</strong>.å®ƒå¯ä»¥å°†å¤šä¸ªé…ç½®æ–‡ä»¶,å¯¼å…¥åˆå¹¶æˆä¸ºä¸€ä¸ªæ€»é…ç½®.</p><p>è¿™ä¸ªå°±ä¸æ¼”ç¤ºäº†.</p><p>é…ç½®è®²å®Œäº†,å¾ˆæ˜¾ç„¶è¿™åªæ˜¯è¡¨è±¡,ä¸ç„¶Springä¹Ÿå°±ä¸é…ç§°ä¸ºâ€é…ç½®ç‚¼ç‹±â€.</p>]]></content>
      
      
      <categories>
          
          <category> SSM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬”è®°å¸ƒå±€è¦æ±‚</title>
      <link href="/2023/01/12/%E7%AC%94%E8%AE%B0%E5%B8%83%E5%B1%80%E8%A6%81%E6%B1%82/"/>
      <url>/2023/01/12/%E7%AC%94%E8%AE%B0%E5%B8%83%E5%B1%80%E8%A6%81%E6%B1%82/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><font size=4><b>å‰è¨€ğŸ“</b></font><p>è®°å½•å„ç§ç¬”è®°çš„æ ¼å¼è¦æ±‚.<br>ä¸€èˆ¬è¿½æ±‚ç®€å•,å®ç”¨.<br>å†™åœ¨è¿™æ˜¯ä¸ºäº†é˜²æ­¢å¿˜è®°.</p></div><div class="note warning flat"><p>æœ¬æ–‡ç”¨äºè®°å½•ä¸ªäººç¬”è®°ä¹ æƒ¯,ä»…ä¾›å‚è€ƒ.</p></div><h4 id="1-1-OneNoteæ ¼å¼è¦æ±‚"><a href="#1-1-OneNoteæ ¼å¼è¦æ±‚" class="headerlink" title="1.1 OneNoteæ ¼å¼è¦æ±‚"></a>1.1 OneNoteæ ¼å¼è¦æ±‚</h4><ol><li>é¡µé¢å¤§æ ‡é¢˜ åæ–‡ä¸­å®‹ 28</li><li>åˆ†å—å¤§æ ‡é¢˜ åæ–‡ä¸­å®‹ 24</li><li>åˆ†å—å°æ ‡é¢˜ é»‘ä½“ 16,18å·¦å³</li><li>æ­£æ–‡ é»‘ä½“ 14</li></ol><p>å¸¸ç”¨æ ‡è®°æœ‰ <mark>é«˜äº®æ–‡å­—</mark> <u>ä¸‹åˆ’çº¿</u> <strong>åŠ é‡</strong> ä¸‰ç§.<br>ä¸­æ–‡å’Œè‹±æ–‡ä¹‹é—´åŠ ç©ºæ ¼<br><div class="note blue no-icon flat"><p>ä¸ºäº†æ•´ä½“ç¾è§‚,æŸäº›æ­£æ–‡ä¹Ÿä¼šåŠ åˆ°16,18å·¦å³.</p></div></p>]]></content>
      
      
      <categories>
          
          <category> ä¹ æƒ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä¹ æƒ¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢ç¾åŒ–(ä¸€)</title>
      <link href="/2023/01/11/%E5%8D%9A%E5%AE%A2%E7%BE%8E%E5%8C%96/%E5%8D%9A%E5%AE%A2%E7%BE%8E%E5%8C%96-%E4%B8%80/"/>
      <url>/2023/01/11/%E5%8D%9A%E5%AE%A2%E7%BE%8E%E5%8C%96/%E5%8D%9A%E5%AE%A2%E7%BE%8E%E5%8C%96-%E4%B8%80/</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><font size=4><b>å‰è¨€ğŸ“</b></font><p>å®ŒæˆHexoåšå®¢çš„å†æ­å»º,åœ¨å­¦ä¹ <a href="https://www.fomal.cc/">FomalhautğŸ¥</a>å¤§ç¥è§†é¢‘åæˆåŠŸé­”æ”¹è‡ªå·±çš„åšå®¢é¦–é¡µ.</p></div><h2 id="1-ç¾åŒ–è¿›åº¦æŠ¥å‘Š"><a href="#1-ç¾åŒ–è¿›åº¦æŠ¥å‘Š" class="headerlink" title="1.ç¾åŒ–è¿›åº¦æŠ¥å‘Š"></a>1.ç¾åŒ–è¿›åº¦æŠ¥å‘Š</h2><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>æ–‡ç« ç½®é¡¶æ»šåŠ¨æ (åº—é•¿)</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>å¤–æŒ‚æ ‡ç­¾çš„å¼•å…¥ï¼ˆåº—é•¿ï¼‰</p>            </div><p>æœ‰äº†å¤–æŒ‚æ ‡ç­¾,æ”¯æŒéå¸¸å¤šçš„æ–‡ç« æ ·å¼</p><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>æŒ‰é”®é˜²æŠ–</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>Vue + Elementæ ·å¼å¼¹çª—</p>            </div><p>é…åˆæŒ‰é”®é˜²æŠ–=&gt; ä¸åŒæŒ‰é”®å‡ºç°ä¸åŒååº”(å¤åˆ¶å¼¹çª—)</p><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>é…ç½®æ‰‹æœºPCé¡µé¢ç™½å¤©é»‘å¤œå…±å››ä¸ªèƒŒæ™¯å›¾(åº—é•¿)</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>PDF æ’ä»¶å®‰è£…</p>            </div><p>æˆ‘è¿™éœ€è¦å°† ejs å‡çº§åˆ° 2.5.5ä»¥ä¸Š</p><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>å®½å±é€‚é…</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>æ–‡ç« ä¸‰æ (éœ€è¦å¾®è°ƒ)</p>            </div><p>ä½¿ç”¨æ–‡ç« ä¸‰æ ä¸å¯ä½¿ç”¨ æ–‡ç« åŒä¾§æ æ˜¾ç¤º(å°å†°) </p><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>å³è¾¹æŒ‰é’®é˜…è¯»è¿›åº¦ï¼ˆLeonusï¼‰</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>ç›´è¾¾åº•éƒ¨æŒ‰é’®</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>æ–‡ç« é¡µé¡¶éƒ¨æ³¢æµªçº¿</p>            </div><p>å®Œæˆäº†,è¿˜æœªå¾®è°ƒ css ä¸­<code>fill</code>å±æ€§.æ„Ÿè§‰æœ‰ç‚¹çªå…€</p><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>ç™½å¤©é›ªèŠ±ç‰¹æ•ˆ</p>            </div><p>ä¸ªäººæ„Ÿè§‰è¦å»æ‰¾æ›´é’Ÿæ„çš„ä¸‹è½ç‰¹æ•ˆ</p><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>å¯¼èˆªæ é­”æ”¹å¢å¼ºç‰ˆ(LYX)</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>é¡µé¢æ ·å¼è°ƒèŠ‚</p>            </div><p>é¡µé¢è¦ç»å¸¸è°ƒèŠ‚</p><h2 id="é˜¶æ®µæ€§æ€»ç»“ä¸€-23-1-13"><a href="#é˜¶æ®µæ€§æ€»ç»“ä¸€-23-1-13" class="headerlink" title="é˜¶æ®µæ€§æ€»ç»“ä¸€ 23/1/13"></a>é˜¶æ®µæ€§æ€»ç»“ä¸€ 23/1/13</h2><p>é¡µé¢é…ç½®åœ¨æˆ‘è¿ç»­ä¸¤å¤©æ‘¸ç€å¤§ä½¬<a href="https://www.fomal.cc/">FomalhautğŸ¥</a>æ–‡ç« ç»ˆäºç®—çš„ä¸Šæ˜¯çœ‹çš„è¿‡å»äº†.</p><p>å¾…è§£å†³é—®é¢˜:</p><ul><li>å­—ä½“å­—å·</li><li>æ–‡ç« ç½®é¡¶æ»šåŠ¨æ (æˆ‘å¸Œæœ›æ˜¯æ¨ªå‘æ»šåŠ¨çš„)</li><li>é¦–é¡µåˆ†ç±»ç£è´´(å°å†°)å®‰è£…</li><li>å³ä¾§åŠŸèƒ½æ  æ›´åŠ ä¸°å¯Œä¸€äº›</li><li>é˜…è¯»æ¨¡å¼</li><li>å…¶ä»–é¡µé¢çš„é…ç½®</li></ul><p>ç­‰ä¸‹æ¬¡æœ‰æœºä¼šå†è¿›ä¸€æ­¥ä¿®æ”¹å§!</p>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¡µé¢ç¾åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
